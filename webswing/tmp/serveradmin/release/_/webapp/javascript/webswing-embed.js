!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=388)}([function(t,e,n){var r=n(3),o=n(14).f,i=n(18),a=n(15),s=n(85),l=n(112),c=n(53);t.exports=function(t,e){var n,u,d,p,f,h=t.target,g=t.global,y=t.stat;if(n=g?r:y?r[h]||s(h,{}):(r[h]||{}).prototype)for(u in e){if(p=e[u],d=t.noTargetGet?(f=o(n,u))&&f.value:n[u],!c(g?u:h+(y?".":"#")+u,t.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&i(p,"sham",!0),a(n,u,p,t)}}},function(t,e,n){"use strict";function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,l,"next",t)}function l(t){a(i,r,o,s,l,"throw",t)}s(void 0)}))}}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var c;n.d(e,"a",(function(){return g})),n.d(e,"c",(function(){return y})),n.d(e,"y",(function(){return v})),n.d(e,"q",(function(){return w})),n.d(e,"s",(function(){return b})),n.d(e,"o",(function(){return m})),n.d(e,"v",(function(){return O})),n.d(e,"h",(function(){return P})),n.d(e,"f",(function(){return k})),n.d(e,"i",(function(){return S})),n.d(e,"d",(function(){return I})),n.d(e,"n",(function(){return E})),n.d(e,"w",(function(){return T})),n.d(e,"b",(function(){return j})),n.d(e,"g",(function(){return x})),n.d(e,"m",(function(){return M})),n.d(e,"p",(function(){return A})),n.d(e,"x",(function(){return D})),n.d(e,"r",(function(){return C})),n.d(e,"l",(function(){return F})),n.d(e,"j",(function(){return R})),n.d(e,"B",(function(){return L})),n.d(e,"u",(function(){return W})),n.d(e,"k",(function(){return _})),n.d(e,"A",(function(){return H})),n.d(e,"D",(function(){return q})),n.d(e,"E",(function(){return z})),n.d(e,"e",(function(){return J})),n.d(e,"t",(function(){return Y})),n.d(e,"C",(function(){return X})),n.d(e,"z",(function(){return G}));var u,d,p,f=null,h=!1,g=(u=null,d=null,p=0,{fetch:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f;null==n&&(n=7e3);var r=new AbortController,i=setTimeout((function(){return r.abort()}),n);u&&0===p&&u(),p++;var a=fetch(t,o(o({},e),{},{signal:r.signal}));return a.then((function(){clearTimeout(i),p--,d&&0===p&&d()})).catch((function(){clearTimeout(i),p--,d&&0===p&&d()})),a})),onFetchStart:function(t){u=t},onFetchComplete:function(t){d=t}});function y(t){var e=function(e){return t.translate(e)};return{webswingLogin:n,webswingLogout:function(t,n,r,a,l,u){i(t,(function(){!function(t,n,r,i,a,l){var u=c,d={"X-Requested-With":"XMLHttpRequest"};null!=u&&u.length&&(d.Authorization="Bearer "+u);var p=w();p&&p.length&&(d["X-webswing-securitySuffix"]=p);g.fetch(t+"logout",{method:"GET",headers:d,credentials:"include"}).then((function(t){t.text().then((function(t){var c;if(a||localStorage.setItem("webswingLogout",Date.now().toString()),c="function"==typeof n?n():n,null!=t){s();var u={};try{u=JSON.parse(t)}catch(t){return console.error(t),void i()}if(l&&window.close(),null!=u.redirectUrl)return void(window.top.location.href=u.redirectUrl);null!=u.partialHtml?o(c,e(u.partialHtml)):(console.error("WebswingLogin: Unexpected response:"+JSON.stringify(u)),r())}else i()}))})).catch((function(t){console.error(t),a||localStorage.setItem("webswingLogout",Date.now().toString()),i()}))}(t,n,r,a,l,u)}))},refreshLogin:function(t,e){i(t,(function(){!function(t,e){var n={"X-Requested-With":"XMLHttpRequest"};null!=c&&c.length&&(n.Authorization="Bearer "+c);var r=w();r&&r.length&&(n["X-webswing-securitySuffix"]=r);g.fetch(t+"rest/refreshLogin",{method:"POST",headers:n,credentials:"include"}).then((function(t){t.text().then((function(){var n=!1;t.ok&&(n=!0),e&&e(n,!1)}))})).catch((function(t){console.error(t),e&&e(!1,!0)}))}(t,e)}))},getToken:b};function n(t,s,u,d,p){i(t,(function(){!function(t,i,s,u,d){var p={"X-Requested-With":"XMLHttpRequest","Content-Type":"object"===l(s)?"application/json":"application/x-www-form-urlencoded"};null!=c&&c.length&&(p.Authorization="Bearer "+c);var f=w();f&&f.length&&(p["X-webswing-securitySuffix"]=f);g.fetch(t+"login",{method:"POST",headers:p,credentials:"include",body:"object"!==l(s)?s:JSON.stringify(s)}).then((function(s){s.text().then((function(l){if(s.ok)h=!0,l&&a(l),null!=u&&u(l,s.headers.get("webswingUsername"));else{if(v()&&!h)return void window.close();var c;if(null!=l){c="function"==typeof i?i():i;var p={};try{p=JSON.parse(l)}catch(t){return console.error(t),void r(i,d)}if(null!=p.redirectUrl)window.top.location.href=p.redirectUrl;else if(null!=p.partialHtml){o(c,e(p.partialHtml));var f=c.querySelector("form");f.addEventListener("submit",(function(e){var r=L(f);c.querySelectorAll("#progress")[0].style.display="",n(t,c,r,u),e.preventDefault()}))}else console.error("WebswingLogin: Unexpected response:"+JSON.stringify(p)),r(i,d)}else r(i,d)}}))})).catch((function(t){console.error(t),r(i,d)}))}(t,s,u,d,p)}))}function r(t,n){null!=n?n():o("function"==typeof t?t():t,e("<p>${login.serverNotAvailable}</p>"))}function o(t,e){var n,r;r=e,(n=t).innerHTML=r,Array.from(n.querySelectorAll("script")).forEach((function(t){var e,n=document.createElement("script");Array.from(t.attributes).forEach((function(t){return n.setAttribute(t.name,t.value)})),n.appendChild(document.createTextNode(t.innerHTML)),null===(e=t.parentNode)||void 0===e||e.replaceChild(n,t)}));var o=H(t,".ws-modal-container[data-id=commonDialog]");0!==o.length&&o[0].setAttribute("data-type","login")}function i(t,e){var n={"X-Requested-With":"XMLHttpRequest"},r=w();r&&r.length&&(n["X-webswing-securitySuffix"]=r),g.fetch(t+"rest/refreshToken",{method:"POST",headers:n,credentials:"include"}).then((function(t){t.text().then((function(n){var r=!1;t.ok&&n?(a(n),r=!0):s(),e&&e(r,!1)}))})).catch((function(t){console.error(t),e&&e(!1,!0)}))}function a(t){var e=JSON.parse(t);c=e.accessToken}function s(){c=null}}function v(){return window.name.startsWith("tid_u_")&&window.name.split("-").length>1}function w(){return window.name&&"tid_"===window.name.substr(0,4)||(window.name="tid_"+j()),window.name.startsWith("tid_u_")?window.name.split("-")[2]:window.name}function b(){return c||""}function m(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.href);return null==e?void 0:decodeURIComponent(e[1])}function O(){return"ArrayBuffer"in window&&-1!==ArrayBuffer.toString().indexOf("[native code]")}function P(){var t=window.navigator.userAgent,e=t.indexOf("MSIE ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("Trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("Edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)}function k(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)}function S(){return navigator.platform.toUpperCase().indexOf("MAC")>=0}function I(){if(navigator.cookieEnabled)return!0;document.cookie="cookietest=1";var t=-1!==document.cookie.indexOf("cookietest=");return document.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",t}function E(t){var e;if("string"==typeof t)e=t;else if("object"===l(t)){for(var n="",r=0,o=t.byteLength;r<o;r++)n+=String.fromCharCode(t[r]);e=window.btoa(n)}return"data:image/png;base64,"+e}function T(){return-1!==["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].indexOf(navigator.platform)||-1!==navigator.userAgent.indexOf("Mac")&&"ontouchend"in document}function j(){var t=function(){return Math.floor(65536*Math.random()).toString(16)};return t()+t()+t()}function x(){return navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function M(){return Math.ceil(window.devicePixelRatio)||1}function A(){return window.devicePixelRatio}function D(){return"ontouchstart"in window}function C(){var t,e=Intl.DateTimeFormat().resolvedOptions().timeZone;return e||"GMT"+((t=(new Date).getTimezoneOffset())<0?"+":"-")+B(Math.abs(t/60),2)+B(Math.abs(t%60),2)}function F(t){if(0!==t.toLowerCase().indexOf("http")){var e=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),n=t;if(0!==n.indexOf("/")){var r=document.location.pathname;n=r.lastIndexOf("/")===r.length-1?r+n:r.substring(0,r.lastIndexOf("/")+1)+n}t=e+n}return t}function B(t,e){for(var n=""+t;n.length<e;)n="0"+n;return n}function R(t,e){var n,r={};for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function L(t){var e=[];return t.querySelectorAll("[name]").forEach((function(t){var n=t;e.push(n.name+"="+encodeURIComponent(n.value))})),e.join("&")}function W(t){return U.apply(this,arguments)}function U(){return(U=s(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null==f){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,g.fetch(e);case 5:(n=t.sent)&&n.ok&&n.text().then((function(t){if(t){var e=parseInt(t);e&&Number.isInteger(e)&&(f=e)}})),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.error("Error while initializing fetch timeout!"),console.error(t.t0);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})))).apply(this,arguments)}function _(t,e){return N.apply(this,arguments)}function N(){return(N=s(regeneratorRuntime.mark((function t(e,n){var r,o,i,a,s,l,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],o="Authorization",i={"X-Requested-With":"XMLHttpRequest","Content-Type":"application/json"},null!=c&&c.length&&(i[o]="Bearer "+c),(a=w())&&a.length&&(i["X-webswing-securitySuffix"]=a),s={method:n,headers:i,credentials:"include"},t.next=9,g.fetch(e,s);case 9:return l=t.sent,t.abrupt("return",r?l.text():l.json());case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function H(t,e){var n=[];if(t)for(var r=t,o=void 0!==e;null!==(r=r.parentElement);)r.nodeType===Node.ELEMENT_NODE&&(o&&!r.matches(e)||n.push(r));return n}function q(t){for(var e=document.createDocumentFragment();t.firstChild;){var n=t.removeChild(t.firstChild);e.appendChild(n)}t.parentNode&&t.parentNode.replaceChild(e,t)}function z(t,e){e.parentNode&&(e.parentNode.insertBefore(t,e),t.appendChild(e))}function J(t){return t.parentElement?t.parentElement.removeChild(t):t}function Y(t){t.style.display="none"}function X(t,e){t.style.display=e||"block"}function G(t){return!(!t||null==t)&&!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){(function(e){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,n(49))},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r=n(3),o=n(88),i=n(11),a=n(51),s=n(92),l=n(115),c=o("wks"),u=r.Symbol,d=l?u:u&&u.withoutSetter||a;t.exports=function(t){return i(c,t)&&(s||"string"==typeof c[t])||(s&&i(u,t)?c[t]=u[t]:c[t]=d("Symbol."+t)),c[t]}},function(t,e,n){"use strict";var r,o=n(128),i=n(8),a=n(3),s=n(4),l=n(11),c=n(61),u=n(18),d=n(15),p=n(10).f,f=n(27),h=n(45),g=n(6),y=n(51),v=a.Int8Array,w=v&&v.prototype,b=a.Uint8ClampedArray,m=b&&b.prototype,O=v&&f(v),P=w&&f(w),k=Object.prototype,S=k.isPrototypeOf,I=g("toStringTag"),E=y("TYPED_ARRAY_TAG"),T=o&&!!h&&"Opera"!==c(a.opera),j=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},M={BigInt64Array:8,BigUint64Array:8},A=function(t){if(!s(t))return!1;var e=c(t);return l(x,e)||l(M,e)};for(r in x)a[r]||(T=!1);if((!T||"function"!=typeof O||O===Function.prototype)&&(O=function(){throw TypeError("Incorrect invocation")},T))for(r in x)a[r]&&h(a[r],O);if((!T||!P||P===k)&&(P=O.prototype,T))for(r in x)a[r]&&h(a[r].prototype,P);if(T&&f(m)!==P&&h(m,P),i&&!l(P,I))for(r in j=!0,p(P,I,{get:function(){return s(this)?this[E]:void 0}}),x)a[r]&&u(a[r],E,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:j&&E,aTypedArray:function(t){if(A(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(h){if(S.call(O,t))return t}else for(var e in x)if(l(x,r)){var n=a[e];if(n&&(t===n||S.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(i){if(n)for(var r in x){var o=a[r];o&&l(o.prototype,t)&&delete o.prototype[t]}P[t]&&!n||d(P,t,n?e:T&&w[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,o;if(i){if(h){if(n)for(r in x)(o=a[r])&&l(o,t)&&delete o[t];if(O[t]&&!n)return;try{return d(O,t,n?e:T&&v[t]||e)}catch(t){}}for(r in x)!(o=a[r])||o[t]&&!n||d(o,t,e)}},isView:function(t){if(!s(t))return!1;var e=c(t);return"DataView"===e||l(x,e)||l(M,e)},isTypedArray:A,TypedArray:O,TypedArrayPrototype:P}},function(t,e,n){var r=n(2);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){var r=n(24),o=Math.min;t.exports=function(t){return t>0?o(r(t),9007199254740991):0}},function(t,e,n){var r=n(8),o=n(110),i=n(5),a=n(28),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(i(t),e=a(e,!0),i(n),o)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){var r=n(17);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return l}));var s=function(){function t(e){r(this,t),this.i=e,a(this,"ready",void 0)}return i(t,[{key:"api",get:function(){return this.i.getInjected(this)}}]),t}(),l=function(){function t(){r(this,t),a(this,"registeredModules",{}),a(this,"modules",{}),a(this,"services",{}),a(this,"inject",{}),a(this,"ready",{})}return i(t,[{key:"addModule",value:function(t,e,n){null!=t&&null!=e&&null!=n&&(this.modules[t]={},this.registeredModules[t]=e,this.services[t]=this.expand(t,e.provides(),e),this.inject[t]=n,e.ready&&(this.ready[t]=e.ready))}},{key:"module",value:function(t,e){null!=e&&(this.modules[t]=e,null!=e.provides&&(this.services[t]=this.expand(t,e.provides)),null!=e.injects&&(this.inject[t]=e.injects),null!=e.ready&&(this.ready[t]=e.ready))}},{key:"injectAndVerify",value:function(){var t="";for(var e in this.inject)if(this.inject.hasOwnProperty(e))try{var n=this.modules[e].injected,r=this.injectObject(this.inject[e]);this.modules[e].injected=n?Object.assign(n,r):r}catch(n){if(!(n instanceof c))throw n;t+="\tModule "+e+" :\n"+n+"\n"}if(t.length>0)throw new c("Dependency injection errors:\n"+t);for(var o in this.ready)if(this.ready.hasOwnProperty(o))try{this.ready[o]()}catch(e){if(!(e instanceof c))throw e;t+="\tModule "+o+" ready function :\n"+e+"\n"}if(t.length>0)throw new c("Starting modules failed:\n"+t)}},{key:"getInjected",value:function(t){var e=this,n=Object.keys(this.registeredModules).find((function(n){return e.registeredModules[n]===t}));if(void 0===n||void 0===this.modules[n])throw new c("IllegalState: module has not been registered by injector.");var r=this.modules[n].injected;if(void 0===r)throw new c("IllegalState: Injection not finished yet.");return r}},{key:"expand",value:function(t,e,n){var r={};for(var o in e)if(e.hasOwnProperty(o)){var i=o.split(".");if(i.length<=1||i[0]!==t)throw new c("Provided service key'"+o+"' must start with owner module name '"+t+".'");var a=e[o],s="function"==typeof a&&n?a.bind(n):a;r[i.splice(1).join(".")]=s}return r}},{key:"injectObject",value:function(t){var e="",n={};for(var r in t)if(t.hasOwnProperty(r))try{var o=this.resolve(t[r]);n[r]=o}catch(t){if(!(t instanceof c))throw t;e+="\t\tField "+r+" not injected: "+t+"\n"}if(e.length>0)throw new c(e);return n}},{key:"resolve",value:function(t){try{return t.split(".").reduce((function(t,e){if(t.hasOwnProperty(e))return t[e];throw new Error}),this.services)}catch(e){throw new c("service "+t+" not found.")}}}]),t}(),c=function(){function t(e){r(this,t),a(this,"message",void 0),this.message=e}return i(t,[{key:"toString",value:function(){return this.message}}]),t}()},function(t,e,n){var r=n(8),o=n(65),i=n(33),a=n(19),s=n(28),l=n(11),c=n(110),u=Object.getOwnPropertyDescriptor;e.f=r?u:function(t,e){if(t=a(t),e=s(e,!0),c)try{return u(t,e)}catch(t){}if(l(t,e))return i(!o.f.call(t,e),t[e])}},function(t,e,n){var r=n(3),o=n(18),i=n(11),a=n(85),s=n(86),l=n(20),c=l.get,u=l.enforce,d=String(String).split("String");(t.exports=function(t,e,n,s){var l,c=!!s&&!!s.unsafe,p=!!s&&!!s.enumerable,f=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||i(n,"name")||o(n,"name",e),(l=u(n)).source||(l.source=d.join("string"==typeof e?e:""))),t!==r?(c?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=n:o(t,e,n)):p?t[e]=n:a(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e,n){var r=n(36),o=n(50),i=n(12),a=n(9),s=n(57),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,p=7==t,f=5==t||d;return function(h,g,y,v){for(var w,b,m=i(h),O=o(m),P=r(g,y,3),k=a(O.length),S=0,I=v||s,E=e?I(h,k):n||p?I(h,0):void 0;k>S;S++)if((f||S in O)&&(b=P(w=O[S],S,m),t))if(e)E[S]=b;else if(b)switch(t){case 3:return!0;case 5:return w;case 6:return S;case 2:l.call(E,w)}else switch(t){case 4:return!1;case 7:l.call(E,w)}return d?-1:c||u?u:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(8),o=n(10),i=n(33);t.exports=r?function(t,e,n){return o.f(t,e,i(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(50),o=n(17);t.exports=function(t){return r(o(t))}},function(t,e,n){var r,o,i,a=n(111),s=n(3),l=n(4),c=n(18),u=n(11),d=n(87),p=n(66),f=n(52),h=s.WeakMap;if(a){var g=d.state||(d.state=new h),y=g.get,v=g.has,w=g.set;r=function(t,e){return e.facade=t,w.call(g,t,e),e},o=function(t){return y.call(g,t)||{}},i=function(t){return v.call(g,t)}}else{var b=p("state");f[b]=!0,r=function(t,e){return e.facade=t,c(t,b,e),e},o=function(t){return u(t,b)?t[b]:{}},i=function(t){return u(t,b)}}t.exports={set:r,get:o,has:i,enforce:function(t){return i(t)?o(t):r(t,{})},getterFor:function(t){return function(e){var n;if(!l(e)||(n=o(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}}},function(t,e,n){var r=n(113),o=n(11),i=n(119),a=n(10).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,n){var r=n(17),o=/"/g;t.exports=function(t,e,n,i){var a=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(o,"&quot;")+'"'),s+">"+a+"</"+e+">"}},function(t,e,n){var r=n(2);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){var r=n(113),o=n(3),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?i(r[t])||i(o[t]):r[t]&&r[t][e]||o[t]&&o[t][e]}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){var r=n(11),o=n(12),i=n(66),a=n(97),s=i("IE_PROTO"),l=Object.prototype;t.exports=a?Object.getPrototypeOf:function(t){return t=o(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?l:null}},function(t,e,n){var r=n(4);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t,e){t.exports=!1},function(t,e,n){var r=n(10).f,o=n(11),i=n(6)("toStringTag");t.exports=function(t,e,n){t&&!o(t=n?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(8),a=n(107),s=n(7),l=n(127),c=n(38),u=n(33),d=n(18),p=n(9),f=n(129),h=n(146),g=n(28),y=n(11),v=n(61),w=n(4),b=n(35),m=n(45),O=n(40).f,P=n(147),k=n(16).forEach,S=n(46),I=n(10),E=n(14),T=n(20),j=n(73),x=T.get,M=T.set,A=I.f,D=E.f,C=Math.round,F=o.RangeError,B=l.ArrayBuffer,R=l.DataView,L=s.NATIVE_ARRAY_BUFFER_VIEWS,W=s.TYPED_ARRAY_TAG,U=s.TypedArray,_=s.TypedArrayPrototype,N=s.aTypedArrayConstructor,H=s.isTypedArray,q=function(t,e){for(var n=0,r=e.length,o=new(N(t))(r);r>n;)o[n]=e[n++];return o},z=function(t,e){A(t,e,{get:function(){return x(this)[e]}})},J=function(t){var e;return t instanceof B||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},Y=function(t,e){return H(t)&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},X=function(t,e){return Y(t,e=g(e,!0))?u(2,t[e]):D(t,e)},G=function(t,e,n){return!(Y(t,e=g(e,!0))&&w(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?A(t,e,n):(t[e]=n.value,t)};i?(L||(E.f=X,I.f=G,z(_,"buffer"),z(_,"byteOffset"),z(_,"byteLength"),z(_,"length")),r({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:X,defineProperty:G}),t.exports=function(t,e,n){var i=t.match(/\d+$/)[0]/8,s=t+(n?"Clamped":"")+"Array",l="get"+t,u="set"+t,g=o[s],y=g,v=y&&y.prototype,I={},E=function(t,e){A(t,e,{get:function(){return function(t,e){var n=x(t);return n.view[l](e*i+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,r){var o=x(t);n&&(r=(r=C(r))<0?0:r>255?255:255&r),o.view[u](e*i+o.byteOffset,r,!0)}(this,e,t)},enumerable:!0})};L?a&&(y=e((function(t,e,n,r){return c(t,y,s),j(w(e)?J(e)?void 0!==r?new g(e,h(n,i),r):void 0!==n?new g(e,h(n,i)):new g(e):H(e)?q(y,e):P.call(y,e):new g(f(e)),t,y)})),m&&m(y,U),k(O(g),(function(t){t in y||d(y,t,g[t])})),y.prototype=v):(y=e((function(t,e,n,r){c(t,y,s);var o,a,l,u=0,d=0;if(w(e)){if(!J(e))return H(e)?q(y,e):P.call(y,e);o=e,d=h(n,i);var g=e.byteLength;if(void 0===r){if(g%i)throw F("Wrong length");if((a=g-d)<0)throw F("Wrong length")}else if((a=p(r)*i)+d>g)throw F("Wrong length");l=a/i}else l=f(e),o=new B(a=l*i);for(M(t,{buffer:o,byteOffset:d,byteLength:a,length:l,view:new R(o)});u<l;)E(t,u++)})),m&&m(y,U),v=y.prototype=b(_)),v.constructor!==y&&d(v,"constructor",y),W&&d(v,W,s),I[s]=y,r({global:!0,forced:y!=g,sham:!L},I),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",i),"BYTES_PER_ELEMENT"in v||d(v,"BYTES_PER_ELEMENT",i),S(s)}):t.exports=function(){}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s=n(359),l=s.Reader,c=s.util,u=s.roots.default||(s.roots.default={});u.appFrameProtoOut=((a={}).AppFrameMsgOutProto=function(){function t(t){if(this.windows=[],this.componentTree=[],this.windowSwitchList=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.startApplication=null,t.prototype.linkAction=null,t.prototype.copyEvent=null,t.prototype.pasteRequest=null,t.prototype.fileDialogEvent=null,t.prototype.windows=c.emptyArray,t.prototype.closedWindow=null,t.prototype.event=0,t.prototype.jsRequest=null,t.prototype.javaResponse=null,t.prototype.pixelsRequest=null,t.prototype.playback=null,t.prototype.instanceId="",t.prototype.startTimestamp="",t.prototype.sendTimestamp="",t.prototype.focusEvent=null,t.prototype.componentTree=c.emptyArray,t.prototype.directDraw=!1,t.prototype.actionEvent=null,t.prototype.audioEvent=null,t.prototype.accessible=null,t.prototype.windowSwitchList=c.emptyArray,t.prototype.cursorChangeEvent=null,t.prototype.undockEvent=null,t.prototype.windowEvent=null,t.prototype.closedTab="",t.prototype.eventData=null,t.prototype.heartbeat=null,t.prototype.directUpload=null,t.prototype.directDownload=null,t.prototype.instanceConfig=null,t.prototype.moveWindowTab=null,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AppFrameMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.decode(t,t.uint32());break;case 2:r.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.decode(t,t.uint32());break;case 3:r.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.decode(t,t.uint32());break;case 4:r.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.decode(t,t.uint32());break;case 5:r.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.decode(t,t.uint32());break;case 6:r.windows&&r.windows.length||(r.windows=[]),r.windows.push(u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32()));break;case 7:r.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32());break;case 8:r.event=t.int32();break;case 9:r.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.decode(t,t.uint32());break;case 10:r.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.decode(t,t.uint32());break;case 11:r.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.decode(t,t.uint32());break;case 12:r.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.decode(t,t.uint32());break;case 13:r.instanceId=t.string();break;case 14:r.startTimestamp=t.string();break;case 15:r.sendTimestamp=t.string();break;case 16:r.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.decode(t,t.uint32());break;case 17:r.componentTree&&r.componentTree.length||(r.componentTree=[]),r.componentTree.push(u.appFrameProtoOut.ComponentTreeMsgOutProto.decode(t,t.uint32()));break;case 18:r.directDraw=t.bool();break;case 19:r.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.decode(t,t.uint32());break;case 20:r.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.decode(t,t.uint32());break;case 21:r.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.decode(t,t.uint32());break;case 22:r.windowSwitchList&&r.windowSwitchList.length||(r.windowSwitchList=[]),r.windowSwitchList.push(u.appFrameProtoOut.WindowSwitchMsgOutProto.decode(t,t.uint32()));break;case 23:r.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.decode(t,t.uint32());break;case 24:r.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.decode(t,t.uint32());break;case 25:r.windowEvent=u.appFrameProtoOut.WindowEventMsgOutProto.decode(t,t.uint32());break;case 26:r.closedTab=t.string();break;case 27:r.eventData=u.appFrameProtoOut.SimpleEventDataMsgOutProto.decode(t,t.uint32());break;case 28:r.heartbeat=u.appFrameProtoOut.BrowserHeartbeatMsgOutProto.decode(t,t.uint32());break;case 29:r.directUpload=u.appFrameProtoOut.DirectUploadEventMsgOutProto.decode(t,t.uint32());break;case 30:r.directDownload=u.appFrameProtoOut.DirectDownloadEventMsgOutProto.decode(t,t.uint32());break;case 31:r.instanceConfig=u.appFrameProtoOut.InstanceConfigMsgOutProto.decode(t,t.uint32());break;case 32:r.moveWindowTab=u.appFrameProtoOut.MoveWindowTabMsgOutProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AppFrameMsgOutProto)return t;var e=new u.appFrameProtoOut.AppFrameMsgOutProto;if(null!=t.startApplication){if("object"!==r(t.startApplication))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.startApplication: object expected");e.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.fromObject(t.startApplication)}if(null!=t.linkAction){if("object"!==r(t.linkAction))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.linkAction: object expected");e.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.fromObject(t.linkAction)}if(null!=t.copyEvent){if("object"!==r(t.copyEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.copyEvent: object expected");e.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.fromObject(t.copyEvent)}if(null!=t.pasteRequest){if("object"!==r(t.pasteRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.pasteRequest: object expected");e.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.fromObject(t.pasteRequest)}if(null!=t.fileDialogEvent){if("object"!==r(t.fileDialogEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.fileDialogEvent: object expected");e.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.fromObject(t.fileDialogEvent)}if(t.windows){if(!Array.isArray(t.windows))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windows: array expected");e.windows=[];for(var n=0;n<t.windows.length;++n){if("object"!==r(t.windows[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windows: object expected");e.windows[n]=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.windows[n])}}if(null!=t.closedWindow){if("object"!==r(t.closedWindow))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.closedWindow: object expected");e.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.closedWindow)}switch(t.event){case"applicationAlreadyRunning":case 0:e.event=0;break;case"shutDownNotification":case 1:e.event=1;break;case"tooManyClientsNotification":case 2:e.event=2;break;case"continueOldSession":case 3:e.event=3;break;case"configurationError":case 4:e.event=4;break;case"sessionStolenNotification":case 5:e.event=5;break;case"unauthorizedAccess":case 6:e.event=6;break;case"shutDownAutoLogoutNotification":case 7:e.event=7;break;case"sessionTimeoutWarning":case 8:e.event=8;break;case"sessionTimedOutNotification":case 9:e.event=9;break;case"applicationBusy":case 10:e.event=10;break;case"reconnectInstanceNotFound":case 11:e.event=11;break;case"instanceConnected":case 12:e.event=12;break;case"shutDownGoodbyeUrlNotification":case 13:e.event=13;break;case"tooManyClientsPerUserNotification":case 14:e.event=14;break;case"instanceDetached":case 15:e.event=15}if(null!=t.jsRequest){if("object"!==r(t.jsRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.jsRequest: object expected");e.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.fromObject(t.jsRequest)}if(null!=t.javaResponse){if("object"!==r(t.javaResponse))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.javaResponse: object expected");e.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.fromObject(t.javaResponse)}if(null!=t.pixelsRequest){if("object"!==r(t.pixelsRequest))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.pixelsRequest: object expected");e.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.fromObject(t.pixelsRequest)}if(null!=t.playback){if("object"!==r(t.playback))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.playback: object expected");e.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.fromObject(t.playback)}if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.startTimestamp&&(e.startTimestamp=String(t.startTimestamp)),null!=t.sendTimestamp&&(e.sendTimestamp=String(t.sendTimestamp)),null!=t.focusEvent){if("object"!==r(t.focusEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.focusEvent: object expected");e.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.fromObject(t.focusEvent)}if(t.componentTree){if(!Array.isArray(t.componentTree))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.componentTree: array expected");for(e.componentTree=[],n=0;n<t.componentTree.length;++n){if("object"!==r(t.componentTree[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.componentTree: object expected");e.componentTree[n]=u.appFrameProtoOut.ComponentTreeMsgOutProto.fromObject(t.componentTree[n])}}if(null!=t.directDraw&&(e.directDraw=Boolean(t.directDraw)),null!=t.actionEvent){if("object"!==r(t.actionEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.actionEvent: object expected");e.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.fromObject(t.actionEvent)}if(null!=t.audioEvent){if("object"!==r(t.audioEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.audioEvent: object expected");e.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.fromObject(t.audioEvent)}if(null!=t.accessible){if("object"!==r(t.accessible))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.accessible: object expected");e.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.fromObject(t.accessible)}if(t.windowSwitchList){if(!Array.isArray(t.windowSwitchList))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windowSwitchList: array expected");for(e.windowSwitchList=[],n=0;n<t.windowSwitchList.length;++n){if("object"!==r(t.windowSwitchList[n]))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windowSwitchList: object expected");e.windowSwitchList[n]=u.appFrameProtoOut.WindowSwitchMsgOutProto.fromObject(t.windowSwitchList[n])}}if(null!=t.cursorChangeEvent){if("object"!==r(t.cursorChangeEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.cursorChangeEvent: object expected");e.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.fromObject(t.cursorChangeEvent)}if(null!=t.undockEvent){if("object"!==r(t.undockEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.undockEvent: object expected");e.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.fromObject(t.undockEvent)}if(null!=t.windowEvent){if("object"!==r(t.windowEvent))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.windowEvent: object expected");e.windowEvent=u.appFrameProtoOut.WindowEventMsgOutProto.fromObject(t.windowEvent)}if(null!=t.closedTab&&(e.closedTab=String(t.closedTab)),null!=t.eventData){if("object"!==r(t.eventData))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.eventData: object expected");e.eventData=u.appFrameProtoOut.SimpleEventDataMsgOutProto.fromObject(t.eventData)}if(null!=t.heartbeat){if("object"!==r(t.heartbeat))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.heartbeat: object expected");e.heartbeat=u.appFrameProtoOut.BrowserHeartbeatMsgOutProto.fromObject(t.heartbeat)}if(null!=t.directUpload){if("object"!==r(t.directUpload))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.directUpload: object expected");e.directUpload=u.appFrameProtoOut.DirectUploadEventMsgOutProto.fromObject(t.directUpload)}if(null!=t.directDownload){if("object"!==r(t.directDownload))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.directDownload: object expected");e.directDownload=u.appFrameProtoOut.DirectDownloadEventMsgOutProto.fromObject(t.directDownload)}if(null!=t.instanceConfig){if("object"!==r(t.instanceConfig))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.instanceConfig: object expected");e.instanceConfig=u.appFrameProtoOut.InstanceConfigMsgOutProto.fromObject(t.instanceConfig)}if(null!=t.moveWindowTab){if("object"!==r(t.moveWindowTab))throw TypeError(".appFrameProtoOut.AppFrameMsgOutProto.moveWindowTab: object expected");e.moveWindowTab=u.appFrameProtoOut.MoveWindowTabMsgOutProto.fromObject(t.moveWindowTab)}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.windows=[],n.componentTree=[],n.windowSwitchList=[]),e.defaults&&(n.startApplication=null,n.linkAction=null,n.copyEvent=null,n.pasteRequest=null,n.fileDialogEvent=null,n.closedWindow=null,n.event=e.enums===String?"applicationAlreadyRunning":0,n.jsRequest=null,n.javaResponse=null,n.pixelsRequest=null,n.playback=null,n.instanceId="",n.startTimestamp="",n.sendTimestamp="",n.focusEvent=null,n.directDraw=!1,n.actionEvent=null,n.audioEvent=null,n.accessible=null,n.cursorChangeEvent=null,n.undockEvent=null,n.windowEvent=null,n.closedTab="",n.eventData=null,n.heartbeat=null,n.directUpload=null,n.directDownload=null,n.instanceConfig=null,n.moveWindowTab=null),null!=t.startApplication&&t.hasOwnProperty("startApplication")&&(n.startApplication=u.appFrameProtoOut.StartApplicationMsgOutProto.toObject(t.startApplication,e)),null!=t.linkAction&&t.hasOwnProperty("linkAction")&&(n.linkAction=u.appFrameProtoOut.LinkActionMsgOutProto.toObject(t.linkAction,e)),null!=t.copyEvent&&t.hasOwnProperty("copyEvent")&&(n.copyEvent=u.appFrameProtoOut.CopyEventMsgOutProto.toObject(t.copyEvent,e)),null!=t.pasteRequest&&t.hasOwnProperty("pasteRequest")&&(n.pasteRequest=u.appFrameProtoOut.PasteRequestMsgOutProto.toObject(t.pasteRequest,e)),null!=t.fileDialogEvent&&t.hasOwnProperty("fileDialogEvent")&&(n.fileDialogEvent=u.appFrameProtoOut.FileDialogEventMsgOutProto.toObject(t.fileDialogEvent,e)),t.windows&&t.windows.length){n.windows=[];for(var r=0;r<t.windows.length;++r)n.windows[r]=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.windows[r],e)}if(null!=t.closedWindow&&t.hasOwnProperty("closedWindow")&&(n.closedWindow=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.closedWindow,e)),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?u.appFrameProtoOut.SimpleEventMsgOutProto[t.event]:t.event),null!=t.jsRequest&&t.hasOwnProperty("jsRequest")&&(n.jsRequest=u.appFrameProtoOut.JsEvalRequestMsgOutProto.toObject(t.jsRequest,e)),null!=t.javaResponse&&t.hasOwnProperty("javaResponse")&&(n.javaResponse=u.appFrameProtoOut.JsResultMsgOutProto.toObject(t.javaResponse,e)),null!=t.pixelsRequest&&t.hasOwnProperty("pixelsRequest")&&(n.pixelsRequest=u.appFrameProtoOut.PixelsAreaRequestMsgOutProto.toObject(t.pixelsRequest,e)),null!=t.playback&&t.hasOwnProperty("playback")&&(n.playback=u.appFrameProtoOut.PlaybackInfoMsgOutProto.toObject(t.playback,e)),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.startTimestamp&&t.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.startTimestamp),null!=t.sendTimestamp&&t.hasOwnProperty("sendTimestamp")&&(n.sendTimestamp=t.sendTimestamp),null!=t.focusEvent&&t.hasOwnProperty("focusEvent")&&(n.focusEvent=u.appFrameProtoOut.FocusEventMsgOutProto.toObject(t.focusEvent,e)),t.componentTree&&t.componentTree.length)for(n.componentTree=[],r=0;r<t.componentTree.length;++r)n.componentTree[r]=u.appFrameProtoOut.ComponentTreeMsgOutProto.toObject(t.componentTree[r],e);if(null!=t.directDraw&&t.hasOwnProperty("directDraw")&&(n.directDraw=t.directDraw),null!=t.actionEvent&&t.hasOwnProperty("actionEvent")&&(n.actionEvent=u.appFrameProtoOut.ActionEventMsgOutProto.toObject(t.actionEvent,e)),null!=t.audioEvent&&t.hasOwnProperty("audioEvent")&&(n.audioEvent=u.appFrameProtoOut.AudioEventMsgOutProto.toObject(t.audioEvent,e)),null!=t.accessible&&t.hasOwnProperty("accessible")&&(n.accessible=u.appFrameProtoOut.AccessibilityMsgOutProto.toObject(t.accessible,e)),t.windowSwitchList&&t.windowSwitchList.length)for(n.windowSwitchList=[],r=0;r<t.windowSwitchList.length;++r)n.windowSwitchList[r]=u.appFrameProtoOut.WindowSwitchMsgOutProto.toObject(t.windowSwitchList[r],e);return null!=t.cursorChangeEvent&&t.hasOwnProperty("cursorChangeEvent")&&(n.cursorChangeEvent=u.appFrameProtoOut.CursorChangeEventMsgOutProto.toObject(t.cursorChangeEvent,e)),null!=t.undockEvent&&t.hasOwnProperty("undockEvent")&&(n.undockEvent=u.appFrameProtoOut.WindowUndockEventMsgOutProto.toObject(t.undockEvent,e)),null!=t.windowEvent&&t.hasOwnProperty("windowEvent")&&(n.windowEvent=u.appFrameProtoOut.WindowEventMsgOutProto.toObject(t.windowEvent,e)),null!=t.closedTab&&t.hasOwnProperty("closedTab")&&(n.closedTab=t.closedTab),null!=t.eventData&&t.hasOwnProperty("eventData")&&(n.eventData=u.appFrameProtoOut.SimpleEventDataMsgOutProto.toObject(t.eventData,e)),null!=t.heartbeat&&t.hasOwnProperty("heartbeat")&&(n.heartbeat=u.appFrameProtoOut.BrowserHeartbeatMsgOutProto.toObject(t.heartbeat,e)),null!=t.directUpload&&t.hasOwnProperty("directUpload")&&(n.directUpload=u.appFrameProtoOut.DirectUploadEventMsgOutProto.toObject(t.directUpload,e)),null!=t.directDownload&&t.hasOwnProperty("directDownload")&&(n.directDownload=u.appFrameProtoOut.DirectDownloadEventMsgOutProto.toObject(t.directDownload,e)),null!=t.instanceConfig&&t.hasOwnProperty("instanceConfig")&&(n.instanceConfig=u.appFrameProtoOut.InstanceConfigMsgOutProto.toObject(t.instanceConfig,e)),null!=t.moveWindowTab&&t.hasOwnProperty("moveWindowTab")&&(n.moveWindowTab=u.appFrameProtoOut.MoveWindowTabMsgOutProto.toObject(t.moveWindowTab,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.BrowserHeartbeatMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.BrowserHeartbeatMsgOutProto;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},t.fromObject=function(t){return t instanceof u.appFrameProtoOut.BrowserHeartbeatMsgOutProto?t:new u.appFrameProtoOut.BrowserHeartbeatMsgOutProto},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AccessibilityMsgOutProto=function(){function t(t){if(this.states=[],this.hierarchy=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.role="",t.prototype.text="",t.prototype.tooltip="",t.prototype.value="",t.prototype.description="",t.prototype.columnheader="",t.prototype.password=!1,t.prototype.toggle=!1,t.prototype.selstart=0,t.prototype.selend=0,t.prototype.rowheight=0,t.prototype.rows=0,t.prototype.size=0,t.prototype.position=0,t.prototype.level=0,t.prototype.colindex=0,t.prototype.rowindex=0,t.prototype.colcount=0,t.prototype.rowcount=0,t.prototype.states=c.emptyArray,t.prototype.min=0,t.prototype.max=0,t.prototype.val=0,t.prototype.screenX=0,t.prototype.screenY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.hierarchy=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AccessibilityMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.role=t.string();break;case 3:r.text=t.string();break;case 4:r.tooltip=t.string();break;case 5:r.value=t.string();break;case 6:r.description=t.string();break;case 7:r.columnheader=t.string();break;case 8:r.password=t.bool();break;case 9:r.toggle=t.bool();break;case 10:r.selstart=t.sint32();break;case 11:r.selend=t.sint32();break;case 12:r.rowheight=t.sint32();break;case 13:r.rows=t.sint32();break;case 14:r.size=t.sint32();break;case 15:r.position=t.sint32();break;case 16:r.level=t.sint32();break;case 17:r.colindex=t.sint32();break;case 18:r.rowindex=t.sint32();break;case 19:r.colcount=t.sint32();break;case 20:r.rowcount=t.sint32();break;case 21:r.states&&r.states.length||(r.states=[]),r.states.push(t.string());break;case 22:r.min=t.sint32();break;case 23:r.max=t.sint32();break;case 24:r.val=t.sint32();break;case 25:r.screenX=t.sint32();break;case 26:r.screenY=t.sint32();break;case 27:r.width=t.sint32();break;case 28:r.height=t.sint32();break;case 29:r.hierarchy&&r.hierarchy.length||(r.hierarchy=[]),r.hierarchy.push(u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AccessibilityMsgOutProto)return t;var e=new u.appFrameProtoOut.AccessibilityMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),null!=t.role&&(e.role=String(t.role)),null!=t.text&&(e.text=String(t.text)),null!=t.tooltip&&(e.tooltip=String(t.tooltip)),null!=t.value&&(e.value=String(t.value)),null!=t.description&&(e.description=String(t.description)),null!=t.columnheader&&(e.columnheader=String(t.columnheader)),null!=t.password&&(e.password=Boolean(t.password)),null!=t.toggle&&(e.toggle=Boolean(t.toggle)),null!=t.selstart&&(e.selstart=0|t.selstart),null!=t.selend&&(e.selend=0|t.selend),null!=t.rowheight&&(e.rowheight=0|t.rowheight),null!=t.rows&&(e.rows=0|t.rows),null!=t.size&&(e.size=0|t.size),null!=t.position&&(e.position=0|t.position),null!=t.level&&(e.level=0|t.level),null!=t.colindex&&(e.colindex=0|t.colindex),null!=t.rowindex&&(e.rowindex=0|t.rowindex),null!=t.colcount&&(e.colcount=0|t.colcount),null!=t.rowcount&&(e.rowcount=0|t.rowcount),t.states){if(!Array.isArray(t.states))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.states: array expected");e.states=[];for(var n=0;n<t.states.length;++n)e.states[n]=String(t.states[n])}if(null!=t.min&&(e.min=0|t.min),null!=t.max&&(e.max=0|t.max),null!=t.val&&(e.val=0|t.val),null!=t.screenX&&(e.screenX=0|t.screenX),null!=t.screenY&&(e.screenY=0|t.screenY),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),t.hierarchy){if(!Array.isArray(t.hierarchy))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.hierarchy: array expected");for(e.hierarchy=[],n=0;n<t.hierarchy.length;++n){if("object"!==r(t.hierarchy[n]))throw TypeError(".appFrameProtoOut.AccessibilityMsgOutProto.hierarchy: object expected");e.hierarchy[n]=u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.fromObject(t.hierarchy[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.states=[],n.hierarchy=[]),e.defaults&&(n.id="",n.role="",n.text="",n.tooltip="",n.value="",n.description="",n.columnheader="",n.password=!1,n.toggle=!1,n.selstart=0,n.selend=0,n.rowheight=0,n.rows=0,n.size=0,n.position=0,n.level=0,n.colindex=0,n.rowindex=0,n.colcount=0,n.rowcount=0,n.min=0,n.max=0,n.val=0,n.screenX=0,n.screenY=0,n.width=0,n.height=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.role&&t.hasOwnProperty("role")&&(n.role=t.role),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.tooltip&&t.hasOwnProperty("tooltip")&&(n.tooltip=t.tooltip),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),null!=t.description&&t.hasOwnProperty("description")&&(n.description=t.description),null!=t.columnheader&&t.hasOwnProperty("columnheader")&&(n.columnheader=t.columnheader),null!=t.password&&t.hasOwnProperty("password")&&(n.password=t.password),null!=t.toggle&&t.hasOwnProperty("toggle")&&(n.toggle=t.toggle),null!=t.selstart&&t.hasOwnProperty("selstart")&&(n.selstart=t.selstart),null!=t.selend&&t.hasOwnProperty("selend")&&(n.selend=t.selend),null!=t.rowheight&&t.hasOwnProperty("rowheight")&&(n.rowheight=t.rowheight),null!=t.rows&&t.hasOwnProperty("rows")&&(n.rows=t.rows),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),null!=t.position&&t.hasOwnProperty("position")&&(n.position=t.position),null!=t.level&&t.hasOwnProperty("level")&&(n.level=t.level),null!=t.colindex&&t.hasOwnProperty("colindex")&&(n.colindex=t.colindex),null!=t.rowindex&&t.hasOwnProperty("rowindex")&&(n.rowindex=t.rowindex),null!=t.colcount&&t.hasOwnProperty("colcount")&&(n.colcount=t.colcount),null!=t.rowcount&&t.hasOwnProperty("rowcount")&&(n.rowcount=t.rowcount),t.states&&t.states.length){n.states=[];for(var r=0;r<t.states.length;++r)n.states[r]=t.states[r]}if(null!=t.min&&t.hasOwnProperty("min")&&(n.min=t.min),null!=t.max&&t.hasOwnProperty("max")&&(n.max=t.max),null!=t.val&&t.hasOwnProperty("val")&&(n.val=t.val),null!=t.screenX&&t.hasOwnProperty("screenX")&&(n.screenX=t.screenX),null!=t.screenY&&t.hasOwnProperty("screenY")&&(n.screenY=t.screenY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),t.hierarchy&&t.hierarchy.length)for(n.hierarchy=[],r=0;r<t.hierarchy.length;++r)n.hierarchy[r]=u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto.toObject(t.hierarchy[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AccessibilityHierarchyMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.role="",t.prototype.text="",t.prototype.position=0,t.prototype.size=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.role=t.string();break;case 3:r.text=t.string();break;case 4:r.position=t.sint32();break;case 5:r.size=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto)return t;var e=new u.appFrameProtoOut.AccessibilityHierarchyMsgOutProto;return null!=t.id&&(e.id=String(t.id)),null!=t.role&&(e.role=String(t.role)),null!=t.text&&(e.text=String(t.text)),null!=t.position&&(e.position=0|t.position),null!=t.size&&(e.size=0|t.size),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.role="",n.text="",n.position=0,n.size=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.role&&t.hasOwnProperty("role")&&(n.role=t.role),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.position&&t.hasOwnProperty("position")&&(n.position=t.position),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.FocusEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=1,t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.caretX=0,t.prototype.caretY=0,t.prototype.caretH=0,t.prototype.editable=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.FocusEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.type=t.int32();break;case 2:r.x=t.sint32();break;case 3:r.y=t.sint32();break;case 4:r.w=t.uint32();break;case 5:r.h=t.uint32();break;case 6:r.caretX=t.sint32();break;case 7:r.caretY=t.sint32();break;case 8:r.caretH=t.sint32();break;case 9:r.editable=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("type"))throw c.ProtocolError("missing required 'type'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.FocusEventMsgOutProto)return t;var e=new u.appFrameProtoOut.FocusEventMsgOutProto;switch(t.type){case"focusLost":case 1:e.type=1;break;case"focusGained":case 2:e.type=2;break;case"focusWithCarretGained":case 3:e.type=3;break;case"focusPasswordGained":case 4:e.type=4}return null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.w&&(e.w=t.w>>>0),null!=t.h&&(e.h=t.h>>>0),null!=t.caretX&&(e.caretX=0|t.caretX),null!=t.caretY&&(e.caretY=0|t.caretY),null!=t.caretH&&(e.caretH=0|t.caretH),null!=t.editable&&(e.editable=Boolean(t.editable)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"focusLost":1,n.x=0,n.y=0,n.w=0,n.h=0,n.caretX=0,n.caretY=0,n.caretH=0,n.editable=!1),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.FocusEventMsgOutProto.FocusEventTypeProto[t.type]:t.type),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=t.h),null!=t.caretX&&t.hasOwnProperty("caretX")&&(n.caretX=t.caretX),null!=t.caretY&&t.hasOwnProperty("caretY")&&(n.caretY=t.caretY),null!=t.caretH&&t.hasOwnProperty("caretH")&&(n.caretH=t.caretH),null!=t.editable&&t.hasOwnProperty("editable")&&(n.editable=t.editable),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.FocusEventTypeProto=(e={},(n=Object.create(e))[e[1]="focusLost"]=1,n[e[2]="focusGained"]=2,n[e[3]="focusWithCarretGained"]=3,n[e[4]="focusPasswordGained"]=4,n),t}(),a.StartApplicationMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.StartApplicationMsgOutProto;t.pos<n;){var o=t.uint32();t.skipType(7&o)}return r},t.fromObject=function(t){return t instanceof u.appFrameProtoOut.StartApplicationMsgOutProto?t:new u.appFrameProtoOut.StartApplicationMsgOutProto},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.LinkActionMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.action=0,t.prototype.src="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.LinkActionMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.action=t.int32();break;case 2:r.src=t.string();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("action"))throw c.ProtocolError("missing required 'action'",{instance:r});if(!r.hasOwnProperty("src"))throw c.ProtocolError("missing required 'src'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.LinkActionMsgOutProto)return t;var e=new u.appFrameProtoOut.LinkActionMsgOutProto;switch(t.action){case"file":case 0:e.action=0;break;case"url":case 1:e.action=1;break;case"print":case 2:e.action=2;break;case"redirect":case 3:e.action=3}return null!=t.src&&(e.src=String(t.src)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.action=e.enums===String?"file":0,n.src=""),null!=t.action&&t.hasOwnProperty("action")&&(n.action=e.enums===String?u.appFrameProtoOut.LinkActionMsgOutProto.LinkActionTypeProto[t.action]:t.action),null!=t.src&&t.hasOwnProperty("src")&&(n.src=t.src),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.LinkActionTypeProto=(e={},(n=Object.create(e))[e[0]="file"]=0,n[e[1]="url"]=1,n[e[2]="print"]=2,n[e[3]="redirect"]=3,n),t}(),a.CopyEventMsgOutProto=function(){function t(t){if(this.files=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.text="",t.prototype.html="",t.prototype.img=c.newBuffer([]),t.prototype.files=c.emptyArray,t.prototype.other=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.CopyEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.text=t.string();break;case 2:r.html=t.string();break;case 3:r.img=t.bytes();break;case 4:r.files&&r.files.length||(r.files=[]),r.files.push(t.string());break;case 5:r.other=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.CopyEventMsgOutProto)return t;var e=new u.appFrameProtoOut.CopyEventMsgOutProto;if(null!=t.text&&(e.text=String(t.text)),null!=t.html&&(e.html=String(t.html)),null!=t.img&&("string"==typeof t.img?c.base64.decode(t.img,e.img=c.newBuffer(c.base64.length(t.img)),0):t.img.length&&(e.img=t.img)),t.files){if(!Array.isArray(t.files))throw TypeError(".appFrameProtoOut.CopyEventMsgOutProto.files: array expected");e.files=[];for(var n=0;n<t.files.length;++n)e.files[n]=String(t.files[n])}return null!=t.other&&(e.other=Boolean(t.other)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.files=[]),e.defaults&&(n.text="",n.html="",e.bytes===String?n.img="":(n.img=[],e.bytes!==Array&&(n.img=c.newBuffer(n.img))),n.other=!1),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.html&&t.hasOwnProperty("html")&&(n.html=t.html),null!=t.img&&t.hasOwnProperty("img")&&(n.img=e.bytes===String?c.base64.encode(t.img,0,t.img.length):e.bytes===Array?Array.prototype.slice.call(t.img):t.img),t.files&&t.files.length){n.files=[];for(var r=0;r<t.files.length;++r)n.files[r]=t.files[r]}return null!=t.other&&t.hasOwnProperty("other")&&(n.other=t.other),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PasteRequestMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.title="",t.prototype.message="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PasteRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.title=t.string();break;case 2:r.message=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PasteRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.PasteRequestMsgOutProto;return null!=t.title&&(e.title=String(t.title)),null!=t.message&&(e.message=String(t.message)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.title="",n.message=""),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.message&&t.hasOwnProperty("message")&&(n.message=t.message),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.FileDialogEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.eventType=0,t.prototype.allowDownload=!1,t.prototype.allowUpload=!1,t.prototype.allowDelete=!1,t.prototype.filter="",t.prototype.isMultiSelection=!1,t.prototype.selection="",t.prototype.customDialog=!1,t.prototype.uploadMaxFileSize=0,t.prototype.fileUIHidden=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.FileDialogEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.eventType=t.int32();break;case 2:r.allowDownload=t.bool();break;case 3:r.allowUpload=t.bool();break;case 4:r.allowDelete=t.bool();break;case 5:r.filter=t.string();break;case 6:r.isMultiSelection=t.bool();break;case 7:r.selection=t.string();break;case 8:r.customDialog=t.bool();break;case 9:r.uploadMaxFileSize=t.double();break;case 10:r.fileUIHidden=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("eventType"))throw c.ProtocolError("missing required 'eventType'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.FileDialogEventMsgOutProto)return t;var e=new u.appFrameProtoOut.FileDialogEventMsgOutProto;switch(t.eventType){case"Open":case 0:e.eventType=0;break;case"Close":case 1:e.eventType=1;break;case"AutoUpload":case 2:e.eventType=2;break;case"AutoSave":case 3:e.eventType=3}return null!=t.allowDownload&&(e.allowDownload=Boolean(t.allowDownload)),null!=t.allowUpload&&(e.allowUpload=Boolean(t.allowUpload)),null!=t.allowDelete&&(e.allowDelete=Boolean(t.allowDelete)),null!=t.filter&&(e.filter=String(t.filter)),null!=t.isMultiSelection&&(e.isMultiSelection=Boolean(t.isMultiSelection)),null!=t.selection&&(e.selection=String(t.selection)),null!=t.customDialog&&(e.customDialog=Boolean(t.customDialog)),null!=t.uploadMaxFileSize&&(e.uploadMaxFileSize=Number(t.uploadMaxFileSize)),null!=t.fileUIHidden&&(e.fileUIHidden=Boolean(t.fileUIHidden)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.eventType=e.enums===String?"Open":0,n.allowDownload=!1,n.allowUpload=!1,n.allowDelete=!1,n.filter="",n.isMultiSelection=!1,n.selection="",n.customDialog=!1,n.uploadMaxFileSize=0,n.fileUIHidden=!1),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?u.appFrameProtoOut.FileDialogEventMsgOutProto.FileDialogEventTypeProto[t.eventType]:t.eventType),null!=t.allowDownload&&t.hasOwnProperty("allowDownload")&&(n.allowDownload=t.allowDownload),null!=t.allowUpload&&t.hasOwnProperty("allowUpload")&&(n.allowUpload=t.allowUpload),null!=t.allowDelete&&t.hasOwnProperty("allowDelete")&&(n.allowDelete=t.allowDelete),null!=t.filter&&t.hasOwnProperty("filter")&&(n.filter=t.filter),null!=t.isMultiSelection&&t.hasOwnProperty("isMultiSelection")&&(n.isMultiSelection=t.isMultiSelection),null!=t.selection&&t.hasOwnProperty("selection")&&(n.selection=t.selection),null!=t.customDialog&&t.hasOwnProperty("customDialog")&&(n.customDialog=t.customDialog),null!=t.uploadMaxFileSize&&t.hasOwnProperty("uploadMaxFileSize")&&(n.uploadMaxFileSize=e.json&&!isFinite(t.uploadMaxFileSize)?String(t.uploadMaxFileSize):t.uploadMaxFileSize),null!=t.fileUIHidden&&t.hasOwnProperty("fileUIHidden")&&(n.fileUIHidden=t.fileUIHidden),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.FileDialogEventTypeProto=(e={},(n=Object.create(e))[e[0]="Open"]=0,n[e[1]="Close"]=1,n[e[2]="AutoUpload"]=2,n[e[3]="AutoSave"]=3,n),t}(),a.WindowSwitchMsg=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.title="",t.prototype.modalBlocked=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowSwitchMsg;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.title=t.string();break;case 3:r.modalBlocked=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw c.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowSwitchMsg)return t;var e=new u.appFrameProtoOut.WindowSwitchMsg;return null!=t.id&&(e.id=String(t.id)),null!=t.title&&(e.title=String(t.title)),null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.title="",n.modalBlocked=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowMsgOutProto=function(){function t(t){if(this.content=[],this.internalWindows=[],this.dropComponents=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.id="",t.prototype.content=c.emptyArray,t.prototype.directDraw=c.newBuffer([]),t.prototype.title="",t.prototype.posX=0,t.prototype.posY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.dpr=0,t.prototype.name="",t.prototype.type=1,t.prototype.modalBlocked=!1,t.prototype.ownerId="",t.prototype.state=0,t.prototype.internalWindows=c.emptyArray,t.prototype.dockMode=1,t.prototype.dockState=1,t.prototype.classType=1,t.prototype.minimized=!1,t.prototype.tabId="",t.prototype.screenPosX=0,t.prototype.screenPosY=0,t.prototype.resizable=!1,t.prototype.focused=!1,t.prototype.dropComponents=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.content&&r.content.length||(r.content=[]),r.content.push(u.appFrameProtoOut.WindowPartialContentMsgOutProto.decode(t,t.uint32()));break;case 3:r.directDraw=t.bytes();break;case 4:r.title=t.string();break;case 5:r.posX=t.sint32();break;case 6:r.posY=t.sint32();break;case 7:r.width=t.uint32();break;case 8:r.height=t.uint32();break;case 9:r.dpr=t.float();break;case 10:r.name=t.string();break;case 11:r.type=t.int32();break;case 12:r.modalBlocked=t.bool();break;case 13:r.ownerId=t.string();break;case 14:r.state=t.uint32();break;case 15:r.internalWindows&&r.internalWindows.length||(r.internalWindows=[]),r.internalWindows.push(u.appFrameProtoOut.WindowMsgOutProto.decode(t,t.uint32()));break;case 16:r.dockMode=t.int32();break;case 17:r.dockState=t.int32();break;case 18:r.classType=t.int32();break;case 19:r.minimized=t.bool();break;case 20:r.tabId=t.string();break;case 21:r.screenPosX=t.sint32();break;case 22:r.screenPosY=t.sint32();break;case 23:r.resizable=t.bool();break;case 24:r.focused=t.bool();break;case 25:r.dropComponents&&r.dropComponents.length||(r.dropComponents=[]),r.dropComponents.push(u.appFrameProtoOut.DropComponentMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw c.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),t.content){if(!Array.isArray(t.content))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.content: array expected");e.content=[];for(var n=0;n<t.content.length;++n){if("object"!==r(t.content[n]))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.content: object expected");e.content[n]=u.appFrameProtoOut.WindowPartialContentMsgOutProto.fromObject(t.content[n])}}switch(null!=t.directDraw&&("string"==typeof t.directDraw?c.base64.decode(t.directDraw,e.directDraw=c.newBuffer(c.base64.length(t.directDraw)),0):t.directDraw.length&&(e.directDraw=t.directDraw)),null!=t.title&&(e.title=String(t.title)),null!=t.posX&&(e.posX=0|t.posX),null!=t.posY&&(e.posY=0|t.posY),null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),null!=t.dpr&&(e.dpr=Number(t.dpr)),null!=t.name&&(e.name=String(t.name)),t.type){case"basic":case 1:e.type=1;break;case"html":case 2:e.type=2;break;case"internal":case 3:e.type=3;break;case"internalHtml":case 4:e.type=4;break;case"internalWrapper":case 5:e.type=5}if(null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),null!=t.ownerId&&(e.ownerId=String(t.ownerId)),null!=t.state&&(e.state=t.state>>>0),t.internalWindows){if(!Array.isArray(t.internalWindows))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.internalWindows: array expected");for(e.internalWindows=[],n=0;n<t.internalWindows.length;++n){if("object"!==r(t.internalWindows[n]))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.internalWindows: object expected");e.internalWindows[n]=u.appFrameProtoOut.WindowMsgOutProto.fromObject(t.internalWindows[n])}}switch(t.dockMode){case"none":case 1:e.dockMode=1;break;case"dockable":case 2:e.dockMode=2;break;case"autoUndock":case 3:e.dockMode=3}switch(t.dockState){case"docked":case 1:e.dockState=1;break;case"undocked":case 2:e.dockState=2;break;case"toBeUndocked":case 3:e.dockState=3}switch(t.classType){case"other":case 1:e.classType=1;break;case"Window":case 2:e.classType=2;break;case"JWindow":case 3:e.classType=3;break;case"Dialog":case 4:e.classType=4;break;case"JDialog":case 5:e.classType=5;break;case"Frame":case 6:e.classType=6;break;case"JFrame":case 7:e.classType=7}if(null!=t.minimized&&(e.minimized=Boolean(t.minimized)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.screenPosX&&(e.screenPosX=0|t.screenPosX),null!=t.screenPosY&&(e.screenPosY=0|t.screenPosY),null!=t.resizable&&(e.resizable=Boolean(t.resizable)),null!=t.focused&&(e.focused=Boolean(t.focused)),t.dropComponents){if(!Array.isArray(t.dropComponents))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.dropComponents: array expected");for(e.dropComponents=[],n=0;n<t.dropComponents.length;++n){if("object"!==r(t.dropComponents[n]))throw TypeError(".appFrameProtoOut.WindowMsgOutProto.dropComponents: object expected");e.dropComponents[n]=u.appFrameProtoOut.DropComponentMsgOutProto.fromObject(t.dropComponents[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.content=[],n.internalWindows=[],n.dropComponents=[]),e.defaults&&(n.id="",e.bytes===String?n.directDraw="":(n.directDraw=[],e.bytes!==Array&&(n.directDraw=c.newBuffer(n.directDraw))),n.title="",n.posX=0,n.posY=0,n.width=0,n.height=0,n.dpr=0,n.name="",n.type=e.enums===String?"basic":1,n.modalBlocked=!1,n.ownerId="",n.state=0,n.dockMode=e.enums===String?"none":1,n.dockState=e.enums===String?"docked":1,n.classType=e.enums===String?"other":1,n.minimized=!1,n.tabId="",n.screenPosX=0,n.screenPosY=0,n.resizable=!1,n.focused=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.content&&t.content.length){n.content=[];for(var r=0;r<t.content.length;++r)n.content[r]=u.appFrameProtoOut.WindowPartialContentMsgOutProto.toObject(t.content[r],e)}if(null!=t.directDraw&&t.hasOwnProperty("directDraw")&&(n.directDraw=e.bytes===String?c.base64.encode(t.directDraw,0,t.directDraw.length):e.bytes===Array?Array.prototype.slice.call(t.directDraw):t.directDraw),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.posX&&t.hasOwnProperty("posX")&&(n.posX=t.posX),null!=t.posY&&t.hasOwnProperty("posY")&&(n.posY=t.posY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=e.json&&!isFinite(t.dpr)?String(t.dpr):t.dpr),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.WindowTypeProto[t.type]:t.type),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),null!=t.ownerId&&t.hasOwnProperty("ownerId")&&(n.ownerId=t.ownerId),null!=t.state&&t.hasOwnProperty("state")&&(n.state=t.state),t.internalWindows&&t.internalWindows.length)for(n.internalWindows=[],r=0;r<t.internalWindows.length;++r)n.internalWindows[r]=u.appFrameProtoOut.WindowMsgOutProto.toObject(t.internalWindows[r],e);if(null!=t.dockMode&&t.hasOwnProperty("dockMode")&&(n.dockMode=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.DockModeProto[t.dockMode]:t.dockMode),null!=t.dockState&&t.hasOwnProperty("dockState")&&(n.dockState=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.DockStateProto[t.dockState]:t.dockState),null!=t.classType&&t.hasOwnProperty("classType")&&(n.classType=e.enums===String?u.appFrameProtoOut.WindowMsgOutProto.WindowClassTypeProto[t.classType]:t.classType),null!=t.minimized&&t.hasOwnProperty("minimized")&&(n.minimized=t.minimized),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.screenPosX&&t.hasOwnProperty("screenPosX")&&(n.screenPosX=t.screenPosX),null!=t.screenPosY&&t.hasOwnProperty("screenPosY")&&(n.screenPosY=t.screenPosY),null!=t.resizable&&t.hasOwnProperty("resizable")&&(n.resizable=t.resizable),null!=t.focused&&t.hasOwnProperty("focused")&&(n.focused=t.focused),t.dropComponents&&t.dropComponents.length)for(n.dropComponents=[],r=0;r<t.dropComponents.length;++r)n.dropComponents[r]=u.appFrameProtoOut.DropComponentMsgOutProto.toObject(t.dropComponents[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.WindowTypeProto=(e={},(n=Object.create(e))[e[1]="basic"]=1,n[e[2]="html"]=2,n[e[3]="internal"]=3,n[e[4]="internalHtml"]=4,n[e[5]="internalWrapper"]=5,n),t.WindowClassTypeProto=function(){var t={},e=Object.create(t);return e[t[1]="other"]=1,e[t[2]="Window"]=2,e[t[3]="JWindow"]=3,e[t[4]="Dialog"]=4,e[t[5]="JDialog"]=5,e[t[6]="Frame"]=6,e[t[7]="JFrame"]=7,e}(),t.DockModeProto=function(){var t={},e=Object.create(t);return e[t[1]="none"]=1,e[t[2]="dockable"]=2,e[t[3]="autoUndock"]=3,e}(),t.DockStateProto=function(){var t={},e=Object.create(t);return e[t[1]="docked"]=1,e[t[2]="undocked"]=2,e[t[3]="toBeUndocked"]=3,e}(),t}(),a.DropComponentMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.posX=0,t.prototype.posY=0,t.prototype.width=0,t.prototype.height=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.DropComponentMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.posX=t.sint32();break;case 3:r.posY=t.sint32();break;case 4:r.width=t.uint32();break;case 5:r.height=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.DropComponentMsgOutProto)return t;var e=new u.appFrameProtoOut.DropComponentMsgOutProto;return null!=t.id&&(e.id=String(t.id)),null!=t.posX&&(e.posX=0|t.posX),null!=t.posY&&(e.posY=0|t.posY),null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.posX=0,n.posY=0,n.width=0,n.height=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.posX&&t.hasOwnProperty("posX")&&(n.posX=t.posX),null!=t.posY&&t.hasOwnProperty("posY")&&(n.posY=t.posY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowSwitchMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.title="",t.prototype.modalBlocked=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowSwitchMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.title=t.string();break;case 3:r.modalBlocked=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw c.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowSwitchMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowSwitchMsgOutProto;return null!=t.id&&(e.id=String(t.id)),null!=t.title&&(e.title=String(t.title)),null!=t.modalBlocked&&(e.modalBlocked=Boolean(t.modalBlocked)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.title="",n.modalBlocked=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.title&&t.hasOwnProperty("title")&&(n.title=t.title),null!=t.modalBlocked&&t.hasOwnProperty("modalBlocked")&&(n.modalBlocked=t.modalBlocked),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowPartialContentMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.positionX=0,t.prototype.positionY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.base64Content=c.newBuffer([]),t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowPartialContentMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.positionX=t.sint32();break;case 2:r.positionY=t.sint32();break;case 3:r.width=t.uint32();break;case 4:r.height=t.uint32();break;case 5:r.base64Content=t.bytes();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowPartialContentMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowPartialContentMsgOutProto;return null!=t.positionX&&(e.positionX=0|t.positionX),null!=t.positionY&&(e.positionY=0|t.positionY),null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),null!=t.base64Content&&("string"==typeof t.base64Content?c.base64.decode(t.base64Content,e.base64Content=c.newBuffer(c.base64.length(t.base64Content)),0):t.base64Content.length&&(e.base64Content=t.base64Content)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.positionX=0,n.positionY=0,n.width=0,n.height=0,e.bytes===String?n.base64Content="":(n.base64Content=[],e.bytes!==Array&&(n.base64Content=c.newBuffer(n.base64Content)))),null!=t.positionX&&t.hasOwnProperty("positionX")&&(n.positionX=t.positionX),null!=t.positionY&&t.hasOwnProperty("positionY")&&(n.positionY=t.positionY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.base64Content&&t.hasOwnProperty("base64Content")&&(n.base64Content=e.bytes===String?c.base64.encode(t.base64Content,0,t.base64Content.length):e.bytes===Array?Array.prototype.slice.call(t.base64Content):t.base64Content),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.SimpleEventMsgOutProto=(o={},(i=Object.create(o))[o[0]="applicationAlreadyRunning"]=0,i[o[1]="shutDownNotification"]=1,i[o[2]="tooManyClientsNotification"]=2,i[o[3]="continueOldSession"]=3,i[o[4]="configurationError"]=4,i[o[5]="sessionStolenNotification"]=5,i[o[6]="unauthorizedAccess"]=6,i[o[7]="shutDownAutoLogoutNotification"]=7,i[o[8]="sessionTimeoutWarning"]=8,i[o[9]="sessionTimedOutNotification"]=9,i[o[10]="applicationBusy"]=10,i[o[11]="reconnectInstanceNotFound"]=11,i[o[12]="instanceConnected"]=12,i[o[13]="shutDownGoodbyeUrlNotification"]=13,i[o[14]="tooManyClientsPerUserNotification"]=14,i[o[15]="instanceDetached"]=15,i),a.SimpleEventDataMsgOutProto=function(){function t(t){if(this.data=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.data=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.SimpleEventDataMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.data&&r.data.length||(r.data=[]),r.data.push(u.appFrameProtoOut.KeyValueMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.SimpleEventDataMsgOutProto)return t;var e=new u.appFrameProtoOut.SimpleEventDataMsgOutProto;if(t.data){if(!Array.isArray(t.data))throw TypeError(".appFrameProtoOut.SimpleEventDataMsgOutProto.data: array expected");e.data=[];for(var n=0;n<t.data.length;++n){if("object"!==r(t.data[n]))throw TypeError(".appFrameProtoOut.SimpleEventDataMsgOutProto.data: object expected");e.data[n]=u.appFrameProtoOut.KeyValueMsgOutProto.fromObject(t.data[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.data=[]),t.data&&t.data.length){n.data=[];for(var r=0;r<t.data.length;++r)n.data[r]=u.appFrameProtoOut.KeyValueMsgOutProto.toObject(t.data[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.KeyValueMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key="",t.prototype.value="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.KeyValueMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.key=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.KeyValueMsgOutProto)return t;var e=new u.appFrameProtoOut.KeyValueMsgOutProto;return null!=t.key&&(e.key=String(t.key)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key="",n.value=""),null!=t.key&&t.hasOwnProperty("key")&&(n.key=t.key),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JsEvalRequestMsgOutProto=function(){function t(t){if(this.params=[],this.garbageIds=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.thisObjectId="",t.prototype.type=0,t.prototype.evalString="",t.prototype.params=c.emptyArray,t.prototype.garbageIds=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsEvalRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.thisObjectId=t.string();break;case 3:r.type=t.int32();break;case 4:r.evalString=t.string();break;case 5:r.params&&r.params.length||(r.params=[]),r.params.push(u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32()));break;case 6:r.garbageIds&&r.garbageIds.length||(r.garbageIds=[]),r.garbageIds.push(t.string());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsEvalRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.JsEvalRequestMsgOutProto;switch(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.thisObjectId&&(e.thisObjectId=String(t.thisObjectId)),t.type){case"eval":case 0:e.type=0;break;case"call":case 1:e.type=1;break;case"setMember":case 2:e.type=2;break;case"getMember":case 3:e.type=3;break;case"deleteMember":case 4:e.type=4;break;case"setSlot":case 5:e.type=5;break;case"getSlot":case 6:e.type=6}if(null!=t.evalString&&(e.evalString=String(t.evalString)),t.params){if(!Array.isArray(t.params))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.params: object expected");e.params[n]=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.params[n])}}if(t.garbageIds){if(!Array.isArray(t.garbageIds))throw TypeError(".appFrameProtoOut.JsEvalRequestMsgOutProto.garbageIds: array expected");for(e.garbageIds=[],n=0;n<t.garbageIds.length;++n)e.garbageIds[n]=String(t.garbageIds[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[],n.garbageIds=[]),e.defaults&&(n.correlationId="",n.thisObjectId="",n.type=e.enums===String?"eval":0,n.evalString=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.thisObjectId&&t.hasOwnProperty("thisObjectId")&&(n.thisObjectId=t.thisObjectId),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.JsEvalRequestMsgOutProto.JsEvalRequestTypeProto[t.type]:t.type),null!=t.evalString&&t.hasOwnProperty("evalString")&&(n.evalString=t.evalString),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.params[r],e)}if(t.garbageIds&&t.garbageIds.length)for(n.garbageIds=[],r=0;r<t.garbageIds.length;++r)n.garbageIds[r]=t.garbageIds[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.JsEvalRequestTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="eval"]=0,e[t[1]="call"]=1,e[t[2]="setMember"]=2,e[t[3]="getMember"]=3,e[t[4]="deleteMember"]=4,e[t[5]="setSlot"]=5,e[t[6]="getSlot"]=6,e}(),t}(),a.JsParamMsgOutProto=function(){function t(t){if(this.array=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.primitive="",t.prototype.jsObject=null,t.prototype.javaObject=null,t.prototype.array=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsParamMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.primitive=t.string();break;case 2:r.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.decode(t,t.uint32());break;case 3:r.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.decode(t,t.uint32());break;case 4:r.array&&r.array.length||(r.array=[]),r.array.push(u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsParamMsgOutProto)return t;var e=new u.appFrameProtoOut.JsParamMsgOutProto;if(null!=t.primitive&&(e.primitive=String(t.primitive)),null!=t.jsObject){if("object"!==r(t.jsObject))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.jsObject: object expected");e.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.fromObject(t.jsObject)}if(null!=t.javaObject){if("object"!==r(t.javaObject))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.javaObject: object expected");e.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.fromObject(t.javaObject)}if(t.array){if(!Array.isArray(t.array))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.array: array expected");e.array=[];for(var n=0;n<t.array.length;++n){if("object"!==r(t.array[n]))throw TypeError(".appFrameProtoOut.JsParamMsgOutProto.array: object expected");e.array[n]=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.array[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.array=[]),e.defaults&&(n.primitive="",n.jsObject=null,n.javaObject=null),null!=t.primitive&&t.hasOwnProperty("primitive")&&(n.primitive=t.primitive),null!=t.jsObject&&t.hasOwnProperty("jsObject")&&(n.jsObject=u.appFrameProtoOut.JSObjectMsgOutProto.toObject(t.jsObject,e)),null!=t.javaObject&&t.hasOwnProperty("javaObject")&&(n.javaObject=u.appFrameProtoOut.JavaObjectRefMsgOutProto.toObject(t.javaObject,e)),t.array&&t.array.length){n.array=[];for(var r=0;r<t.array.length;++r)n.array[r]=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.array[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JSObjectMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JSObjectMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JSObjectMsgOutProto)return t;var e=new u.appFrameProtoOut.JSObjectMsgOutProto;return null!=t.id&&(e.id=String(t.id)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JavaObjectRefMsgOutProto=function(){function t(t){if(this.methods=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.methods=c.emptyArray,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JavaObjectRefMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.methods&&r.methods.length||(r.methods=[]),r.methods.push(t.string());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JavaObjectRefMsgOutProto)return t;var e=new u.appFrameProtoOut.JavaObjectRefMsgOutProto;if(null!=t.id&&(e.id=String(t.id)),t.methods){if(!Array.isArray(t.methods))throw TypeError(".appFrameProtoOut.JavaObjectRefMsgOutProto.methods: array expected");e.methods=[];for(var n=0;n<t.methods.length;++n)e.methods[n]=String(t.methods[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.methods=[]),e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.methods&&t.methods.length){n.methods=[];for(var r=0;r<t.methods.length;++r)n.methods[r]=t.methods[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.JsResultMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.error="",t.prototype.value=null,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.JsResultMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.error=t.string();break;case 3:r.value=u.appFrameProtoOut.JsParamMsgOutProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.JsResultMsgOutProto)return t;var e=new u.appFrameProtoOut.JsResultMsgOutProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.error&&(e.error=String(t.error)),null!=t.value){if("object"!==r(t.value))throw TypeError(".appFrameProtoOut.JsResultMsgOutProto.value: object expected");e.value=u.appFrameProtoOut.JsParamMsgOutProto.fromObject(t.value)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.error="",n.value=null),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),null!=t.value&&t.hasOwnProperty("value")&&(n.value=u.appFrameProtoOut.JsParamMsgOutProto.toObject(t.value,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PlaybackInfoMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.current=0,t.prototype.total=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PlaybackInfoMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.current=t.uint32();break;case 2:r.total=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PlaybackInfoMsgOutProto)return t;var e=new u.appFrameProtoOut.PlaybackInfoMsgOutProto;return null!=t.current&&(e.current=t.current>>>0),null!=t.total&&(e.total=t.total>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.current=0,n.total=0),null!=t.current&&t.hasOwnProperty("current")&&(n.current=t.current),null!=t.total&&t.hasOwnProperty("total")&&(n.total=t.total),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.PixelsAreaRequestMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.PixelsAreaRequestMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.correlationId=t.string();break;case 2:r.x=t.uint32();break;case 3:r.y=t.uint32();break;case 4:r.w=t.uint32();break;case 5:r.h=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.PixelsAreaRequestMsgOutProto)return t;var e=new u.appFrameProtoOut.PixelsAreaRequestMsgOutProto;return null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.x&&(e.x=t.x>>>0),null!=t.y&&(e.y=t.y>>>0),null!=t.w&&(e.w=t.w>>>0),null!=t.h&&(e.h=t.h>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.x=0,n.y=0,n.w=0,n.h=0),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.ComponentTreeMsgOutProto=function(){function t(t){if(this.components=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.componentType="",t.prototype.name="",t.prototype.value="",t.prototype.screenX=0,t.prototype.screenY=0,t.prototype.width=0,t.prototype.height=0,t.prototype.enabled=!1,t.prototype.visible=!1,t.prototype.components=c.emptyArray,t.prototype.hidden=!1,t.prototype.selected=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.ComponentTreeMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.componentType=t.string();break;case 2:r.name=t.string();break;case 3:r.value=t.string();break;case 4:r.screenX=t.sint32();break;case 5:r.screenY=t.sint32();break;case 6:r.width=t.sint32();break;case 7:r.height=t.sint32();break;case 8:r.enabled=t.bool();break;case 9:r.visible=t.bool();break;case 10:r.components&&r.components.length||(r.components=[]),r.components.push(u.appFrameProtoOut.ComponentTreeMsgOutProto.decode(t,t.uint32()));break;case 11:r.hidden=t.bool();break;case 12:r.selected=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.ComponentTreeMsgOutProto)return t;var e=new u.appFrameProtoOut.ComponentTreeMsgOutProto;if(null!=t.componentType&&(e.componentType=String(t.componentType)),null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),null!=t.screenX&&(e.screenX=0|t.screenX),null!=t.screenY&&(e.screenY=0|t.screenY),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),null!=t.enabled&&(e.enabled=Boolean(t.enabled)),null!=t.visible&&(e.visible=Boolean(t.visible)),t.components){if(!Array.isArray(t.components))throw TypeError(".appFrameProtoOut.ComponentTreeMsgOutProto.components: array expected");e.components=[];for(var n=0;n<t.components.length;++n){if("object"!==r(t.components[n]))throw TypeError(".appFrameProtoOut.ComponentTreeMsgOutProto.components: object expected");e.components[n]=u.appFrameProtoOut.ComponentTreeMsgOutProto.fromObject(t.components[n])}}return null!=t.hidden&&(e.hidden=Boolean(t.hidden)),null!=t.selected&&(e.selected=Boolean(t.selected)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.components=[]),e.defaults&&(n.componentType="",n.name="",n.value="",n.screenX=0,n.screenY=0,n.width=0,n.height=0,n.enabled=!1,n.visible=!1,n.hidden=!1,n.selected=!1),null!=t.componentType&&t.hasOwnProperty("componentType")&&(n.componentType=t.componentType),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),null!=t.screenX&&t.hasOwnProperty("screenX")&&(n.screenX=t.screenX),null!=t.screenY&&t.hasOwnProperty("screenY")&&(n.screenY=t.screenY),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.enabled&&t.hasOwnProperty("enabled")&&(n.enabled=t.enabled),null!=t.visible&&t.hasOwnProperty("visible")&&(n.visible=t.visible),t.components&&t.components.length){n.components=[];for(var r=0;r<t.components.length;++r)n.components[r]=u.appFrameProtoOut.ComponentTreeMsgOutProto.toObject(t.components[r],e)}return null!=t.hidden&&t.hasOwnProperty("hidden")&&(n.hidden=t.hidden),null!=t.selected&&t.hasOwnProperty("selected")&&(n.selected=t.selected),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.ActionEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.actionName="",t.prototype.data="",t.prototype.binaryData=c.newBuffer([]),t.prototype.windowId="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.ActionEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.actionName=t.string();break;case 2:r.data=t.string();break;case 3:r.binaryData=t.bytes();break;case 4:r.windowId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.ActionEventMsgOutProto)return t;var e=new u.appFrameProtoOut.ActionEventMsgOutProto;return null!=t.actionName&&(e.actionName=String(t.actionName)),null!=t.data&&(e.data=String(t.data)),null!=t.binaryData&&("string"==typeof t.binaryData?c.base64.decode(t.binaryData,e.binaryData=c.newBuffer(c.base64.length(t.binaryData)),0):t.binaryData.length&&(e.binaryData=t.binaryData)),null!=t.windowId&&(e.windowId=String(t.windowId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.actionName="",n.data="",e.bytes===String?n.binaryData="":(n.binaryData=[],e.bytes!==Array&&(n.binaryData=c.newBuffer(n.binaryData))),n.windowId=""),null!=t.actionName&&t.hasOwnProperty("actionName")&&(n.actionName=t.actionName),null!=t.data&&t.hasOwnProperty("data")&&(n.data=t.data),null!=t.binaryData&&t.hasOwnProperty("binaryData")&&(n.binaryData=e.bytes===String?c.base64.encode(t.binaryData,0,t.binaryData.length):e.bytes===Array?Array.prototype.slice.call(t.binaryData):t.binaryData),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.AudioEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.eventType=0,t.prototype.data=c.newBuffer([]),t.prototype.time=0,t.prototype.loop=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.AudioEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.eventType=t.int32();break;case 3:r.data=t.bytes();break;case 4:r.time=t.float();break;case 5:r.loop=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.AudioEventMsgOutProto)return t;var e=new u.appFrameProtoOut.AudioEventMsgOutProto;switch(null!=t.id&&(e.id=String(t.id)),t.eventType){case"play":case 0:e.eventType=0;break;case"stop":case 1:e.eventType=1;break;case"update":case 2:e.eventType=2;break;case"dispose":case 3:e.eventType=3;break;case"beep":case 4:e.eventType=4}return null!=t.data&&("string"==typeof t.data?c.base64.decode(t.data,e.data=c.newBuffer(c.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.time&&(e.time=Number(t.time)),null!=t.loop&&(e.loop=0|t.loop),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.eventType=e.enums===String?"play":0,e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=c.newBuffer(n.data))),n.time=0,n.loop=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?u.appFrameProtoOut.AudioEventMsgOutProto.AudioEventTypeProto[t.eventType]:t.eventType),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?c.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.time&&t.hasOwnProperty("time")&&(n.time=e.json&&!isFinite(t.time)?String(t.time):t.time),null!=t.loop&&t.hasOwnProperty("loop")&&(n.loop=t.loop),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.AudioEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="play"]=0,e[t[1]="stop"]=1,e[t[2]="update"]=2,e[t[3]="dispose"]=3,e[t[4]="beep"]=4,e}(),t}(),a.CursorChangeEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.cursor="",t.prototype.b64img=c.newBuffer([]),t.prototype.curFile="",t.prototype.x=0,t.prototype.y=0,t.prototype.winId="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.CursorChangeEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.cursor=t.string();break;case 2:r.b64img=t.bytes();break;case 3:r.curFile=t.string();break;case 4:r.x=t.sint32();break;case 5:r.y=t.sint32();break;case 6:r.winId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.CursorChangeEventMsgOutProto)return t;var e=new u.appFrameProtoOut.CursorChangeEventMsgOutProto;return null!=t.cursor&&(e.cursor=String(t.cursor)),null!=t.b64img&&("string"==typeof t.b64img?c.base64.decode(t.b64img,e.b64img=c.newBuffer(c.base64.length(t.b64img)),0):t.b64img.length&&(e.b64img=t.b64img)),null!=t.curFile&&(e.curFile=String(t.curFile)),null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.winId&&(e.winId=String(t.winId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.cursor="",e.bytes===String?n.b64img="":(n.b64img=[],e.bytes!==Array&&(n.b64img=c.newBuffer(n.b64img))),n.curFile="",n.x=0,n.y=0,n.winId=""),null!=t.cursor&&t.hasOwnProperty("cursor")&&(n.cursor=t.cursor),null!=t.b64img&&t.hasOwnProperty("b64img")&&(n.b64img=e.bytes===String?c.base64.encode(t.b64img,0,t.b64img.length):e.bytes===Array?Array.prototype.slice.call(t.b64img):t.b64img),null!=t.curFile&&t.hasOwnProperty("curFile")&&(n.curFile=t.curFile),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.winId&&t.hasOwnProperty("winId")&&(n.winId=t.winId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowUndockEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windowId="",t.prototype.undock=!1,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowUndockEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.windowId=t.string();break;case 2:r.undock=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowUndockEventMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowUndockEventMsgOutProto;return null!=t.windowId&&(e.windowId=String(t.windowId)),null!=t.undock&&(e.undock=Boolean(t.undock)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.windowId="",n.undock=!1),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.undock&&t.hasOwnProperty("undock")&&(n.undock=t.undock),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.WindowEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windowId="",t.prototype.event=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.WindowEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.windowId=t.string();break;case 2:r.event=t.int32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.WindowEventMsgOutProto)return t;var e=new u.appFrameProtoOut.WindowEventMsgOutProto;switch(null!=t.windowId&&(e.windowId=String(t.windowId)),t.event){case"activate":case 0:e.event=0}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.windowId="",n.event=e.enums===String?"activate":0),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?u.appFrameProtoOut.WindowEventMsgOutProto.WindowSwingEventTypeProto[t.event]:t.event),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.WindowSwingEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="activate"]=0,e}(),t}(),a.DirectUploadEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.event=0,t.prototype.transferId="",t.prototype.error="",t.prototype.dndId="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.DirectUploadEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.event=t.int32();break;case 2:r.transferId=t.string();break;case 3:r.error=t.string();break;case 4:r.dndId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.DirectUploadEventMsgOutProto)return t;var e=new u.appFrameProtoOut.DirectUploadEventMsgOutProto;switch(t.event){case"ack":case 0:e.event=0;break;case"err":case 1:e.event=1}return null!=t.transferId&&(e.transferId=String(t.transferId)),null!=t.error&&(e.error=String(t.error)),null!=t.dndId&&(e.dndId=String(t.dndId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.event=e.enums===String?"ack":0,n.transferId="",n.error="",n.dndId=""),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?u.appFrameProtoOut.DirectUploadEventMsgOutProto.DirectUploadEventOutProto[t.event]:t.event),null!=t.transferId&&t.hasOwnProperty("transferId")&&(n.transferId=t.transferId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),null!=t.dndId&&t.hasOwnProperty("dndId")&&(n.dndId=t.dndId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.DirectUploadEventOutProto=function(){var t={},e=Object.create(t);return e[t[0]="ack"]=0,e[t[1]="err"]=1,e}(),t}(),a.DirectDownloadEventMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.event=0,t.prototype.transferId="",t.prototype.type=0,t.prototype.fileName="",t.prototype.size=c.Long?c.Long.fromBits(0,0,!1):0,t.prototype.mime="",t.prototype.data=c.newBuffer([]),t.prototype.error="",t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.DirectDownloadEventMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.event=t.int32();break;case 2:r.transferId=t.string();break;case 3:r.type=t.int32();break;case 4:r.fileName=t.string();break;case 5:r.size=t.sint64();break;case 6:r.mime=t.string();break;case 7:r.data=t.bytes();break;case 8:r.error=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.DirectDownloadEventMsgOutProto)return t;var e=new u.appFrameProtoOut.DirectDownloadEventMsgOutProto;switch(t.event){case"start":case 0:e.event=0;break;case"part":case 1:e.event=1;break;case"finish":case 2:e.event=2;break;case"err":case 3:e.event=3}switch(null!=t.transferId&&(e.transferId=String(t.transferId)),t.type){case"file":case 0:e.type=0;break;case"print":case 1:e.type=1}return null!=t.fileName&&(e.fileName=String(t.fileName)),null!=t.size&&(c.Long?(e.size=c.Long.fromValue(t.size)).unsigned=!1:"string"==typeof t.size?e.size=parseInt(t.size,10):"number"==typeof t.size?e.size=t.size:"object"===r(t.size)&&(e.size=new c.LongBits(t.size.low>>>0,t.size.high>>>0).toNumber())),null!=t.mime&&(e.mime=String(t.mime)),null!=t.data&&("string"==typeof t.data?c.base64.decode(t.data,e.data=c.newBuffer(c.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.error&&(e.error=String(t.error)),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(n.event=e.enums===String?"start":0,n.transferId="",n.type=e.enums===String?"file":0,n.fileName="",c.Long){var r=new c.Long(0,0,!1);n.size=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.size=e.longs===String?"0":0;n.mime="",e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=c.newBuffer(n.data))),n.error=""}return null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?u.appFrameProtoOut.DirectDownloadEventMsgOutProto.DirectDownloadEventOutProto[t.event]:t.event),null!=t.transferId&&t.hasOwnProperty("transferId")&&(n.transferId=t.transferId),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?u.appFrameProtoOut.DirectDownloadEventMsgOutProto.DirectDownloadTypeProto[t.type]:t.type),null!=t.fileName&&t.hasOwnProperty("fileName")&&(n.fileName=t.fileName),null!=t.size&&t.hasOwnProperty("size")&&("number"==typeof t.size?n.size=e.longs===String?String(t.size):t.size:n.size=e.longs===String?c.Long.prototype.toString.call(t.size):e.longs===Number?new c.LongBits(t.size.low>>>0,t.size.high>>>0).toNumber():t.size),null!=t.mime&&t.hasOwnProperty("mime")&&(n.mime=t.mime),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?c.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.DirectDownloadEventOutProto=function(){var t={},e=Object.create(t);return e[t[0]="start"]=0,e[t[1]="part"]=1,e[t[2]="finish"]=2,e[t[3]="err"]=3,e}(),t.DirectDownloadTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="file"]=0,e[t[1]="print"]=1,e}(),t}(),a.InstanceConfigMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.directTransferEnabled=!1,t.prototype.websocketMaxMessageSize=0,t.prototype.websocketMessageChunkOverhead=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.InstanceConfigMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.directTransferEnabled=t.bool();break;case 2:r.websocketMaxMessageSize=t.sint32();break;case 3:r.websocketMessageChunkOverhead=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.InstanceConfigMsgOutProto)return t;var e=new u.appFrameProtoOut.InstanceConfigMsgOutProto;return null!=t.directTransferEnabled&&(e.directTransferEnabled=Boolean(t.directTransferEnabled)),null!=t.websocketMaxMessageSize&&(e.websocketMaxMessageSize=0|t.websocketMaxMessageSize),null!=t.websocketMessageChunkOverhead&&(e.websocketMessageChunkOverhead=0|t.websocketMessageChunkOverhead),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.directTransferEnabled=!1,n.websocketMaxMessageSize=0,n.websocketMessageChunkOverhead=0),null!=t.directTransferEnabled&&t.hasOwnProperty("directTransferEnabled")&&(n.directTransferEnabled=t.directTransferEnabled),null!=t.websocketMaxMessageSize&&t.hasOwnProperty("websocketMaxMessageSize")&&(n.websocketMaxMessageSize=t.websocketMaxMessageSize),null!=t.websocketMessageChunkOverhead&&t.hasOwnProperty("websocketMessageChunkOverhead")&&(n.websocketMessageChunkOverhead=t.websocketMessageChunkOverhead),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.MoveWindowTabMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tabId="",t.prototype.x=0,t.prototype.y=0,t.create=function(e){return new t(e)},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new u.appFrameProtoOut.MoveWindowTabMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tabId=t.string();break;case 2:r.x=t.sint32();break;case 3:r.y=t.sint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof u.appFrameProtoOut.MoveWindowTabMsgOutProto)return t;var e=new u.appFrameProtoOut.MoveWindowTabMsgOutProto;return null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.tabId="",n.x=0,n.y=0),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a),t.exports=u},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r,o=n(5),i=n(116),a=n(90),s=n(52),l=n(117),c=n(84),u=n(66),d=u("IE_PROTO"),p=function(){},f=function(t){return"<script>"+t+"<\/script>"},h=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;h=r?function(t){t.write(f("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",l.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(f("document.F=Object")),t.close(),t.F);for(var n=a.length;n--;)delete h.prototype[a[n]];return h()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(p.prototype=o(t),n=new p,p.prototype=null,n[d]=t):n=h(),void 0===e?n:i(n,e)}},function(t,e,n){var r=n(26);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(6),o=n(35),i=n(10),a=r("unscopables"),s=Array.prototype;null==s[a]&&i.f(s,a,{configurable:!0,value:o(null)}),t.exports=function(t){s[a][t]=!0}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i=n(359),a=i.Writer,s=i.util,l=i.roots.default||(i.roots.default={});l.appFrameProtoIn=((o={}).AppFrameMsgInProto=function(){function t(t){if(this.events=[],this.simpleEvents=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.events=s.emptyArray,t.prototype.clipboardEvent=null,t.prototype.upload=null,t.prototype.selected=null,t.prototype.jsResponse=null,t.prototype.javaRequest=null,t.prototype.pixelsResponse=null,t.prototype.window=null,t.prototype.action=null,t.prototype.audio=null,t.prototype.simpleEvents=s.emptyArray,t.prototype.heartbeat=null,t.prototype.directUpload=null,t.prototype.directDownload=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.events&&t.events.length)for(var n=0;n<t.events.length;++n)l.appFrameProtoIn.InputEventMsgInProto.encode(t.events[n],e.uint32(10).fork()).ldelim();if(null!=t.clipboardEvent&&Object.hasOwnProperty.call(t,"clipboardEvent")&&l.appFrameProtoIn.ClipboardEventMsgInProto.encode(t.clipboardEvent,e.uint32(18).fork()).ldelim(),null!=t.upload&&Object.hasOwnProperty.call(t,"upload")&&l.appFrameProtoIn.UploadEventMsgInProto.encode(t.upload,e.uint32(34).fork()).ldelim(),null!=t.selected&&Object.hasOwnProperty.call(t,"selected")&&l.appFrameProtoIn.FilesSelectedEventMsgInProto.encode(t.selected,e.uint32(42).fork()).ldelim(),null!=t.jsResponse&&Object.hasOwnProperty.call(t,"jsResponse")&&l.appFrameProtoIn.JsResultMsgInProto.encode(t.jsResponse,e.uint32(50).fork()).ldelim(),null!=t.javaRequest&&Object.hasOwnProperty.call(t,"javaRequest")&&l.appFrameProtoIn.JavaEvalRequestMsgInProto.encode(t.javaRequest,e.uint32(58).fork()).ldelim(),null!=t.pixelsResponse&&Object.hasOwnProperty.call(t,"pixelsResponse")&&l.appFrameProtoIn.PixelsAreaResponseMsgInProto.encode(t.pixelsResponse,e.uint32(66).fork()).ldelim(),null!=t.window&&Object.hasOwnProperty.call(t,"window")&&l.appFrameProtoIn.WindowEventMsgInProto.encode(t.window,e.uint32(74).fork()).ldelim(),null!=t.action&&Object.hasOwnProperty.call(t,"action")&&l.appFrameProtoIn.ActionEventMsgInProto.encode(t.action,e.uint32(82).fork()).ldelim(),null!=t.audio&&Object.hasOwnProperty.call(t,"audio")&&l.appFrameProtoIn.AudioEventMsgInProto.encode(t.audio,e.uint32(90).fork()).ldelim(),null!=t.simpleEvents&&t.simpleEvents.length)for(n=0;n<t.simpleEvents.length;++n)l.appFrameProtoIn.SimpleEventMsgInProto.encode(t.simpleEvents[n],e.uint32(98).fork()).ldelim();return null!=t.heartbeat&&Object.hasOwnProperty.call(t,"heartbeat")&&l.appFrameProtoIn.BrowserHeartbeatMsgInProto.encode(t.heartbeat,e.uint32(106).fork()).ldelim(),null!=t.directUpload&&Object.hasOwnProperty.call(t,"directUpload")&&l.appFrameProtoIn.DirectUploadEventMsgInProto.encode(t.directUpload,e.uint32(114).fork()).ldelim(),null!=t.directDownload&&Object.hasOwnProperty.call(t,"directDownload")&&l.appFrameProtoIn.DirectDownloadEventMsgInProto.encode(t.directDownload,e.uint32(122).fork()).ldelim(),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.AppFrameMsgInProto)return t;var e=new l.appFrameProtoIn.AppFrameMsgInProto;if(t.events){if(!Array.isArray(t.events))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.events: array expected");e.events=[];for(var n=0;n<t.events.length;++n){if("object"!==r(t.events[n]))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.events: object expected");e.events[n]=l.appFrameProtoIn.InputEventMsgInProto.fromObject(t.events[n])}}if(null!=t.clipboardEvent){if("object"!==r(t.clipboardEvent))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.clipboardEvent: object expected");e.clipboardEvent=l.appFrameProtoIn.ClipboardEventMsgInProto.fromObject(t.clipboardEvent)}if(null!=t.upload){if("object"!==r(t.upload))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.upload: object expected");e.upload=l.appFrameProtoIn.UploadEventMsgInProto.fromObject(t.upload)}if(null!=t.selected){if("object"!==r(t.selected))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.selected: object expected");e.selected=l.appFrameProtoIn.FilesSelectedEventMsgInProto.fromObject(t.selected)}if(null!=t.jsResponse){if("object"!==r(t.jsResponse))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.jsResponse: object expected");e.jsResponse=l.appFrameProtoIn.JsResultMsgInProto.fromObject(t.jsResponse)}if(null!=t.javaRequest){if("object"!==r(t.javaRequest))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.javaRequest: object expected");e.javaRequest=l.appFrameProtoIn.JavaEvalRequestMsgInProto.fromObject(t.javaRequest)}if(null!=t.pixelsResponse){if("object"!==r(t.pixelsResponse))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.pixelsResponse: object expected");e.pixelsResponse=l.appFrameProtoIn.PixelsAreaResponseMsgInProto.fromObject(t.pixelsResponse)}if(null!=t.window){if("object"!==r(t.window))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.window: object expected");e.window=l.appFrameProtoIn.WindowEventMsgInProto.fromObject(t.window)}if(null!=t.action){if("object"!==r(t.action))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.action: object expected");e.action=l.appFrameProtoIn.ActionEventMsgInProto.fromObject(t.action)}if(null!=t.audio){if("object"!==r(t.audio))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.audio: object expected");e.audio=l.appFrameProtoIn.AudioEventMsgInProto.fromObject(t.audio)}if(t.simpleEvents){if(!Array.isArray(t.simpleEvents))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.simpleEvents: array expected");for(e.simpleEvents=[],n=0;n<t.simpleEvents.length;++n){if("object"!==r(t.simpleEvents[n]))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.simpleEvents: object expected");e.simpleEvents[n]=l.appFrameProtoIn.SimpleEventMsgInProto.fromObject(t.simpleEvents[n])}}if(null!=t.heartbeat){if("object"!==r(t.heartbeat))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.heartbeat: object expected");e.heartbeat=l.appFrameProtoIn.BrowserHeartbeatMsgInProto.fromObject(t.heartbeat)}if(null!=t.directUpload){if("object"!==r(t.directUpload))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.directUpload: object expected");e.directUpload=l.appFrameProtoIn.DirectUploadEventMsgInProto.fromObject(t.directUpload)}if(null!=t.directDownload){if("object"!==r(t.directDownload))throw TypeError(".appFrameProtoIn.AppFrameMsgInProto.directDownload: object expected");e.directDownload=l.appFrameProtoIn.DirectDownloadEventMsgInProto.fromObject(t.directDownload)}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.events=[],n.simpleEvents=[]),e.defaults&&(n.clipboardEvent=null,n.upload=null,n.selected=null,n.jsResponse=null,n.javaRequest=null,n.pixelsResponse=null,n.window=null,n.action=null,n.audio=null,n.heartbeat=null,n.directUpload=null,n.directDownload=null),t.events&&t.events.length){n.events=[];for(var r=0;r<t.events.length;++r)n.events[r]=l.appFrameProtoIn.InputEventMsgInProto.toObject(t.events[r],e)}if(null!=t.clipboardEvent&&t.hasOwnProperty("clipboardEvent")&&(n.clipboardEvent=l.appFrameProtoIn.ClipboardEventMsgInProto.toObject(t.clipboardEvent,e)),null!=t.upload&&t.hasOwnProperty("upload")&&(n.upload=l.appFrameProtoIn.UploadEventMsgInProto.toObject(t.upload,e)),null!=t.selected&&t.hasOwnProperty("selected")&&(n.selected=l.appFrameProtoIn.FilesSelectedEventMsgInProto.toObject(t.selected,e)),null!=t.jsResponse&&t.hasOwnProperty("jsResponse")&&(n.jsResponse=l.appFrameProtoIn.JsResultMsgInProto.toObject(t.jsResponse,e)),null!=t.javaRequest&&t.hasOwnProperty("javaRequest")&&(n.javaRequest=l.appFrameProtoIn.JavaEvalRequestMsgInProto.toObject(t.javaRequest,e)),null!=t.pixelsResponse&&t.hasOwnProperty("pixelsResponse")&&(n.pixelsResponse=l.appFrameProtoIn.PixelsAreaResponseMsgInProto.toObject(t.pixelsResponse,e)),null!=t.window&&t.hasOwnProperty("window")&&(n.window=l.appFrameProtoIn.WindowEventMsgInProto.toObject(t.window,e)),null!=t.action&&t.hasOwnProperty("action")&&(n.action=l.appFrameProtoIn.ActionEventMsgInProto.toObject(t.action,e)),null!=t.audio&&t.hasOwnProperty("audio")&&(n.audio=l.appFrameProtoIn.AudioEventMsgInProto.toObject(t.audio,e)),t.simpleEvents&&t.simpleEvents.length)for(n.simpleEvents=[],r=0;r<t.simpleEvents.length;++r)n.simpleEvents[r]=l.appFrameProtoIn.SimpleEventMsgInProto.toObject(t.simpleEvents[r],e);return null!=t.heartbeat&&t.hasOwnProperty("heartbeat")&&(n.heartbeat=l.appFrameProtoIn.BrowserHeartbeatMsgInProto.toObject(t.heartbeat,e)),null!=t.directUpload&&t.hasOwnProperty("directUpload")&&(n.directUpload=l.appFrameProtoIn.DirectUploadEventMsgInProto.toObject(t.directUpload,e)),null!=t.directDownload&&t.hasOwnProperty("directDownload")&&(n.directDownload=l.appFrameProtoIn.DirectDownloadEventMsgInProto.toObject(t.directDownload,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.BrowserHeartbeatMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),e},t.fromObject=function(t){return t instanceof l.appFrameProtoIn.BrowserHeartbeatMsgInProto?t:new l.appFrameProtoIn.BrowserHeartbeatMsgInProto},t.toObject=function(){return{}},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.SimpleEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.SimpleEventMsgInProto)return t;var e=new l.appFrameProtoIn.SimpleEventMsgInProto;switch(t.type){case"killSwing":case 1:e.type=1;break;case"killSwingAdmin":case 2:e.type=2;break;case"paintAck":case 3:e.type=3;break;case"repaint":case 4:e.type=4;break;case"downloadFile":case 5:e.type=5;break;case"deleteFile":case 6:e.type=6;break;case"cancelFileSelection":case 7:e.type=7;break;case"requestComponentTree":case 8:e.type=8;break;case"requestWindowSwitchList":case 9:e.type=9;break;case"enableStatisticsLogging":case 10:e.type=10;break;case"disableStatisticsLogging":case 11:e.type=11;break;case"startRecording":case 12:e.type=12;break;case"stopRecording":case 13:e.type=13;break;case"startMirroring":case 14:e.type=14;break;case"stopMirroring":case 15:e.type=15;break;case"requestConfig":case 16:e.type=16}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"killSwing":1),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?l.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto[t.type]:t.type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.SimpleEventTypeProto=(e={},(n=Object.create(e))[e[1]="killSwing"]=1,n[e[2]="killSwingAdmin"]=2,n[e[3]="paintAck"]=3,n[e[4]="repaint"]=4,n[e[5]="downloadFile"]=5,n[e[6]="deleteFile"]=6,n[e[7]="cancelFileSelection"]=7,n[e[8]="requestComponentTree"]=8,n[e[9]="requestWindowSwitchList"]=9,n[e[10]="enableStatisticsLogging"]=10,n[e[11]="disableStatisticsLogging"]=11,n[e[12]="startRecording"]=12,n[e[13]="stopRecording"]=13,n[e[14]="startMirroring"]=14,n[e[15]="stopMirroring"]=15,n[e[16]="requestConfig"]=16,n),t}(),o.InputEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.key=null,t.prototype.mouse=null,t.prototype.focus=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&l.appFrameProtoIn.KeyboardEventMsgInProto.encode(t.key,e.uint32(10).fork()).ldelim(),null!=t.mouse&&Object.hasOwnProperty.call(t,"mouse")&&l.appFrameProtoIn.MouseEventMsgInProto.encode(t.mouse,e.uint32(18).fork()).ldelim(),null!=t.focus&&Object.hasOwnProperty.call(t,"focus")&&l.appFrameProtoIn.WindowFocusMsgInProto.encode(t.focus,e.uint32(26).fork()).ldelim(),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.InputEventMsgInProto)return t;var e=new l.appFrameProtoIn.InputEventMsgInProto;if(null!=t.key){if("object"!==r(t.key))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.key: object expected");e.key=l.appFrameProtoIn.KeyboardEventMsgInProto.fromObject(t.key)}if(null!=t.mouse){if("object"!==r(t.mouse))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.mouse: object expected");e.mouse=l.appFrameProtoIn.MouseEventMsgInProto.fromObject(t.mouse)}if(null!=t.focus){if("object"!==r(t.focus))throw TypeError(".appFrameProtoIn.InputEventMsgInProto.focus: object expected");e.focus=l.appFrameProtoIn.WindowFocusMsgInProto.fromObject(t.focus)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.key=null,n.mouse=null,n.focus=null),null!=t.key&&t.hasOwnProperty("key")&&(n.key=l.appFrameProtoIn.KeyboardEventMsgInProto.toObject(t.key,e)),null!=t.mouse&&t.hasOwnProperty("mouse")&&(n.mouse=l.appFrameProtoIn.MouseEventMsgInProto.toObject(t.mouse,e)),null!=t.focus&&t.hasOwnProperty("focus")&&(n.focus=l.appFrameProtoIn.WindowFocusMsgInProto.toObject(t.focus,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.WindowFocusMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windowId="",t.prototype.htmlPanelId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.windowId&&Object.hasOwnProperty.call(t,"windowId")&&e.uint32(10).string(t.windowId),null!=t.htmlPanelId&&Object.hasOwnProperty.call(t,"htmlPanelId")&&e.uint32(18).string(t.htmlPanelId),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.WindowFocusMsgInProto)return t;var e=new l.appFrameProtoIn.WindowFocusMsgInProto;return null!=t.windowId&&(e.windowId=String(t.windowId)),null!=t.htmlPanelId&&(e.htmlPanelId=String(t.htmlPanelId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.windowId="",n.htmlPanelId=""),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.htmlPanelId&&t.hasOwnProperty("htmlPanelId")&&(n.htmlPanelId=t.htmlPanelId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.KeyboardEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=0,t.prototype.character=0,t.prototype.keycode=0,t.prototype.alt=!1,t.prototype.ctrl=!1,t.prototype.shift=!1,t.prototype.meta=!1,t.prototype.key="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),null!=t.character&&Object.hasOwnProperty.call(t,"character")&&e.uint32(16).sint32(t.character),null!=t.keycode&&Object.hasOwnProperty.call(t,"keycode")&&e.uint32(24).sint32(t.keycode),null!=t.alt&&Object.hasOwnProperty.call(t,"alt")&&e.uint32(32).bool(t.alt),null!=t.ctrl&&Object.hasOwnProperty.call(t,"ctrl")&&e.uint32(40).bool(t.ctrl),null!=t.shift&&Object.hasOwnProperty.call(t,"shift")&&e.uint32(48).bool(t.shift),null!=t.meta&&Object.hasOwnProperty.call(t,"meta")&&e.uint32(56).bool(t.meta),null!=t.key&&Object.hasOwnProperty.call(t,"key")&&e.uint32(66).string(t.key),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.KeyboardEventMsgInProto)return t;var e=new l.appFrameProtoIn.KeyboardEventMsgInProto;switch(t.type){case"keypress":case 0:e.type=0;break;case"keydown":case 1:e.type=1;break;case"keyup":case 2:e.type=2}return null!=t.character&&(e.character=0|t.character),null!=t.keycode&&(e.keycode=0|t.keycode),null!=t.alt&&(e.alt=Boolean(t.alt)),null!=t.ctrl&&(e.ctrl=Boolean(t.ctrl)),null!=t.shift&&(e.shift=Boolean(t.shift)),null!=t.meta&&(e.meta=Boolean(t.meta)),null!=t.key&&(e.key=String(t.key)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"keypress":0,n.character=0,n.keycode=0,n.alt=!1,n.ctrl=!1,n.shift=!1,n.meta=!1,n.key=""),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?l.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto[t.type]:t.type),null!=t.character&&t.hasOwnProperty("character")&&(n.character=t.character),null!=t.keycode&&t.hasOwnProperty("keycode")&&(n.keycode=t.keycode),null!=t.alt&&t.hasOwnProperty("alt")&&(n.alt=t.alt),null!=t.ctrl&&t.hasOwnProperty("ctrl")&&(n.ctrl=t.ctrl),null!=t.shift&&t.hasOwnProperty("shift")&&(n.shift=t.shift),null!=t.meta&&t.hasOwnProperty("meta")&&(n.meta=t.meta),null!=t.key&&t.hasOwnProperty("key")&&(n.key=t.key),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.KeyEventTypeProto=(e={},(n=Object.create(e))[e[0]="keypress"]=0,n[e[1]="keydown"]=1,n[e[2]="keyup"]=2,n),t}(),o.MouseEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=0,t.prototype.x=0,t.prototype.y=0,t.prototype.wheelDelta=0,t.prototype.button=0,t.prototype.ctrl=!1,t.prototype.alt=!1,t.prototype.shift=!1,t.prototype.meta=!1,t.prototype.buttons=0,t.prototype.timeMilis=0,t.prototype.winId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).int32(t.type),null!=t.x&&Object.hasOwnProperty.call(t,"x")&&e.uint32(16).sint32(t.x),null!=t.y&&Object.hasOwnProperty.call(t,"y")&&e.uint32(24).sint32(t.y),null!=t.wheelDelta&&Object.hasOwnProperty.call(t,"wheelDelta")&&e.uint32(32).sint32(t.wheelDelta),null!=t.button&&Object.hasOwnProperty.call(t,"button")&&e.uint32(40).sint32(t.button),null!=t.ctrl&&Object.hasOwnProperty.call(t,"ctrl")&&e.uint32(48).bool(t.ctrl),null!=t.alt&&Object.hasOwnProperty.call(t,"alt")&&e.uint32(56).bool(t.alt),null!=t.shift&&Object.hasOwnProperty.call(t,"shift")&&e.uint32(64).bool(t.shift),null!=t.meta&&Object.hasOwnProperty.call(t,"meta")&&e.uint32(72).bool(t.meta),null!=t.buttons&&Object.hasOwnProperty.call(t,"buttons")&&e.uint32(80).sint32(t.buttons),null!=t.timeMilis&&Object.hasOwnProperty.call(t,"timeMilis")&&e.uint32(88).sint32(t.timeMilis),null!=t.winId&&Object.hasOwnProperty.call(t,"winId")&&e.uint32(98).string(t.winId),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.MouseEventMsgInProto)return t;var e=new l.appFrameProtoIn.MouseEventMsgInProto;switch(t.type){case"mousemove":case 0:e.type=0;break;case"mousedown":case 1:e.type=1;break;case"mouseup":case 2:e.type=2;break;case"mousewheel":case 3:e.type=3;break;case"dblclick":case 4:e.type=4}return null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.wheelDelta&&(e.wheelDelta=0|t.wheelDelta),null!=t.button&&(e.button=0|t.button),null!=t.ctrl&&(e.ctrl=Boolean(t.ctrl)),null!=t.alt&&(e.alt=Boolean(t.alt)),null!=t.shift&&(e.shift=Boolean(t.shift)),null!=t.meta&&(e.meta=Boolean(t.meta)),null!=t.buttons&&(e.buttons=0|t.buttons),null!=t.timeMilis&&(e.timeMilis=0|t.timeMilis),null!=t.winId&&(e.winId=String(t.winId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"mousemove":0,n.x=0,n.y=0,n.wheelDelta=0,n.button=0,n.ctrl=!1,n.alt=!1,n.shift=!1,n.meta=!1,n.buttons=0,n.timeMilis=0,n.winId=""),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?l.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto[t.type]:t.type),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.wheelDelta&&t.hasOwnProperty("wheelDelta")&&(n.wheelDelta=t.wheelDelta),null!=t.button&&t.hasOwnProperty("button")&&(n.button=t.button),null!=t.ctrl&&t.hasOwnProperty("ctrl")&&(n.ctrl=t.ctrl),null!=t.alt&&t.hasOwnProperty("alt")&&(n.alt=t.alt),null!=t.shift&&t.hasOwnProperty("shift")&&(n.shift=t.shift),null!=t.meta&&t.hasOwnProperty("meta")&&(n.meta=t.meta),null!=t.buttons&&t.hasOwnProperty("buttons")&&(n.buttons=t.buttons),null!=t.timeMilis&&t.hasOwnProperty("timeMilis")&&(n.timeMilis=t.timeMilis),null!=t.winId&&t.hasOwnProperty("winId")&&(n.winId=t.winId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.MouseEventTypeProto=(e={},(n=Object.create(e))[e[0]="mousemove"]=0,n[e[1]="mousedown"]=1,n[e[2]="mouseup"]=2,n[e[3]="mousewheel"]=3,n[e[4]="dblclick"]=4,n),t}(),o.ClipboardEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.text="",t.prototype.html="",t.prototype.img="",t.prototype.special=!1,t.prototype.file="",t.prototype.type=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.text&&Object.hasOwnProperty.call(t,"text")&&e.uint32(10).string(t.text),null!=t.html&&Object.hasOwnProperty.call(t,"html")&&e.uint32(18).string(t.html),null!=t.img&&Object.hasOwnProperty.call(t,"img")&&e.uint32(26).string(t.img),null!=t.special&&Object.hasOwnProperty.call(t,"special")&&e.uint32(32).bool(t.special),null!=t.file&&Object.hasOwnProperty.call(t,"file")&&e.uint32(42).string(t.file),null!=t.type&&Object.hasOwnProperty.call(t,"type")&&e.uint32(48).int32(t.type),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.ClipboardEventMsgInProto)return t;var e=new l.appFrameProtoIn.ClipboardEventMsgInProto;switch(null!=t.text&&(e.text=String(t.text)),null!=t.html&&(e.html=String(t.html)),null!=t.img&&(e.img=String(t.img)),null!=t.special&&(e.special=Boolean(t.special)),null!=t.file&&(e.file=String(t.file)),t.type){case"copy":case 0:e.type=0;break;case"paste":case 1:e.type=1;break;case"cut":case 2:e.type=2;break;case"getFileFromClipboard":case 3:e.type=3;break;case"sync":case 4:e.type=4}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.text="",n.html="",n.img="",n.special=!1,n.file="",n.type=e.enums===String?"copy":0),null!=t.text&&t.hasOwnProperty("text")&&(n.text=t.text),null!=t.html&&t.hasOwnProperty("html")&&(n.html=t.html),null!=t.img&&t.hasOwnProperty("img")&&(n.img=t.img),null!=t.special&&t.hasOwnProperty("special")&&(n.special=t.special),null!=t.file&&t.hasOwnProperty("file")&&(n.file=t.file),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?l.appFrameProtoIn.ClipboardEventMsgInProto.ClipboardEventMsgTypeProto[t.type]:t.type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.ClipboardEventMsgTypeProto=(e={},(n=Object.create(e))[e[0]="copy"]=0,n[e[1]="paste"]=1,n[e[2]="cut"]=2,n[e[3]="getFileFromClipboard"]=3,n[e[4]="sync"]=4,n),t}(),o.FilesSelectedEventMsgInProto=function(){function t(t){if(this.files=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.files=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.files&&t.files.length)for(var n=0;n<t.files.length;++n)e.uint32(10).string(t.files[n]);return e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.FilesSelectedEventMsgInProto)return t;var e=new l.appFrameProtoIn.FilesSelectedEventMsgInProto;if(t.files){if(!Array.isArray(t.files))throw TypeError(".appFrameProtoIn.FilesSelectedEventMsgInProto.files: array expected");e.files=[];for(var n=0;n<t.files.length;++n)e.files[n]=String(t.files[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.files=[]),t.files&&t.files.length){n.files=[];for(var r=0;r<t.files.length;++r)n.files[r]=t.files[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.UploadEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.fileId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.fileId&&Object.hasOwnProperty.call(t,"fileId")&&e.uint32(10).string(t.fileId),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.UploadEventMsgInProto)return t;var e=new l.appFrameProtoIn.UploadEventMsgInProto;return null!=t.fileId&&(e.fileId=String(t.fileId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.fileId=""),null!=t.fileId&&t.hasOwnProperty("fileId")&&(n.fileId=t.fileId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JavaEvalRequestMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.objectId="",t.prototype.method="",t.prototype.params=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.objectId&&Object.hasOwnProperty.call(t,"objectId")&&e.uint32(18).string(t.objectId),null!=t.method&&Object.hasOwnProperty.call(t,"method")&&e.uint32(26).string(t.method),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)l.appFrameProtoIn.JsParamMsgInProto.encode(t.params[n],e.uint32(34).fork()).ldelim();return e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.JavaEvalRequestMsgInProto)return t;var e=new l.appFrameProtoIn.JavaEvalRequestMsgInProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.objectId&&(e.objectId=String(t.objectId)),null!=t.method&&(e.method=String(t.method)),t.params){if(!Array.isArray(t.params))throw TypeError(".appFrameProtoIn.JavaEvalRequestMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".appFrameProtoIn.JavaEvalRequestMsgInProto.params: object expected");e.params[n]=l.appFrameProtoIn.JsParamMsgInProto.fromObject(t.params[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.correlationId="",n.objectId="",n.method=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.objectId&&t.hasOwnProperty("objectId")&&(n.objectId=t.objectId),null!=t.method&&t.hasOwnProperty("method")&&(n.method=t.method),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=l.appFrameProtoIn.JsParamMsgInProto.toObject(t.params[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JsResultMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.error="",t.prototype.value=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.error&&Object.hasOwnProperty.call(t,"error")&&e.uint32(18).string(t.error),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&l.appFrameProtoIn.JsParamMsgInProto.encode(t.value,e.uint32(26).fork()).ldelim(),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.JsResultMsgInProto)return t;var e=new l.appFrameProtoIn.JsResultMsgInProto;if(null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.error&&(e.error=String(t.error)),null!=t.value){if("object"!==r(t.value))throw TypeError(".appFrameProtoIn.JsResultMsgInProto.value: object expected");e.value=l.appFrameProtoIn.JsParamMsgInProto.fromObject(t.value)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.error="",n.value=null),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),null!=t.value&&t.hasOwnProperty("value")&&(n.value=l.appFrameProtoIn.JsParamMsgInProto.toObject(t.value,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JsParamMsgInProto=function(){function t(t){if(this.array=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.primitive="",t.prototype.jsObject=null,t.prototype.javaObject=null,t.prototype.array=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.primitive&&Object.hasOwnProperty.call(t,"primitive")&&e.uint32(10).string(t.primitive),null!=t.jsObject&&Object.hasOwnProperty.call(t,"jsObject")&&l.appFrameProtoIn.JSObjectMsgInProto.encode(t.jsObject,e.uint32(18).fork()).ldelim(),null!=t.javaObject&&Object.hasOwnProperty.call(t,"javaObject")&&l.appFrameProtoIn.JavaObjectRefMsgInProto.encode(t.javaObject,e.uint32(26).fork()).ldelim(),null!=t.array&&t.array.length)for(var n=0;n<t.array.length;++n)l.appFrameProtoIn.JsParamMsgInProto.encode(t.array[n],e.uint32(34).fork()).ldelim();return e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.JsParamMsgInProto)return t;var e=new l.appFrameProtoIn.JsParamMsgInProto;if(null!=t.primitive&&(e.primitive=String(t.primitive)),null!=t.jsObject){if("object"!==r(t.jsObject))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.jsObject: object expected");e.jsObject=l.appFrameProtoIn.JSObjectMsgInProto.fromObject(t.jsObject)}if(null!=t.javaObject){if("object"!==r(t.javaObject))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.javaObject: object expected");e.javaObject=l.appFrameProtoIn.JavaObjectRefMsgInProto.fromObject(t.javaObject)}if(t.array){if(!Array.isArray(t.array))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.array: array expected");e.array=[];for(var n=0;n<t.array.length;++n){if("object"!==r(t.array[n]))throw TypeError(".appFrameProtoIn.JsParamMsgInProto.array: object expected");e.array[n]=l.appFrameProtoIn.JsParamMsgInProto.fromObject(t.array[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.array=[]),e.defaults&&(n.primitive="",n.jsObject=null,n.javaObject=null),null!=t.primitive&&t.hasOwnProperty("primitive")&&(n.primitive=t.primitive),null!=t.jsObject&&t.hasOwnProperty("jsObject")&&(n.jsObject=l.appFrameProtoIn.JSObjectMsgInProto.toObject(t.jsObject,e)),null!=t.javaObject&&t.hasOwnProperty("javaObject")&&(n.javaObject=l.appFrameProtoIn.JavaObjectRefMsgInProto.toObject(t.javaObject,e)),t.array&&t.array.length){n.array=[];for(var r=0;r<t.array.length;++r)n.array[r]=l.appFrameProtoIn.JsParamMsgInProto.toObject(t.array[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JavaObjectRefMsgInProto=function(){function t(t){if(this.methods=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.methods=s.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.methods&&t.methods.length)for(var n=0;n<t.methods.length;++n)e.uint32(18).string(t.methods[n]);return e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.JavaObjectRefMsgInProto)return t;var e=new l.appFrameProtoIn.JavaObjectRefMsgInProto;if(null!=t.id&&(e.id=String(t.id)),t.methods){if(!Array.isArray(t.methods))throw TypeError(".appFrameProtoIn.JavaObjectRefMsgInProto.methods: array expected");e.methods=[];for(var n=0;n<t.methods.length;++n)e.methods[n]=String(t.methods[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.methods=[]),e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),t.methods&&t.methods.length){n.methods=[];for(var r=0;r<t.methods.length;++r)n.methods[r]=t.methods[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.JSObjectMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.JSObjectMsgInProto)return t;var e=new l.appFrameProtoIn.JSObjectMsgInProto;return null!=t.id&&(e.id=String(t.id)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.PixelsAreaResponseMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.correlationId="",t.prototype.pixels="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.correlationId&&Object.hasOwnProperty.call(t,"correlationId")&&e.uint32(10).string(t.correlationId),null!=t.pixels&&Object.hasOwnProperty.call(t,"pixels")&&e.uint32(18).string(t.pixels),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.PixelsAreaResponseMsgInProto)return t;var e=new l.appFrameProtoIn.PixelsAreaResponseMsgInProto;return null!=t.correlationId&&(e.correlationId=String(t.correlationId)),null!=t.pixels&&(e.pixels=String(t.pixels)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.correlationId="",n.pixels=""),null!=t.correlationId&&t.hasOwnProperty("correlationId")&&(n.correlationId=t.correlationId),null!=t.pixels&&t.hasOwnProperty("pixels")&&(n.pixels=t.pixels),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.WindowEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.id="",t.prototype.x=0,t.prototype.y=0,t.prototype.width=0,t.prototype.height=0,t.prototype.eventType=0,t.prototype.tabId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.x&&Object.hasOwnProperty.call(t,"x")&&e.uint32(16).sint32(t.x),null!=t.y&&Object.hasOwnProperty.call(t,"y")&&e.uint32(24).sint32(t.y),null!=t.width&&Object.hasOwnProperty.call(t,"width")&&e.uint32(32).sint32(t.width),null!=t.height&&Object.hasOwnProperty.call(t,"height")&&e.uint32(40).sint32(t.height),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(48).int32(t.eventType),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(58).string(t.tabId),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.WindowEventMsgInProto)return t;var e=new l.appFrameProtoIn.WindowEventMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),null!=t.x&&(e.x=0|t.x),null!=t.y&&(e.y=0|t.y),null!=t.width&&(e.width=0|t.width),null!=t.height&&(e.height=0|t.height),t.eventType){case"close":case 0:e.eventType=0;break;case"focus":case 1:e.eventType=1;break;case"maximize":case 2:e.eventType=2;break;case"restore":case 3:e.eventType=3;break;case"undecorate":case 4:e.eventType=4;break;case"decorate":case 5:e.eventType=5;break;case"undock":case 6:e.eventType=6;break;case"dock":case 7:e.eventType=7;break;case"toFront":case 8:e.eventType=8;break;case"forceDock":case 9:e.eventType=9;break;case"checkTabClose":case 10:e.eventType=10;break;case"updateTabPosition":case 11:e.eventType=11;break;case"undockHidden":case 12:e.eventType=12}return null!=t.tabId&&(e.tabId=String(t.tabId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.x=0,n.y=0,n.width=0,n.height=0,n.eventType=e.enums===String?"close":0,n.tabId=""),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.x&&t.hasOwnProperty("x")&&(n.x=t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=t.y),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?l.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto[t.eventType]:t.eventType),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.WindowEventTypeProto=(e={},(n=Object.create(e))[e[0]="close"]=0,n[e[1]="focus"]=1,n[e[2]="maximize"]=2,n[e[3]="restore"]=3,n[e[4]="undecorate"]=4,n[e[5]="decorate"]=5,n[e[6]="undock"]=6,n[e[7]="dock"]=7,n[e[8]="toFront"]=8,n[e[9]="forceDock"]=9,n[e[10]="checkTabClose"]=10,n[e[11]="updateTabPosition"]=11,n[e[12]="undockHidden"]=12,n),t}(),o.AudioEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.stop=!1,t.prototype.ping=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.stop&&Object.hasOwnProperty.call(t,"stop")&&e.uint32(16).bool(t.stop),null!=t.ping&&Object.hasOwnProperty.call(t,"ping")&&e.uint32(24).bool(t.ping),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.AudioEventMsgInProto)return t;var e=new l.appFrameProtoIn.AudioEventMsgInProto;return null!=t.id&&(e.id=String(t.id)),null!=t.stop&&(e.stop=Boolean(t.stop)),null!=t.ping&&(e.ping=Boolean(t.ping)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.stop=!1,n.ping=!1),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.stop&&t.hasOwnProperty("stop")&&(n.stop=t.stop),null!=t.ping&&t.hasOwnProperty("ping")&&(n.ping=t.ping),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t}(),o.ActionEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.actionName="",t.prototype.data="",t.prototype.binaryData=s.newBuffer([]),t.prototype.windowId="",t.prototype.eventType=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.actionName&&Object.hasOwnProperty.call(t,"actionName")&&e.uint32(10).string(t.actionName),null!=t.data&&Object.hasOwnProperty.call(t,"data")&&e.uint32(18).string(t.data),null!=t.binaryData&&Object.hasOwnProperty.call(t,"binaryData")&&e.uint32(26).bytes(t.binaryData),null!=t.windowId&&Object.hasOwnProperty.call(t,"windowId")&&e.uint32(34).string(t.windowId),null!=t.eventType&&Object.hasOwnProperty.call(t,"eventType")&&e.uint32(40).int32(t.eventType),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.ActionEventMsgInProto)return t;var e=new l.appFrameProtoIn.ActionEventMsgInProto;switch(null!=t.actionName&&(e.actionName=String(t.actionName)),null!=t.data&&(e.data=String(t.data)),null!=t.binaryData&&("string"==typeof t.binaryData?s.base64.decode(t.binaryData,e.binaryData=s.newBuffer(s.base64.length(t.binaryData)),0):t.binaryData.length&&(e.binaryData=t.binaryData)),null!=t.windowId&&(e.windowId=String(t.windowId)),t.eventType){case"init":case 0:e.eventType=0;break;case"user":case 1:e.eventType=1}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.actionName="",n.data="",e.bytes===String?n.binaryData="":(n.binaryData=[],e.bytes!==Array&&(n.binaryData=s.newBuffer(n.binaryData))),n.windowId="",n.eventType=e.enums===String?"init":0),null!=t.actionName&&t.hasOwnProperty("actionName")&&(n.actionName=t.actionName),null!=t.data&&t.hasOwnProperty("data")&&(n.data=t.data),null!=t.binaryData&&t.hasOwnProperty("binaryData")&&(n.binaryData=e.bytes===String?s.base64.encode(t.binaryData,0,t.binaryData.length):e.bytes===Array?Array.prototype.slice.call(t.binaryData):t.binaryData),null!=t.windowId&&t.hasOwnProperty("windowId")&&(n.windowId=t.windowId),null!=t.eventType&&t.hasOwnProperty("eventType")&&(n.eventType=e.enums===String?l.appFrameProtoIn.ActionEventMsgInProto.ActionEventTypeProto[t.eventType]:t.eventType),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.ActionEventTypeProto=(e={},(n=Object.create(e))[e[0]="init"]=0,n[e[1]="user"]=1,n),t}(),o.DirectUploadEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.event=0,t.prototype.transferId="",t.prototype.fileName="",t.prototype.size=s.Long?s.Long.fromBits(0,0,!1):0,t.prototype.data=s.newBuffer([]),t.prototype.dndId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(8).int32(t.event),null!=t.transferId&&Object.hasOwnProperty.call(t,"transferId")&&e.uint32(18).string(t.transferId),null!=t.fileName&&Object.hasOwnProperty.call(t,"fileName")&&e.uint32(26).string(t.fileName),null!=t.size&&Object.hasOwnProperty.call(t,"size")&&e.uint32(32).sint64(t.size),null!=t.data&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).bytes(t.data),null!=t.dndId&&Object.hasOwnProperty.call(t,"dndId")&&e.uint32(50).string(t.dndId),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.DirectUploadEventMsgInProto)return t;var e=new l.appFrameProtoIn.DirectUploadEventMsgInProto;switch(t.event){case"start":case 0:e.event=0;break;case"part":case 1:e.event=1;break;case"finish":case 2:e.event=2;break;case"cancel":case 3:e.event=3}return null!=t.transferId&&(e.transferId=String(t.transferId)),null!=t.fileName&&(e.fileName=String(t.fileName)),null!=t.size&&(s.Long?(e.size=s.Long.fromValue(t.size)).unsigned=!1:"string"==typeof t.size?e.size=parseInt(t.size,10):"number"==typeof t.size?e.size=t.size:"object"===r(t.size)&&(e.size=new s.LongBits(t.size.low>>>0,t.size.high>>>0).toNumber())),null!=t.data&&("string"==typeof t.data?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),null!=t.dndId&&(e.dndId=String(t.dndId)),e},t.toObject=function(t,e){e||(e={});var n={};if(e.defaults){if(n.event=e.enums===String?"start":0,n.transferId="",n.fileName="",s.Long){var r=new s.Long(0,0,!1);n.size=e.longs===String?r.toString():e.longs===Number?r.toNumber():r}else n.size=e.longs===String?"0":0;e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=s.newBuffer(n.data))),n.dndId=""}return null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?l.appFrameProtoIn.DirectUploadEventMsgInProto.DirectUploadEventInProto[t.event]:t.event),null!=t.transferId&&t.hasOwnProperty("transferId")&&(n.transferId=t.transferId),null!=t.fileName&&t.hasOwnProperty("fileName")&&(n.fileName=t.fileName),null!=t.size&&t.hasOwnProperty("size")&&("number"==typeof t.size?n.size=e.longs===String?String(t.size):t.size:n.size=e.longs===String?s.Long.prototype.toString.call(t.size):e.longs===Number?new s.LongBits(t.size.low>>>0,t.size.high>>>0).toNumber():t.size),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),null!=t.dndId&&t.hasOwnProperty("dndId")&&(n.dndId=t.dndId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.DirectUploadEventInProto=(e={},(n=Object.create(e))[e[0]="start"]=0,n[e[1]="part"]=1,n[e[2]="finish"]=2,n[e[3]="cancel"]=3,n),t}(),o.DirectDownloadEventMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.event=0,t.prototype.transferId="",t.prototype.error="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=a.create()),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(8).int32(t.event),null!=t.transferId&&Object.hasOwnProperty.call(t,"transferId")&&e.uint32(18).string(t.transferId),null!=t.error&&Object.hasOwnProperty.call(t,"error")&&e.uint32(26).string(t.error),e},t.fromObject=function(t){if(t instanceof l.appFrameProtoIn.DirectDownloadEventMsgInProto)return t;var e=new l.appFrameProtoIn.DirectDownloadEventMsgInProto;switch(t.event){case"ack":case 0:e.event=0;break;case"err":case 1:e.event=1}return null!=t.transferId&&(e.transferId=String(t.transferId)),null!=t.error&&(e.error=String(t.error)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.event=e.enums===String?"ack":0,n.transferId="",n.error=""),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?l.appFrameProtoIn.DirectDownloadEventMsgInProto.DirectDownloadEventInProto[t.event]:t.event),null!=t.transferId&&t.hasOwnProperty("transferId")&&(n.transferId=t.transferId),null!=t.error&&t.hasOwnProperty("error")&&(n.error=t.error),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,i.util.toJSONOptions)},t.DirectDownloadEventInProto=(e={},(n=Object.create(e))[e[0]="ack"]=0,n[e[1]="err"]=1,n),t}(),o),t.exports=l},function(t,e,n){var r=n(114),o=n(90).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,o)}},function(t,e,n){var r=n(24),o=Math.max,i=Math.min;t.exports=function(t,e){var n=r(t);return n<0?o(n+e,0):i(n,e)}},function(t,e,n){"use strict";var r=n(28),o=n(10),i=n(33);t.exports=function(t,e,n){var a=r(e);a in t?o.f(t,a,i(0,n)):t[a]=n}},function(t,e,n){var r=n(52),o=n(4),i=n(11),a=n(10).f,s=n(51),l=n(62),c=s("meta"),u=0,d=Object.isExtensible||function(){return!0},p=function(t){a(t,c,{value:{objectID:"O"+ ++u,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!o(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,c)){if(!d(t))return"F";if(!e)return"E";p(t)}return t[c].objectID},getWeakData:function(t,e){if(!i(t,c)){if(!d(t))return!0;if(!e)return!1;p(t)}return t[c].weakData},onFreeze:function(t){return l&&f.REQUIRED&&d(t)&&!i(t,c)&&p(t),t}};r[c]=!0},function(t,e,n){var r=n(5),o=n(26),i=n(6)("species");t.exports=function(t,e){var n,a=r(t).constructor;return void 0===a||null==(n=r(a)[i])?e:o(n)}},function(t,e,n){var r=n(5),o=n(126);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return r(n),o(i),e?t.call(n,i):n.__proto__=i,n}}():void 0)},function(t,e,n){"use strict";var r=n(25),o=n(10),i=n(6),a=n(8),s=i("species");t.exports=function(t){var e=r(t),n=o.f;a&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,n){var r=n(15);t.exports=function(t,e,n){for(var o in e)r(t,o,e[o],n);return t}},function(t,e,n){var r=n(17),o="["+n(75)+"]",i=RegExp("^"+o+o+"*"),a=RegExp(o+o+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(i,"")),2&t&&(n=n.replace(a,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(2),o=n(34),i="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(2),o=/#|\.prototype\./,i=function(t,e){var n=s[a(t)];return n==c||n!=l&&("function"==typeof e?r(e):!!e)},a=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},s=i.data={},l=i.NATIVE="N",c=i.POLYFILL="P";t.exports=i},function(t,e,n){var r=n(34),o=n(3);t.exports="process"==r(o.process)},function(t,e,n){var r=n(34);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){var r=n(114),o=n(90);t.exports=Object.keys||function(t){return r(t,o)}},function(t,e,n){var r=n(4),o=n(55),i=n(6)("species");t.exports=function(t,e){var n;return o(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!o(n.prototype)?r(n)&&null===(n=n[i])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){var r=n(2),o=n(6),i=n(68),a=o("species");t.exports=function(t){return i>=51||!r((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e){t.exports={}},function(t,e,n){var r=n(61),o=n(59),i=n(6)("iterator");t.exports=function(t){if(null!=t)return t[i]||t["@@iterator"]||o[r(t)]}},function(t,e,n){var r=n(95),o=n(34),i=n(6)("toStringTag"),a="Arguments"==o(function(){return arguments}());t.exports=r?o:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),i))?n:a?o(e):"Object"==(r=o(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(2);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){var r=n(5),o=n(94),i=n(9),a=n(36),s=n(60),l=n(123),c=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var u,d,p,f,h,g,y,v=n&&n.that,w=!(!n||!n.AS_ENTRIES),b=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),O=a(e,v,1+w+m),P=function(t){return u&&l(u),new c(!0,t)},k=function(t){return w?(r(t),m?O(t[0],t[1],P):O(t[0],t[1])):m?O(t,P):O(t)};if(b)u=t;else{if("function"!=typeof(d=s(t)))throw TypeError("Target is not iterable");if(o(d)){for(p=0,f=i(t.length);f>p;p++)if((h=k(t[p]))&&h instanceof c)return h;return new c(!1)}u=d.call(t)}for(g=u.next;!(y=g.call(u)).done;){try{h=k(y.value)}catch(t){throw l(u),t}if("object"==typeof h&&h&&h instanceof c)return h}return new c(!1)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s,l=n(359),c=l.Reader,u=l.Writer,d=l.util,p=l.roots.default||(l.roots.default={});p.serverBrowserFrameProto=((o={}).BrowserToServerFrameMsgInProto=function(){function t(t){if(this.timestamps=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.appFrameMsgIn=d.newBuffer([]),t.prototype.handshake=null,t.prototype.timestamps=d.emptyArray,t.prototype.playback=null,t.prototype.tabs=null,t.prototype.targetTab="",t.prototype.partialPayload=null,t.prototype.loginHandshake=null,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.appFrameMsgIn&&Object.hasOwnProperty.call(t,"appFrameMsgIn")&&e.uint32(10).bytes(t.appFrameMsgIn),null!=t.handshake&&Object.hasOwnProperty.call(t,"handshake")&&p.commonProto.ConnectionHandshakeMsgInProto.encode(t.handshake,e.uint32(18).fork()).ldelim(),null!=t.timestamps&&t.timestamps.length)for(var n=0;n<t.timestamps.length;++n)p.serverBrowserFrameProto.TimestampsMsgInProto.encode(t.timestamps[n],e.uint32(26).fork()).ldelim();return null!=t.playback&&Object.hasOwnProperty.call(t,"playback")&&p.serverBrowserFrameProto.PlaybackCommandMsgInProto.encode(t.playback,e.uint32(34).fork()).ldelim(),null!=t.tabs&&Object.hasOwnProperty.call(t,"tabs")&&p.commonProto.TabsUpdateMsgInProto.encode(t.tabs,e.uint32(42).fork()).ldelim(),null!=t.targetTab&&Object.hasOwnProperty.call(t,"targetTab")&&e.uint32(50).string(t.targetTab),null!=t.partialPayload&&Object.hasOwnProperty.call(t,"partialPayload")&&p.commonProto.PartialPayloadMsgProto.encode(t.partialPayload,e.uint32(58).fork()).ldelim(),null!=t.loginHandshake&&Object.hasOwnProperty.call(t,"loginHandshake")&&p.serverBrowserFrameProto.LoginHandshakeMsgInProto.encode(t.loginHandshake,e.uint32(66).fork()).ldelim(),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.appFrameMsgIn=t.bytes();break;case 2:r.handshake=p.commonProto.ConnectionHandshakeMsgInProto.decode(t,t.uint32());break;case 3:r.timestamps&&r.timestamps.length||(r.timestamps=[]),r.timestamps.push(p.serverBrowserFrameProto.TimestampsMsgInProto.decode(t,t.uint32()));break;case 4:r.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.decode(t,t.uint32());break;case 5:r.tabs=p.commonProto.TabsUpdateMsgInProto.decode(t,t.uint32());break;case 6:r.targetTab=t.string();break;case 7:r.partialPayload=p.commonProto.PartialPayloadMsgProto.decode(t,t.uint32());break;case 8:r.loginHandshake=p.serverBrowserFrameProto.LoginHandshakeMsgInProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto)return t;var e=new p.serverBrowserFrameProto.BrowserToServerFrameMsgInProto;if(null!=t.appFrameMsgIn&&("string"==typeof t.appFrameMsgIn?d.base64.decode(t.appFrameMsgIn,e.appFrameMsgIn=d.newBuffer(d.base64.length(t.appFrameMsgIn)),0):t.appFrameMsgIn.length&&(e.appFrameMsgIn=t.appFrameMsgIn)),null!=t.handshake){if("object"!==r(t.handshake))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.handshake: object expected");e.handshake=p.commonProto.ConnectionHandshakeMsgInProto.fromObject(t.handshake)}if(t.timestamps){if(!Array.isArray(t.timestamps))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.timestamps: array expected");e.timestamps=[];for(var n=0;n<t.timestamps.length;++n){if("object"!==r(t.timestamps[n]))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.timestamps: object expected");e.timestamps[n]=p.serverBrowserFrameProto.TimestampsMsgInProto.fromObject(t.timestamps[n])}}if(null!=t.playback){if("object"!==r(t.playback))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.playback: object expected");e.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.fromObject(t.playback)}if(null!=t.tabs){if("object"!==r(t.tabs))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.tabs: object expected");e.tabs=p.commonProto.TabsUpdateMsgInProto.fromObject(t.tabs)}if(null!=t.targetTab&&(e.targetTab=String(t.targetTab)),null!=t.partialPayload){if("object"!==r(t.partialPayload))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.partialPayload: object expected");e.partialPayload=p.commonProto.PartialPayloadMsgProto.fromObject(t.partialPayload)}if(null!=t.loginHandshake){if("object"!==r(t.loginHandshake))throw TypeError(".serverBrowserFrameProto.BrowserToServerFrameMsgInProto.loginHandshake: object expected");e.loginHandshake=p.serverBrowserFrameProto.LoginHandshakeMsgInProto.fromObject(t.loginHandshake)}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.timestamps=[]),e.defaults&&(e.bytes===String?n.appFrameMsgIn="":(n.appFrameMsgIn=[],e.bytes!==Array&&(n.appFrameMsgIn=d.newBuffer(n.appFrameMsgIn))),n.handshake=null,n.playback=null,n.tabs=null,n.targetTab="",n.partialPayload=null,n.loginHandshake=null),null!=t.appFrameMsgIn&&t.hasOwnProperty("appFrameMsgIn")&&(n.appFrameMsgIn=e.bytes===String?d.base64.encode(t.appFrameMsgIn,0,t.appFrameMsgIn.length):e.bytes===Array?Array.prototype.slice.call(t.appFrameMsgIn):t.appFrameMsgIn),null!=t.handshake&&t.hasOwnProperty("handshake")&&(n.handshake=p.commonProto.ConnectionHandshakeMsgInProto.toObject(t.handshake,e)),t.timestamps&&t.timestamps.length){n.timestamps=[];for(var r=0;r<t.timestamps.length;++r)n.timestamps[r]=p.serverBrowserFrameProto.TimestampsMsgInProto.toObject(t.timestamps[r],e)}return null!=t.playback&&t.hasOwnProperty("playback")&&(n.playback=p.serverBrowserFrameProto.PlaybackCommandMsgInProto.toObject(t.playback,e)),null!=t.tabs&&t.hasOwnProperty("tabs")&&(n.tabs=p.commonProto.TabsUpdateMsgInProto.toObject(t.tabs,e)),null!=t.targetTab&&t.hasOwnProperty("targetTab")&&(n.targetTab=t.targetTab),null!=t.partialPayload&&t.hasOwnProperty("partialPayload")&&(n.partialPayload=p.commonProto.PartialPayloadMsgProto.toObject(t.partialPayload,e)),null!=t.loginHandshake&&t.hasOwnProperty("loginHandshake")&&(n.loginHandshake=p.serverBrowserFrameProto.LoginHandshakeMsgInProto.toObject(t.loginHandshake,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),o.TimestampsMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.startTimestamp="",t.prototype.sendTimestamp="",t.prototype.renderingTime="",t.prototype.ping=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.startTimestamp&&Object.hasOwnProperty.call(t,"startTimestamp")&&e.uint32(10).string(t.startTimestamp),null!=t.sendTimestamp&&Object.hasOwnProperty.call(t,"sendTimestamp")&&e.uint32(18).string(t.sendTimestamp),null!=t.renderingTime&&Object.hasOwnProperty.call(t,"renderingTime")&&e.uint32(26).string(t.renderingTime),null!=t.ping&&Object.hasOwnProperty.call(t,"ping")&&e.uint32(32).uint32(t.ping),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.TimestampsMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.startTimestamp=t.string();break;case 2:r.sendTimestamp=t.string();break;case 3:r.renderingTime=t.string();break;case 4:r.ping=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.TimestampsMsgInProto)return t;var e=new p.serverBrowserFrameProto.TimestampsMsgInProto;return null!=t.startTimestamp&&(e.startTimestamp=String(t.startTimestamp)),null!=t.sendTimestamp&&(e.sendTimestamp=String(t.sendTimestamp)),null!=t.renderingTime&&(e.renderingTime=String(t.renderingTime)),null!=t.ping&&(e.ping=t.ping>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.startTimestamp="",n.sendTimestamp="",n.renderingTime="",n.ping=0),null!=t.startTimestamp&&t.hasOwnProperty("startTimestamp")&&(n.startTimestamp=t.startTimestamp),null!=t.sendTimestamp&&t.hasOwnProperty("sendTimestamp")&&(n.sendTimestamp=t.sendTimestamp),null!=t.renderingTime&&t.hasOwnProperty("renderingTime")&&(n.renderingTime=t.renderingTime),null!=t.ping&&t.hasOwnProperty("ping")&&(n.ping=t.ping),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),o.PlaybackCommandMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.command=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.command&&Object.hasOwnProperty.call(t,"command")&&e.uint32(8).int32(t.command),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.PlaybackCommandMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.command=t.int32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.PlaybackCommandMsgInProto)return t;var e=new p.serverBrowserFrameProto.PlaybackCommandMsgInProto;switch(t.command){case"reset":case 0:e.command=0;break;case"play":case 1:e.command=1;break;case"stop":case 2:e.command=2;break;case"step":case 3:e.command=3;break;case"step10":case 4:e.command=4;break;case"step100":case 5:e.command=5}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.command=e.enums===String?"reset":0),null!=t.command&&t.hasOwnProperty("command")&&(n.command=e.enums===String?p.serverBrowserFrameProto.PlaybackCommandMsgInProto.PlaybackCommandProto[t.command]:t.command),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t.PlaybackCommandProto=(e={},(n=Object.create(e))[e[0]="reset"]=0,n[e[1]="play"]=1,n[e[2]="stop"]=2,n[e[3]="step"]=3,n[e[4]="step10"]=4,n[e[5]="step100"]=5,n),t}(),o.LoginHandshakeMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.token="",t.prototype.securitySuffix="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.token&&Object.hasOwnProperty.call(t,"token")&&e.uint32(10).string(t.token),null!=t.securitySuffix&&Object.hasOwnProperty.call(t,"securitySuffix")&&e.uint32(18).string(t.securitySuffix),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.LoginHandshakeMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.token=t.string();break;case 2:r.securitySuffix=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.LoginHandshakeMsgInProto)return t;var e=new p.serverBrowserFrameProto.LoginHandshakeMsgInProto;return null!=t.token&&(e.token=String(t.token)),null!=t.securitySuffix&&(e.securitySuffix=String(t.securitySuffix)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.token="",n.securitySuffix=""),null!=t.token&&t.hasOwnProperty("token")&&(n.token=t.token),null!=t.securitySuffix&&t.hasOwnProperty("securitySuffix")&&(n.securitySuffix=t.securitySuffix),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),o.ServerToBrowserFrameMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.appFrameMsgOut=d.newBuffer([]),t.prototype.connectionInfo=null,t.prototype.targetTab="",t.prototype.partialPayload=null,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.appFrameMsgOut&&Object.hasOwnProperty.call(t,"appFrameMsgOut")&&e.uint32(10).bytes(t.appFrameMsgOut),null!=t.connectionInfo&&Object.hasOwnProperty.call(t,"connectionInfo")&&p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.encode(t.connectionInfo,e.uint32(18).fork()).ldelim(),null!=t.targetTab&&Object.hasOwnProperty.call(t,"targetTab")&&e.uint32(26).string(t.targetTab),null!=t.partialPayload&&Object.hasOwnProperty.call(t,"partialPayload")&&p.commonProto.PartialPayloadMsgProto.encode(t.partialPayload,e.uint32(34).fork()).ldelim(),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.appFrameMsgOut=t.bytes();break;case 2:r.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.decode(t,t.uint32());break;case 3:r.targetTab=t.string();break;case 4:r.partialPayload=p.commonProto.PartialPayloadMsgProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto)return t;var e=new p.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto;if(null!=t.appFrameMsgOut&&("string"==typeof t.appFrameMsgOut?d.base64.decode(t.appFrameMsgOut,e.appFrameMsgOut=d.newBuffer(d.base64.length(t.appFrameMsgOut)),0):t.appFrameMsgOut.length&&(e.appFrameMsgOut=t.appFrameMsgOut)),null!=t.connectionInfo){if("object"!==r(t.connectionInfo))throw TypeError(".serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.connectionInfo: object expected");e.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.fromObject(t.connectionInfo)}if(null!=t.targetTab&&(e.targetTab=String(t.targetTab)),null!=t.partialPayload){if("object"!==r(t.partialPayload))throw TypeError(".serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.partialPayload: object expected");e.partialPayload=p.commonProto.PartialPayloadMsgProto.fromObject(t.partialPayload)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.appFrameMsgOut="":(n.appFrameMsgOut=[],e.bytes!==Array&&(n.appFrameMsgOut=d.newBuffer(n.appFrameMsgOut))),n.connectionInfo=null,n.targetTab="",n.partialPayload=null),null!=t.appFrameMsgOut&&t.hasOwnProperty("appFrameMsgOut")&&(n.appFrameMsgOut=e.bytes===String?d.base64.encode(t.appFrameMsgOut,0,t.appFrameMsgOut.length):e.bytes===Array?Array.prototype.slice.call(t.appFrameMsgOut):t.appFrameMsgOut),null!=t.connectionInfo&&t.hasOwnProperty("connectionInfo")&&(n.connectionInfo=p.serverBrowserFrameProto.ConnectionInfoMsgOutProto.toObject(t.connectionInfo,e)),null!=t.targetTab&&t.hasOwnProperty("targetTab")&&(n.targetTab=t.targetTab),null!=t.partialPayload&&t.hasOwnProperty("partialPayload")&&(n.partialPayload=p.commonProto.PartialPayloadMsgProto.toObject(t.partialPayload,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),o.ConnectionInfoMsgOutProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.serverId="",t.prototype.sessionPoolId="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.serverId&&Object.hasOwnProperty.call(t,"serverId")&&e.uint32(10).string(t.serverId),null!=t.sessionPoolId&&Object.hasOwnProperty.call(t,"sessionPoolId")&&e.uint32(18).string(t.sessionPoolId),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.serverBrowserFrameProto.ConnectionInfoMsgOutProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.serverId=t.string();break;case 2:r.sessionPoolId=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.serverBrowserFrameProto.ConnectionInfoMsgOutProto)return t;var e=new p.serverBrowserFrameProto.ConnectionInfoMsgOutProto;return null!=t.serverId&&(e.serverId=String(t.serverId)),null!=t.sessionPoolId&&(e.sessionPoolId=String(t.sessionPoolId)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.serverId="",n.sessionPoolId=""),null!=t.serverId&&t.hasOwnProperty("serverId")&&(n.serverId=t.serverId),null!=t.sessionPoolId&&t.hasOwnProperty("sessionPoolId")&&(n.sessionPoolId=t.sessionPoolId),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),o),p.commonProto=((s={}).ParamMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.ParamMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.ParamMsgInProto)return t;var e=new p.commonProto.ParamMsgInProto;return null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.value=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),s.RecordingStatusEnumProto=(i={},(a=Object.create(i))[i[1]="NOT_RECORDING"]=1,a[i[2]="WAITING_FOR_RECORDING_APPROVAL"]=2,a[i[3]="DENIED_RECORDING_BY_USER"]=3,a[i[4]="RECORDING"]=4,a),s.MirroringStatusEnumProto=function(){var t={},e=Object.create(t);return e[t[1]="NOT_MIRRORING"]=1,e[t[2]="WAITING_FOR_MIRRORING_APPROVAL"]=2,e[t[3]="DENIED_MIRRORING_BY_USER"]=3,e[t[4]="MIRRORING"]=4,e}(),s.ConnectionHandshakeMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.instanceId="",t.prototype.viewId="",t.prototype.browserId="",t.prototype.currentDpr=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.applicationName="",t.prototype.mirrored=!1,t.prototype.directDrawSupported=!1,t.prototype.documentBase="",t.prototype.params=d.emptyArray,t.prototype.locale="",t.prototype.url="",t.prototype.timeZone="",t.prototype.dockingSupported=!1,t.prototype.touchMode=!1,t.prototype.accessiblityEnabled=!1,t.prototype.tabId="",t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.prototype.userScreenX=0,t.prototype.userScreenY=0,t.prototype.browserOuterWidth=0,t.prototype.browserOuterHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.instanceId&&Object.hasOwnProperty.call(t,"instanceId")&&e.uint32(10).string(t.instanceId),null!=t.viewId&&Object.hasOwnProperty.call(t,"viewId")&&e.uint32(18).string(t.viewId),null!=t.browserId&&Object.hasOwnProperty.call(t,"browserId")&&e.uint32(26).string(t.browserId),null!=t.currentDpr&&Object.hasOwnProperty.call(t,"currentDpr")&&e.uint32(37).float(t.currentDpr),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.applicationName&&Object.hasOwnProperty.call(t,"applicationName")&&e.uint32(58).string(t.applicationName),null!=t.mirrored&&Object.hasOwnProperty.call(t,"mirrored")&&e.uint32(64).bool(t.mirrored),null!=t.directDrawSupported&&Object.hasOwnProperty.call(t,"directDrawSupported")&&e.uint32(72).bool(t.directDrawSupported),null!=t.documentBase&&Object.hasOwnProperty.call(t,"documentBase")&&e.uint32(82).string(t.documentBase),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)p.commonProto.ParamMsgInProto.encode(t.params[n],e.uint32(90).fork()).ldelim();return null!=t.locale&&Object.hasOwnProperty.call(t,"locale")&&e.uint32(98).string(t.locale),null!=t.url&&Object.hasOwnProperty.call(t,"url")&&e.uint32(106).string(t.url),null!=t.timeZone&&Object.hasOwnProperty.call(t,"timeZone")&&e.uint32(114).string(t.timeZone),null!=t.dockingSupported&&Object.hasOwnProperty.call(t,"dockingSupported")&&e.uint32(120).bool(t.dockingSupported),null!=t.touchMode&&Object.hasOwnProperty.call(t,"touchMode")&&e.uint32(128).bool(t.touchMode),null!=t.accessiblityEnabled&&Object.hasOwnProperty.call(t,"accessiblityEnabled")&&e.uint32(136).bool(t.accessiblityEnabled),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(146).string(t.tabId),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(152).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(160).uint32(t.userScreenHeight),null!=t.userScreenX&&Object.hasOwnProperty.call(t,"userScreenX")&&e.uint32(168).uint32(t.userScreenX),null!=t.userScreenY&&Object.hasOwnProperty.call(t,"userScreenY")&&e.uint32(176).uint32(t.userScreenY),null!=t.browserOuterWidth&&Object.hasOwnProperty.call(t,"browserOuterWidth")&&e.uint32(184).uint32(t.browserOuterWidth),null!=t.browserOuterHeight&&Object.hasOwnProperty.call(t,"browserOuterHeight")&&e.uint32(192).uint32(t.browserOuterHeight),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.ConnectionHandshakeMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instanceId=t.string();break;case 2:r.viewId=t.string();break;case 3:r.browserId=t.string();break;case 4:r.currentDpr=t.float();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.applicationName=t.string();break;case 8:r.mirrored=t.bool();break;case 9:r.directDrawSupported=t.bool();break;case 10:r.documentBase=t.string();break;case 11:r.params&&r.params.length||(r.params=[]),r.params.push(p.commonProto.ParamMsgInProto.decode(t,t.uint32()));break;case 12:r.locale=t.string();break;case 13:r.url=t.string();break;case 14:r.timeZone=t.string();break;case 15:r.dockingSupported=t.bool();break;case 16:r.touchMode=t.bool();break;case 17:r.accessiblityEnabled=t.bool();break;case 18:r.tabId=t.string();break;case 19:r.userScreenWidth=t.uint32();break;case 20:r.userScreenHeight=t.uint32();break;case 21:r.userScreenX=t.uint32();break;case 22:r.userScreenY=t.uint32();break;case 23:r.browserOuterWidth=t.uint32();break;case 24:r.browserOuterHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.ConnectionHandshakeMsgInProto)return t;var e=new p.commonProto.ConnectionHandshakeMsgInProto;if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.viewId&&(e.viewId=String(t.viewId)),null!=t.browserId&&(e.browserId=String(t.browserId)),null!=t.currentDpr&&(e.currentDpr=Number(t.currentDpr)),null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.applicationName&&(e.applicationName=String(t.applicationName)),null!=t.mirrored&&(e.mirrored=Boolean(t.mirrored)),null!=t.directDrawSupported&&(e.directDrawSupported=Boolean(t.directDrawSupported)),null!=t.documentBase&&(e.documentBase=String(t.documentBase)),t.params){if(!Array.isArray(t.params))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: object expected");e.params[n]=p.commonProto.ParamMsgInProto.fromObject(t.params[n])}}return null!=t.locale&&(e.locale=String(t.locale)),null!=t.url&&(e.url=String(t.url)),null!=t.timeZone&&(e.timeZone=String(t.timeZone)),null!=t.dockingSupported&&(e.dockingSupported=Boolean(t.dockingSupported)),null!=t.touchMode&&(e.touchMode=Boolean(t.touchMode)),null!=t.accessiblityEnabled&&(e.accessiblityEnabled=Boolean(t.accessiblityEnabled)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),null!=t.userScreenX&&(e.userScreenX=t.userScreenX>>>0),null!=t.userScreenY&&(e.userScreenY=t.userScreenY>>>0),null!=t.browserOuterWidth&&(e.browserOuterWidth=t.browserOuterWidth>>>0),null!=t.browserOuterHeight&&(e.browserOuterHeight=t.browserOuterHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.instanceId="",n.viewId="",n.browserId="",n.currentDpr=0,n.desktopWidth=0,n.desktopHeight=0,n.applicationName="",n.mirrored=!1,n.directDrawSupported=!1,n.documentBase="",n.locale="",n.url="",n.timeZone="",n.dockingSupported=!1,n.touchMode=!1,n.accessiblityEnabled=!1,n.tabId="",n.userScreenWidth=0,n.userScreenHeight=0,n.userScreenX=0,n.userScreenY=0,n.browserOuterWidth=0,n.browserOuterHeight=0),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.viewId&&t.hasOwnProperty("viewId")&&(n.viewId=t.viewId),null!=t.browserId&&t.hasOwnProperty("browserId")&&(n.browserId=t.browserId),null!=t.currentDpr&&t.hasOwnProperty("currentDpr")&&(n.currentDpr=e.json&&!isFinite(t.currentDpr)?String(t.currentDpr):t.currentDpr),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.applicationName&&t.hasOwnProperty("applicationName")&&(n.applicationName=t.applicationName),null!=t.mirrored&&t.hasOwnProperty("mirrored")&&(n.mirrored=t.mirrored),null!=t.directDrawSupported&&t.hasOwnProperty("directDrawSupported")&&(n.directDrawSupported=t.directDrawSupported),null!=t.documentBase&&t.hasOwnProperty("documentBase")&&(n.documentBase=t.documentBase),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=p.commonProto.ParamMsgInProto.toObject(t.params[r],e)}return null!=t.locale&&t.hasOwnProperty("locale")&&(n.locale=t.locale),null!=t.url&&t.hasOwnProperty("url")&&(n.url=t.url),null!=t.timeZone&&t.hasOwnProperty("timeZone")&&(n.timeZone=t.timeZone),null!=t.dockingSupported&&t.hasOwnProperty("dockingSupported")&&(n.dockingSupported=t.dockingSupported),null!=t.touchMode&&t.hasOwnProperty("touchMode")&&(n.touchMode=t.touchMode),null!=t.accessiblityEnabled&&t.hasOwnProperty("accessiblityEnabled")&&(n.accessiblityEnabled=t.accessiblityEnabled),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),null!=t.userScreenX&&t.hasOwnProperty("userScreenX")&&(n.userScreenX=t.userScreenX),null!=t.userScreenY&&t.hasOwnProperty("userScreenY")&&(n.userScreenY=t.userScreenY),null!=t.browserOuterWidth&&t.hasOwnProperty("browserOuterWidth")&&(n.browserOuterWidth=t.browserOuterWidth),null!=t.browserOuterHeight&&t.hasOwnProperty("browserOuterHeight")&&(n.browserOuterHeight=t.browserOuterHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),s.TabsUpdateMsgInProto=function(){function t(t){if(this.tabs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tabs=d.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=u.create()),null!=t.tabs&&t.tabs.length)for(var n=0;n<t.tabs.length;++n)p.commonProto.TabStateMsgInProto.encode(t.tabs[n],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.TabsUpdateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tabs&&r.tabs.length||(r.tabs=[]),r.tabs.push(p.commonProto.TabStateMsgInProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.TabsUpdateMsgInProto)return t;var e=new p.commonProto.TabsUpdateMsgInProto;if(t.tabs){if(!Array.isArray(t.tabs))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: array expected");e.tabs=[];for(var n=0;n<t.tabs.length;++n){if("object"!==r(t.tabs[n]))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: object expected");e.tabs[n]=p.commonProto.TabStateMsgInProto.fromObject(t.tabs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.tabs=[]),t.tabs&&t.tabs.length){n.tabs=[];for(var r=0;r<t.tabs.length;++r)n.tabs[r]=p.commonProto.TabStateMsgInProto.toObject(t.tabs[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),s.TabStateMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.state=0,t.prototype.origin=0,t.prototype.event=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.dpr=0,t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.prototype.userScreenX=0,t.prototype.userScreenY=0,t.prototype.browserOuterWidth=0,t.prototype.browserOuterHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.state&&Object.hasOwnProperty.call(t,"state")&&e.uint32(16).int32(t.state),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&e.uint32(24).int32(t.origin),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(32).int32(t.event),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.dpr&&Object.hasOwnProperty.call(t,"dpr")&&e.uint32(61).float(t.dpr),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(64).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(72).uint32(t.userScreenHeight),null!=t.userScreenX&&Object.hasOwnProperty.call(t,"userScreenX")&&e.uint32(80).uint32(t.userScreenX),null!=t.userScreenY&&Object.hasOwnProperty.call(t,"userScreenY")&&e.uint32(88).uint32(t.userScreenY),null!=t.browserOuterWidth&&Object.hasOwnProperty.call(t,"browserOuterWidth")&&e.uint32(96).uint32(t.browserOuterWidth),null!=t.browserOuterHeight&&Object.hasOwnProperty.call(t,"browserOuterHeight")&&e.uint32(104).uint32(t.browserOuterHeight),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.TabStateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.state=t.int32();break;case 3:r.origin=t.int32();break;case 4:r.event=t.int32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.dpr=t.float();break;case 8:r.userScreenWidth=t.uint32();break;case 9:r.userScreenHeight=t.uint32();break;case 10:r.userScreenX=t.uint32();break;case 11:r.userScreenY=t.uint32();break;case 12:r.browserOuterWidth=t.uint32();break;case 13:r.browserOuterHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.TabStateMsgInProto)return t;var e=new p.commonProto.TabStateMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),t.state){case"Connected":case 0:e.state=0;break;case"Disconnected":case 1:e.state=1}switch(t.origin){case"Primary":case 0:e.origin=0;break;case"Undocked":case 1:e.origin=1}switch(t.event){case"Added":case 0:e.event=0;break;case"Removed":case 1:e.event=1}return null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.dpr&&(e.dpr=Number(t.dpr)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),null!=t.userScreenX&&(e.userScreenX=t.userScreenX>>>0),null!=t.userScreenY&&(e.userScreenY=t.userScreenY>>>0),null!=t.browserOuterWidth&&(e.browserOuterWidth=t.browserOuterWidth>>>0),null!=t.browserOuterHeight&&(e.browserOuterHeight=t.browserOuterHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.state=e.enums===String?"Connected":0,n.origin=e.enums===String?"Primary":0,n.event=e.enums===String?"Added":0,n.desktopWidth=0,n.desktopHeight=0,n.dpr=0,n.userScreenWidth=0,n.userScreenHeight=0,n.userScreenX=0,n.userScreenY=0,n.browserOuterWidth=0,n.browserOuterHeight=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.state&&t.hasOwnProperty("state")&&(n.state=e.enums===String?p.commonProto.TabStateMsgInProto.TabStateTypeProto[t.state]:t.state),null!=t.origin&&t.hasOwnProperty("origin")&&(n.origin=e.enums===String?p.commonProto.TabStateMsgInProto.TabOriginTypeProto[t.origin]:t.origin),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?p.commonProto.TabStateMsgInProto.TabEventTypeProto[t.event]:t.event),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=e.json&&!isFinite(t.dpr)?String(t.dpr):t.dpr),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),null!=t.userScreenX&&t.hasOwnProperty("userScreenX")&&(n.userScreenX=t.userScreenX),null!=t.userScreenY&&t.hasOwnProperty("userScreenY")&&(n.userScreenY=t.userScreenY),null!=t.browserOuterWidth&&t.hasOwnProperty("browserOuterWidth")&&(n.browserOuterWidth=t.browserOuterWidth),null!=t.browserOuterHeight&&t.hasOwnProperty("browserOuterHeight")&&(n.browserOuterHeight=t.browserOuterHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t.TabStateTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Connected"]=0,e[t[1]="Disconnected"]=1,e}(),t.TabOriginTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Primary"]=0,e[t[1]="Undocked"]=1,e}(),t.TabEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Added"]=0,e[t[1]="Removed"]=1,e}(),t}(),s.PartialPayloadMsgProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.partial=d.newBuffer([]),t.prototype.partialId="",t.prototype.last=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=u.create()),null!=t.partial&&Object.hasOwnProperty.call(t,"partial")&&e.uint32(10).bytes(t.partial),null!=t.partialId&&Object.hasOwnProperty.call(t,"partialId")&&e.uint32(18).string(t.partialId),null!=t.last&&Object.hasOwnProperty.call(t,"last")&&e.uint32(24).bool(t.last),e},t.decode=function(t,e){t instanceof c||(t=c.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new p.commonProto.PartialPayloadMsgProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.partial=t.bytes();break;case 2:r.partialId=t.string();break;case 3:r.last=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof p.commonProto.PartialPayloadMsgProto)return t;var e=new p.commonProto.PartialPayloadMsgProto;return null!=t.partial&&("string"==typeof t.partial?d.base64.decode(t.partial,e.partial=d.newBuffer(d.base64.length(t.partial)),0):t.partial.length&&(e.partial=t.partial)),null!=t.partialId&&(e.partialId=String(t.partialId)),null!=t.last&&(e.last=Boolean(t.last)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.partial="":(n.partial=[],e.bytes!==Array&&(n.partial=d.newBuffer(n.partial))),n.partialId="",n.last=!1),null!=t.partial&&t.hasOwnProperty("partial")&&(n.partial=e.bytes===String?d.base64.encode(t.partial,0,t.partial.length):e.bytes===Array?Array.prototype.slice.call(t.partial):t.partial),null!=t.partialId&&t.hasOwnProperty("partialId")&&(n.partialId=t.partialId),null!=t.last&&t.hasOwnProperty("last")&&(n.last=t.last),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,l.util.toJSONOptions)},t}(),s),t.exports=p},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(88),o=n(51),i=r("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,n){var r=n(19),o=n(9),i=n(41),a=function(t){return function(e,n,a){var s,l=r(e),c=o(l.length),u=i(a,c);if(t&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===n)return t||u||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,n){var r,o,i=n(3),a=n(69),s=i.process,l=s&&s.versions,c=l&&l.v8;c?o=(r=c.split("."))[0]+r[1]:a&&(!(r=a.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/))&&(o=r[1]),t.exports=o&&+o},function(t,e,n){var r=n(25);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(6)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var i={};i[r]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(19),o=n(37),i=n(59),a=n(20),s=n(96),l=a.set,c=a.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){l(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(53),a=n(15),s=n(43),l=n(63),c=n(38),u=n(4),d=n(2),p=n(70),f=n(30),h=n(73);t.exports=function(t,e,n){var g=-1!==t.indexOf("Map"),y=-1!==t.indexOf("Weak"),v=g?"set":"add",w=o[t],b=w&&w.prototype,m=w,O={},P=function(t){var e=b[t];a(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return y&&!u(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(y&&!u(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(i(t,"function"!=typeof w||!(y||b.forEach&&!d((function(){(new w).entries().next()})))))m=n.getConstructor(e,t,g,v),s.REQUIRED=!0;else if(i(t,!0)){var k=new m,S=k[v](y?{}:-0,1)!=k,I=d((function(){k.has(1)})),E=p((function(t){new w(t)})),T=!y&&d((function(){for(var t=new w,e=5;e--;)t[v](e,e);return!t.has(-0)}));E||((m=e((function(e,n){c(e,m,t);var r=h(new w,e,m);return null!=n&&l(n,r[v],{that:r,AS_ENTRIES:g}),r}))).prototype=b,b.constructor=m),(I||T)&&(P("delete"),P("has"),g&&P("get")),(T||S)&&P(v),y&&b.clear&&delete b.clear}return O[t]=m,r({global:!0,forced:m!=w},O),f(m,t),y||n.setStrong(m,t,g),m}},function(t,e,n){var r=n(4),o=n(45);t.exports=function(t,e,n){var i,a;return o&&"function"==typeof(i=e.constructor)&&i!==n&&r(a=i.prototype)&&a!==n.prototype&&o(t,a),t}},function(t,e){var n=Math.expm1,r=Math.exp;t.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:r(t)-1}:n},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){"use strict";var r=n(29),o=n(3),i=n(2);t.exports=r||!i((function(){var t=Math.random();__defineSetter__.call(null,t,(function(){})),delete o[t]}))},function(t,e,n){"use strict";var r=n(5);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r,o,i=n(77),a=n(102),s=RegExp.prototype.exec,l=String.prototype.replace,c=s,u=(r=/a/,o=/b*/g,s.call(r,"a"),s.call(o,"a"),0!==r.lastIndex||0!==o.lastIndex),d=a.UNSUPPORTED_Y||a.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(u||p||d)&&(c=function(t){var e,n,r,o,a=this,c=d&&a.sticky,f=i.call(a),h=a.source,g=0,y=t;return c&&(-1===(f=f.replace("y","")).indexOf("g")&&(f+="g"),y=String(t).slice(a.lastIndex),a.lastIndex>0&&(!a.multiline||a.multiline&&"\n"!==t[a.lastIndex-1])&&(h="(?: "+h+")",y=" "+y,g++),n=new RegExp("^(?:"+h+")",f)),p&&(n=new RegExp("^"+h+"$(?!\\s)",f)),u&&(e=a.lastIndex),r=s.call(c?n:a,y),c?r?(r.input=r.input.slice(g),r[0]=r[0].slice(g),r.index=a.lastIndex,a.lastIndex+=r[0].length):a.lastIndex=0:u&&r&&(a.lastIndex=a.global?r.index+r[0].length:e),p&&r&&r.length>1&&l.call(r[0],n,(function(){for(o=1;o<arguments.length-2;o++)void 0===arguments[o]&&(r[o]=void 0)})),r}),t.exports=c},function(t,e,n){var r=n(24),o=n(17),i=function(t){return function(e,n){var i,a,s=String(o(e)),l=r(n),c=s.length;return l<0||l>=c?t?"":void 0:(i=s.charCodeAt(l))<55296||i>56319||l+1===c||(a=s.charCodeAt(l+1))<56320||a>57343?t?s.charAt(l):i:t?s.slice(l,l+2):a-56320+(i-55296<<10)+65536}};t.exports={codeAt:i(!1),charAt:i(!0)}},function(t,e,n){"use strict";n(142);var r=n(15),o=n(2),i=n(6),a=n(78),s=n(18),l=i("species"),c=!o((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),u="$0"==="a".replace(/./,"$0"),d=i("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),f=!o((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var h=i(t),g=!o((function(){var e={};return e[h]=function(){return 7},7!=""[t](e)})),y=g&&!o((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[l]=function(){return n},n.flags="",n[h]=/./[h]),n.exec=function(){return e=!0,null},n[h](""),!e}));if(!g||!y||"replace"===t&&(!c||!u||p)||"split"===t&&!f){var v=/./[h],w=n(h,""[t],(function(t,e,n,r,o){return e.exec===a?g&&!o?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:u,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),b=w[0],m=w[1];r(String.prototype,t,b),r(RegExp.prototype,h,2==e?function(t,e){return m.call(t,this,e)}:function(t){return m.call(t,this)})}d&&s(RegExp.prototype[h],"sham",!0)}},function(t,e,n){var r=n(34),o=n(78);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var i=n.call(t,e);if("object"!=typeof i)throw TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(t))throw TypeError("RegExp#exec called on incompatible receiver");return o.call(t,e)}},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";e.a=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var a=n.then;if("function"==typeof a)return void a.call(n,(function(e){i(t,e)}),(function(n){r[t]={status:"rejected",reason:n},0==--o&&e(r)}))}r[t]={status:"fulfilled",value:n},0==--o&&e(r)}for(var a=0;a<r.length;a++)i(a,r[a])}))}},function(t,e,n){var r=n(3),o=n(4),i=r.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e,n){var r=n(3),o=n(18);t.exports=function(t,e){try{o(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(87),o=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return o.call(t)}),t.exports=r.inspectSource},function(t,e,n){var r=n(3),o=n(85),i=r["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,n){var r=n(29),o=n(87);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.9.1",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r=n(25),o=n(40),i=n(91),a=n(5);t.exports=r("Reflect","ownKeys")||function(t){var e=o.f(a(t)),n=i.f;return n?e.concat(n(t)):e}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){var r=n(54),o=n(68),i=n(2);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(r?38===o:o>37&&o<41)}))},function(t,e,n){"use strict";var r=n(12),o=n(41),i=n(9);t.exports=function(t){for(var e=r(this),n=i(e.length),a=arguments.length,s=o(a>1?arguments[1]:void 0,n),l=a>2?arguments[2]:void 0,c=void 0===l?n:o(l,n);c>s;)e[s++]=t;return e}},function(t,e,n){var r=n(6),o=n(59),i=r("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,n){var r={};r[n(6)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){"use strict";var r=n(0),o=n(124),i=n(27),a=n(45),s=n(30),l=n(18),c=n(15),u=n(6),d=n(29),p=n(59),f=n(125),h=f.IteratorPrototype,g=f.BUGGY_SAFARI_ITERATORS,y=u("iterator"),v=function(){return this};t.exports=function(t,e,n,u,f,w,b){o(n,e,u);var m,O,P,k=function(t){if(t===f&&j)return j;if(!g&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},S=e+" Iterator",I=!1,E=t.prototype,T=E[y]||E["@@iterator"]||f&&E[f],j=!g&&T||k(f),x="Array"==e&&E.entries||T;if(x&&(m=i(x.call(new t)),h!==Object.prototype&&m.next&&(d||i(m)===h||(a?a(m,h):"function"!=typeof m[y]&&l(m,y,v)),s(m,S,!0,!0),d&&(p[S]=v))),"values"==f&&T&&"values"!==T.name&&(I=!0,j=function(){return T.call(this)}),d&&!b||E[y]===j||l(E,y,j),p[e]=j,f)if(O={values:k("values"),keys:w?j:k("keys"),entries:k("entries")},b)for(P in O)(g||I||!(P in E))&&c(E,P,O[P]);else r({target:e,proto:!0,forced:g||I},O);return O}},function(t,e,n){var r=n(2);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){"use strict";var r=n(2);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var r=n(24),o=n(17);t.exports="".repeat||function(t){var e=String(o(this)),n="",i=r(t);if(i<0||i==1/0)throw RangeError("Wrong number of repetitions");for(;i>0;(i>>>=1)&&(e+=e))1&i&&(n+=e);return n}},function(t,e,n){var r=n(4),o=n(34),i=n(6)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e,n){"use strict";var r=n(2);function o(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){var r=n(101);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(6)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(79).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(2),o=n(75);t.exports=function(t){return r((function(){return!!o[t]()||""!=""[t]()||o[t].name!==t}))}},function(t,e,n){var r=n(3),o=n(2),i=n(70),a=n(7).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;t.exports=!a||!o((function(){l(1)}))||!o((function(){new l(-1)}))||!i((function(t){new l,new l(null),new l(1.5),new l(t)}),!0)||o((function(){return 1!==new l(new s(2),1,void 0).length}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return m}));n(357);var r=n(1),o=n(13),i={"login.title":"Sign in to your account","login.instr":"Please enter your credentials:","login.username":"Username","login.password":"Password","login.button":"Sign in","logout.title":"Session ended","logout.instr":"Your session has ended. You may start a new session or close your browser window.","logout.button":"New session","login.errorH":"Authentication failed","login.errorC":"Error message:","login.errorB":"Try again","login.invalidUserPassword":"Invalid Username or Password.","login.failedToAuthenticate":"Failed to Authenticate.","login.noAccessMessage":"Access to this application is forbidden.","login.configurationError":"Security module initialization failed. Please check server logs for details.","login.serverNotAvailable":"Sorry, the Server is not available.","login.unexpectedError":"Oops, something's not right","login.tooManySessionContexts":"Too many active sessions.","dialog.emptyMessage":"","dialog.logingOut":"Signing out","dialog.readyDialog":"Ready to start your session","dialog.initializingDialog":"Your session is being initialized","dialog.initializingMirrorDialog":"Requesting mirror connection","dialog.startingDialog":"Starting your application","dialog.unauthorizedAccess":"Unable to authorize your request","dialog.applicationBusyDialog":"","dialog.undockWaitingDialog":"","dialog.applicationAlreadyRunning":"There is already a session in progress in another window.","dialog.sessionStolenNotification":"A new session was started in another window. This session has been closed.","dialog.disconnectedDialog":"Your connection to the server is lost.","dialog.connectionErrorDialog":"A connection error has occurred. Please reconnect to continue.","dialog.tooManyClientsNotification":"There are too many active connections right now, please try again later.","dialog.tooManyClientsPerUserNotification":"You have reached the maximum number of active connections per user.","dialog.stoppedDialog":"The application has been closed.","dialog.undockedInstanceNotFound":"Cannot connect to the original session.","dialog.undockedInstanceNotFound.retry":"Reconnect","dialog.undockedInstanceNotFound.close":"Close","dialog.undockedInstanceNotFound.logout":"Sign out","dialog.reconnectInstanceNotFound":"Cannot connect to the original session.","dialog.reconnectInstanceNotFound.retry":"Reconnect","dialog.reconnectInstanceNotFound.newSession":"New session","dialog.reconnectInstanceNotFound.logout":"Sign out","dialog.instanceDetached":"Server is trying to reconnect your session, try again later.","dialog.instanceDetached.retry":"Reconnect","dialog.instanceDetached.newSession":"New session","dialog.instanceDetached.logout":"Sign out","dialog.undockedInstanceDetached":"Server is trying to reconnect your session, try again later.","dialog.undockedInstanceDetached.retry":"Reconnect","dialog.undockedInstanceDetached.close":"Close","dialog.undockedInstanceDetached.logout":"Sign out","dialog.hiddenWindowsNotification.title":"Some windows are hidden","dialog.hiddenWindowsNotification.message":"There are windows visible in your application which are not open in browser.","dialog.hiddenWindowsNotification.button":"Reopen","dialog.reconnectingDialog":"Reconnecting...","dialog.timedoutDialog":"The session has timed out.","dialog.continueH":"Welcome back!","dialog.continueC1":"You can continue where you left off or ","dialog.continueC2":"start again","dialog.longPollingH":"Warning","dialog.longPollingC":"Your current network blocks WebSockets. You may experience performance problems while working on this connection. Please contact your network administrator.","dialog.longPollingB":"Dismiss","dialog.inactivityTimeoutH":"Warning","dialog.inactivityTimeoutC":"Your session will timeout in less then a minute due to inactivity. Please press any button to continue.","dialog.inactivityTimeoutB":"Dismiss","dialog.finalB1":"New session","dialog.finalB1.undocked":"Close","dialog.finalB2":"Sign out","dialog.retryB1":"Reconnect","dialog.retryB2":"Sign out","dialog.networkMonitor.warn":"Your network connection is slow.","dialog.networkMonitor.offline":"No network connection.","dialog.networkMonitor.hide":"Hide","dialog.cookiesDisabledDialog":"Your browser does not allow cookies. Please enable cookies to continue.","dialog.popupsBlockedDialog":"Please turn off the popup blocker to continue.","dialog.touchSwitchMode.mouse":"Do you want to switch to mouse mode?","dialog.touchSwitchMode.touch":"Do you want to switch to touch mode?","dialog.touchSwitchMode.switchButton":"Switch","dialog.touchSwitchMode.cancelButton":"Hide","dialog.overlay.docking.visibility":"Main Webswing window has been hidden. Please make sure the main window is visible to continue.","dialog.overlay.docking.modality":"This window is blocked by another modal window.","dialog.overlay.docking.focusWindow":"Show window","dialog.autoReconnect":"Reconnecting...","selector.welcome":"Welcome,","selector.message":". Please select an application.","selector.lang.label":"Language: ","selector.admin":"Manage","selector.logout":"Logout","selector.noApp":"There are currently no available applications.","clipboard.content":"Content","clipboard.image":"Image:","clipboard.files":"Files:","clipboard.copy":"Copy to Clipboard (CTRL+C)","clipboard.more":"More...","clipboard.discard":"Discard","clipboard.cancel":"Cancel","clipboard.paste.title.touch":"Please paste content","clipboard.paste.message.touch":"Press and hold on the input below to paste from clipboard.","files.saveTitle":"Save file","files.saveName":"Please enter a name for the file.","files.saveNamePh":"Enter a file name here","files.save":"Save","files.saveInvlidFilename":"File name is invalid. Please use only alphanumeric characters, space, hyphen, dot or underscore.","files.openTitle":"Open file","files.openInst":"Please select a file to import.","files.openBrowse":"Browse","files.dnd":"Drag and drop files here","files.download":"Download","files.downloadTtip":"Download selected files","files.upload":"Upload","files.delete":"Delete","files.deleteTtip":"Delete selected files","files.cancel":"Cancel","files.progress":"Progress:","files.progComplete":"Complete","files.uploadComplete":"Upload complete","files.downloadLink.link.title":"Open link","files.downloadLink.link.message":"Please click the button below to open link.","files.downloadLink.link.button":"Open","files.downloadLink.download.title":"Download file","files.downloadLink.download.message":"Please click the button below to download the file.","files.downloadLink.download.button":"Download","files.downloadLink.print.title":"Print","files.downloadLink.print.message":"Please click the button below to view the printed file.","files.downloadLink.print.button":"View","files.dtDownloadProgressTitle":"Download Progress","files.dtDownloadProgressSingle":"Downloading file...","files.dtDownloadProgressMulti":"Downloading files","files.uploadDnDTitle":"Upload Progress","files.uploadDnDProgress":"Uploading...","touch.controlMode":"Control Mode","touch.desktopMode":"Desktop Mode","touch.copy":"Copy","touch.cut":"Cut","touch.paste":"Paste","touch.keyboard":"Keyboard","touch.fullscreen":"Fullscreen","accessibility.turnOn":"To turn accessibility feature on or off press CTRL 5 times. To switch between windows press CTRL 3 times. To focus out of a table or text area press ESCAPE or SHIFT ESCAPE.","accessibility.turnedOn":"Accessibility turned on.","accessibility.turnedOff":"Accessibility turned off.","accessibility.window.button.toggleDock":"Toggle dock","accessibility.window.button.close":"Close","accessibility.window.button.restore":"Restore","accessibility.window.button.minimize":"Minimize","accessibility.window.button.maximize":"Maximize","accessibility.switcher.title":"Select Window","accessibility.switcher.cancel":"Cancel","accessibility.switcher.untitled":"untitled window","accessibility.switcher.description":"Press Enter to activate selected window, press X to close the window.","accessibility.switcher.modalBlocked":"(blocked by modal)","accessibility.switcher.modalBlocked.description":"This window is blocked by another modal window. You cannot activate or close it.","taskbar.window.untitled":"(untitled)"};function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?s(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){u(i,r,o,a,s,"next",t)}function s(t){u(i,r,o,a,s,"throw",t)}a(void 0)}))}}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(n,t);var e=y(n);function n(t,r){var o;return p(this,n),(o=e.call(this,t)).t=r,o}return h(n,[{key:"provides",value:function(){var t=this;return{"translate.translate":function(e){return t.t.translate(e)},"translate.getLocale":function(){return t.t.getLocale()}}}}]),n}(o.b);function m(t){return O.apply(this,arguments)}function O(){return(O=d(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=e||"",t.next=3,k(e);case 3:return n=t.sent,t.next=6,I(e);case 6:return r=t.sent,t.abrupt("return",new P(n,r));case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var P=function(){function t(e,n){if(p(this,t),c(this,"msg",void 0),this.msg=l(l({},i),n),null!=e&&Object.keys(e).length>1){var r=this.getLocale(),o='<select class="webswing-lang-selector" aria-labelledby="selector-label" onchange="localStorage.setItem(\'webswingLang\',this.options.item(this.selectedIndex).value);location.reload();">';for(var a in e){if(e.hasOwnProperty(a))o+="<option "+(r===a?"selected":"")+' value="'+a+'">'+e[a]+"</option>"}o+="</select>",this.msg["selector.lang"]='<span id="selector-label">${selector.lang.label}</span>'+o}else this.msg["selector.lang"]=""}return h(t,[{key:"getLocale",value:function(){return x()}},{key:"translate",value:function(t){var e=t;return this.replace(e,this.msg)}},{key:"replace",value:function(t,e){if(null!=t&&t.indexOf("${")>-1)for(var n=0;n<3;n++){var r=t;for(var o in e)e.hasOwnProperty(o)&&(r=this.replaceAll(r,"${"+o+"}",e[o]));if(r===t)return r;t=r}else if(null!=t&&null!=e[t.trim()])return e[t];return t}},{key:"escapeRegExp",value:function(t){return t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}},{key:"replaceAll",value:function(t,e,n){return t.replace(new RegExp(this.escapeRegExp(e),"g"),n)}}]),t}();function k(t){return S.apply(this,arguments)}function S(){return(S=d(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=x(),t.prev=1,t.next=4,T(e+"javascript/nls/"+n+"/select.json");case 4:return r=t.sent,t.abrupt("return",r);case 8:return t.prev=8,t.t0=t.catch(1),t.prev=10,t.next=13,T(e+"javascript/nls/select.json");case 13:return o=t.sent,t.abrupt("return",o);case 17:return t.prev=17,t.t1=t.catch(10),t.abrupt("return",null);case 20:case"end":return t.stop()}}),t,null,[[1,8],[10,17]])})))).apply(this,arguments)}function I(t){return E.apply(this,arguments)}function E(){return(E=d(regeneratorRuntime.mark((function t(e){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=x(),r=n.split("-");case 2:if(!(r.length>0)){t.next=15;break}return t.prev=3,t.next=6,T(e+"javascript/nls/"+r.join("-")+"/msg.json");case 6:return o=t.sent,t.abrupt("return",o);case 10:t.prev=10,t.t0=t.catch(3),r.pop();case 13:t.next=2;break;case 15:return t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[3,10]])})))).apply(this,arguments)}function T(t){return j.apply(this,arguments)}function j(){return(j=d(regeneratorRuntime.mark((function t(e){var n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.a.fetch(e);case 2:return n=t.sent,t.prev=3,t.next=6,n.json();case 6:if(null===(o=t.sent)){t.next=9;break}return t.abrupt("return",o.root?o.root:o);case 9:t.next=18;break;case 11:if(t.prev=11,t.t0=t.catch(3),!n.ok){t.next=17;break}console.error("Failed to parse translations from "+e,t.t0),t.next=18;break;case 17:throw t.t0;case 18:return t.abrupt("return",null);case 19:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}function x(){var t=navigator.language,e=null;try{e=localStorage.getItem("webswingLang")}catch(t){console.error(t)}return e||t}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s=n(359),l=s.Reader,c=s.Writer,u=s.util,d=s.roots.default||(s.roots.default={});d.commonProto=((a={}).ParamMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.value="",t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=c.create()),null!=t.name&&Object.hasOwnProperty.call(t,"name")&&e.uint32(10).string(t.name),null!=t.value&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.ParamMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.value=t.string();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.ParamMsgInProto)return t;var e=new d.commonProto.ParamMsgInProto;return null!=t.name&&(e.name=String(t.name)),null!=t.value&&(e.value=String(t.value)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",n.value=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.value&&t.hasOwnProperty("value")&&(n.value=t.value),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.RecordingStatusEnumProto=(o={},(i=Object.create(o))[o[1]="NOT_RECORDING"]=1,i[o[2]="WAITING_FOR_RECORDING_APPROVAL"]=2,i[o[3]="DENIED_RECORDING_BY_USER"]=3,i[o[4]="RECORDING"]=4,i),a.MirroringStatusEnumProto=function(){var t={},e=Object.create(t);return e[t[1]="NOT_MIRRORING"]=1,e[t[2]="WAITING_FOR_MIRRORING_APPROVAL"]=2,e[t[3]="DENIED_MIRRORING_BY_USER"]=3,e[t[4]="MIRRORING"]=4,e}(),a.ConnectionHandshakeMsgInProto=function(){function t(t){if(this.params=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.instanceId="",t.prototype.viewId="",t.prototype.browserId="",t.prototype.currentDpr=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.applicationName="",t.prototype.mirrored=!1,t.prototype.directDrawSupported=!1,t.prototype.documentBase="",t.prototype.params=u.emptyArray,t.prototype.locale="",t.prototype.url="",t.prototype.timeZone="",t.prototype.dockingSupported=!1,t.prototype.touchMode=!1,t.prototype.accessiblityEnabled=!1,t.prototype.tabId="",t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.prototype.userScreenX=0,t.prototype.userScreenY=0,t.prototype.browserOuterWidth=0,t.prototype.browserOuterHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=c.create()),null!=t.instanceId&&Object.hasOwnProperty.call(t,"instanceId")&&e.uint32(10).string(t.instanceId),null!=t.viewId&&Object.hasOwnProperty.call(t,"viewId")&&e.uint32(18).string(t.viewId),null!=t.browserId&&Object.hasOwnProperty.call(t,"browserId")&&e.uint32(26).string(t.browserId),null!=t.currentDpr&&Object.hasOwnProperty.call(t,"currentDpr")&&e.uint32(37).float(t.currentDpr),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.applicationName&&Object.hasOwnProperty.call(t,"applicationName")&&e.uint32(58).string(t.applicationName),null!=t.mirrored&&Object.hasOwnProperty.call(t,"mirrored")&&e.uint32(64).bool(t.mirrored),null!=t.directDrawSupported&&Object.hasOwnProperty.call(t,"directDrawSupported")&&e.uint32(72).bool(t.directDrawSupported),null!=t.documentBase&&Object.hasOwnProperty.call(t,"documentBase")&&e.uint32(82).string(t.documentBase),null!=t.params&&t.params.length)for(var n=0;n<t.params.length;++n)d.commonProto.ParamMsgInProto.encode(t.params[n],e.uint32(90).fork()).ldelim();return null!=t.locale&&Object.hasOwnProperty.call(t,"locale")&&e.uint32(98).string(t.locale),null!=t.url&&Object.hasOwnProperty.call(t,"url")&&e.uint32(106).string(t.url),null!=t.timeZone&&Object.hasOwnProperty.call(t,"timeZone")&&e.uint32(114).string(t.timeZone),null!=t.dockingSupported&&Object.hasOwnProperty.call(t,"dockingSupported")&&e.uint32(120).bool(t.dockingSupported),null!=t.touchMode&&Object.hasOwnProperty.call(t,"touchMode")&&e.uint32(128).bool(t.touchMode),null!=t.accessiblityEnabled&&Object.hasOwnProperty.call(t,"accessiblityEnabled")&&e.uint32(136).bool(t.accessiblityEnabled),null!=t.tabId&&Object.hasOwnProperty.call(t,"tabId")&&e.uint32(146).string(t.tabId),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(152).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(160).uint32(t.userScreenHeight),null!=t.userScreenX&&Object.hasOwnProperty.call(t,"userScreenX")&&e.uint32(168).uint32(t.userScreenX),null!=t.userScreenY&&Object.hasOwnProperty.call(t,"userScreenY")&&e.uint32(176).uint32(t.userScreenY),null!=t.browserOuterWidth&&Object.hasOwnProperty.call(t,"browserOuterWidth")&&e.uint32(184).uint32(t.browserOuterWidth),null!=t.browserOuterHeight&&Object.hasOwnProperty.call(t,"browserOuterHeight")&&e.uint32(192).uint32(t.browserOuterHeight),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.ConnectionHandshakeMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.instanceId=t.string();break;case 2:r.viewId=t.string();break;case 3:r.browserId=t.string();break;case 4:r.currentDpr=t.float();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.applicationName=t.string();break;case 8:r.mirrored=t.bool();break;case 9:r.directDrawSupported=t.bool();break;case 10:r.documentBase=t.string();break;case 11:r.params&&r.params.length||(r.params=[]),r.params.push(d.commonProto.ParamMsgInProto.decode(t,t.uint32()));break;case 12:r.locale=t.string();break;case 13:r.url=t.string();break;case 14:r.timeZone=t.string();break;case 15:r.dockingSupported=t.bool();break;case 16:r.touchMode=t.bool();break;case 17:r.accessiblityEnabled=t.bool();break;case 18:r.tabId=t.string();break;case 19:r.userScreenWidth=t.uint32();break;case 20:r.userScreenHeight=t.uint32();break;case 21:r.userScreenX=t.uint32();break;case 22:r.userScreenY=t.uint32();break;case 23:r.browserOuterWidth=t.uint32();break;case 24:r.browserOuterHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.ConnectionHandshakeMsgInProto)return t;var e=new d.commonProto.ConnectionHandshakeMsgInProto;if(null!=t.instanceId&&(e.instanceId=String(t.instanceId)),null!=t.viewId&&(e.viewId=String(t.viewId)),null!=t.browserId&&(e.browserId=String(t.browserId)),null!=t.currentDpr&&(e.currentDpr=Number(t.currentDpr)),null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.applicationName&&(e.applicationName=String(t.applicationName)),null!=t.mirrored&&(e.mirrored=Boolean(t.mirrored)),null!=t.directDrawSupported&&(e.directDrawSupported=Boolean(t.directDrawSupported)),null!=t.documentBase&&(e.documentBase=String(t.documentBase)),t.params){if(!Array.isArray(t.params))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: array expected");e.params=[];for(var n=0;n<t.params.length;++n){if("object"!==r(t.params[n]))throw TypeError(".commonProto.ConnectionHandshakeMsgInProto.params: object expected");e.params[n]=d.commonProto.ParamMsgInProto.fromObject(t.params[n])}}return null!=t.locale&&(e.locale=String(t.locale)),null!=t.url&&(e.url=String(t.url)),null!=t.timeZone&&(e.timeZone=String(t.timeZone)),null!=t.dockingSupported&&(e.dockingSupported=Boolean(t.dockingSupported)),null!=t.touchMode&&(e.touchMode=Boolean(t.touchMode)),null!=t.accessiblityEnabled&&(e.accessiblityEnabled=Boolean(t.accessiblityEnabled)),null!=t.tabId&&(e.tabId=String(t.tabId)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),null!=t.userScreenX&&(e.userScreenX=t.userScreenX>>>0),null!=t.userScreenY&&(e.userScreenY=t.userScreenY>>>0),null!=t.browserOuterWidth&&(e.browserOuterWidth=t.browserOuterWidth>>>0),null!=t.browserOuterHeight&&(e.browserOuterHeight=t.browserOuterHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.params=[]),e.defaults&&(n.instanceId="",n.viewId="",n.browserId="",n.currentDpr=0,n.desktopWidth=0,n.desktopHeight=0,n.applicationName="",n.mirrored=!1,n.directDrawSupported=!1,n.documentBase="",n.locale="",n.url="",n.timeZone="",n.dockingSupported=!1,n.touchMode=!1,n.accessiblityEnabled=!1,n.tabId="",n.userScreenWidth=0,n.userScreenHeight=0,n.userScreenX=0,n.userScreenY=0,n.browserOuterWidth=0,n.browserOuterHeight=0),null!=t.instanceId&&t.hasOwnProperty("instanceId")&&(n.instanceId=t.instanceId),null!=t.viewId&&t.hasOwnProperty("viewId")&&(n.viewId=t.viewId),null!=t.browserId&&t.hasOwnProperty("browserId")&&(n.browserId=t.browserId),null!=t.currentDpr&&t.hasOwnProperty("currentDpr")&&(n.currentDpr=e.json&&!isFinite(t.currentDpr)?String(t.currentDpr):t.currentDpr),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.applicationName&&t.hasOwnProperty("applicationName")&&(n.applicationName=t.applicationName),null!=t.mirrored&&t.hasOwnProperty("mirrored")&&(n.mirrored=t.mirrored),null!=t.directDrawSupported&&t.hasOwnProperty("directDrawSupported")&&(n.directDrawSupported=t.directDrawSupported),null!=t.documentBase&&t.hasOwnProperty("documentBase")&&(n.documentBase=t.documentBase),t.params&&t.params.length){n.params=[];for(var r=0;r<t.params.length;++r)n.params[r]=d.commonProto.ParamMsgInProto.toObject(t.params[r],e)}return null!=t.locale&&t.hasOwnProperty("locale")&&(n.locale=t.locale),null!=t.url&&t.hasOwnProperty("url")&&(n.url=t.url),null!=t.timeZone&&t.hasOwnProperty("timeZone")&&(n.timeZone=t.timeZone),null!=t.dockingSupported&&t.hasOwnProperty("dockingSupported")&&(n.dockingSupported=t.dockingSupported),null!=t.touchMode&&t.hasOwnProperty("touchMode")&&(n.touchMode=t.touchMode),null!=t.accessiblityEnabled&&t.hasOwnProperty("accessiblityEnabled")&&(n.accessiblityEnabled=t.accessiblityEnabled),null!=t.tabId&&t.hasOwnProperty("tabId")&&(n.tabId=t.tabId),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),null!=t.userScreenX&&t.hasOwnProperty("userScreenX")&&(n.userScreenX=t.userScreenX),null!=t.userScreenY&&t.hasOwnProperty("userScreenY")&&(n.userScreenY=t.userScreenY),null!=t.browserOuterWidth&&t.hasOwnProperty("browserOuterWidth")&&(n.browserOuterWidth=t.browserOuterWidth),null!=t.browserOuterHeight&&t.hasOwnProperty("browserOuterHeight")&&(n.browserOuterHeight=t.browserOuterHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.TabsUpdateMsgInProto=function(){function t(t){if(this.tabs=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.tabs=u.emptyArray,t.create=function(e){return new t(e)},t.encode=function(t,e){if(e||(e=c.create()),null!=t.tabs&&t.tabs.length)for(var n=0;n<t.tabs.length;++n)d.commonProto.TabStateMsgInProto.encode(t.tabs[n],e.uint32(10).fork()).ldelim();return e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.TabsUpdateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.tabs&&r.tabs.length||(r.tabs=[]),r.tabs.push(d.commonProto.TabStateMsgInProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.TabsUpdateMsgInProto)return t;var e=new d.commonProto.TabsUpdateMsgInProto;if(t.tabs){if(!Array.isArray(t.tabs))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: array expected");e.tabs=[];for(var n=0;n<t.tabs.length;++n){if("object"!==r(t.tabs[n]))throw TypeError(".commonProto.TabsUpdateMsgInProto.tabs: object expected");e.tabs[n]=d.commonProto.TabStateMsgInProto.fromObject(t.tabs[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.tabs=[]),t.tabs&&t.tabs.length){n.tabs=[];for(var r=0;r<t.tabs.length;++r)n.tabs[r]=d.commonProto.TabStateMsgInProto.toObject(t.tabs[r],e)}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a.TabStateMsgInProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id="",t.prototype.state=0,t.prototype.origin=0,t.prototype.event=0,t.prototype.desktopWidth=0,t.prototype.desktopHeight=0,t.prototype.dpr=0,t.prototype.userScreenWidth=0,t.prototype.userScreenHeight=0,t.prototype.userScreenX=0,t.prototype.userScreenY=0,t.prototype.browserOuterWidth=0,t.prototype.browserOuterHeight=0,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=c.create()),null!=t.id&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),null!=t.state&&Object.hasOwnProperty.call(t,"state")&&e.uint32(16).int32(t.state),null!=t.origin&&Object.hasOwnProperty.call(t,"origin")&&e.uint32(24).int32(t.origin),null!=t.event&&Object.hasOwnProperty.call(t,"event")&&e.uint32(32).int32(t.event),null!=t.desktopWidth&&Object.hasOwnProperty.call(t,"desktopWidth")&&e.uint32(40).uint32(t.desktopWidth),null!=t.desktopHeight&&Object.hasOwnProperty.call(t,"desktopHeight")&&e.uint32(48).uint32(t.desktopHeight),null!=t.dpr&&Object.hasOwnProperty.call(t,"dpr")&&e.uint32(61).float(t.dpr),null!=t.userScreenWidth&&Object.hasOwnProperty.call(t,"userScreenWidth")&&e.uint32(64).uint32(t.userScreenWidth),null!=t.userScreenHeight&&Object.hasOwnProperty.call(t,"userScreenHeight")&&e.uint32(72).uint32(t.userScreenHeight),null!=t.userScreenX&&Object.hasOwnProperty.call(t,"userScreenX")&&e.uint32(80).uint32(t.userScreenX),null!=t.userScreenY&&Object.hasOwnProperty.call(t,"userScreenY")&&e.uint32(88).uint32(t.userScreenY),null!=t.browserOuterWidth&&Object.hasOwnProperty.call(t,"browserOuterWidth")&&e.uint32(96).uint32(t.browserOuterWidth),null!=t.browserOuterHeight&&Object.hasOwnProperty.call(t,"browserOuterHeight")&&e.uint32(104).uint32(t.browserOuterHeight),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.TabStateMsgInProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.string();break;case 2:r.state=t.int32();break;case 3:r.origin=t.int32();break;case 4:r.event=t.int32();break;case 5:r.desktopWidth=t.uint32();break;case 6:r.desktopHeight=t.uint32();break;case 7:r.dpr=t.float();break;case 8:r.userScreenWidth=t.uint32();break;case 9:r.userScreenHeight=t.uint32();break;case 10:r.userScreenX=t.uint32();break;case 11:r.userScreenY=t.uint32();break;case 12:r.browserOuterWidth=t.uint32();break;case 13:r.browserOuterHeight=t.uint32();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.TabStateMsgInProto)return t;var e=new d.commonProto.TabStateMsgInProto;switch(null!=t.id&&(e.id=String(t.id)),t.state){case"Connected":case 0:e.state=0;break;case"Disconnected":case 1:e.state=1}switch(t.origin){case"Primary":case 0:e.origin=0;break;case"Undocked":case 1:e.origin=1}switch(t.event){case"Added":case 0:e.event=0;break;case"Removed":case 1:e.event=1}return null!=t.desktopWidth&&(e.desktopWidth=t.desktopWidth>>>0),null!=t.desktopHeight&&(e.desktopHeight=t.desktopHeight>>>0),null!=t.dpr&&(e.dpr=Number(t.dpr)),null!=t.userScreenWidth&&(e.userScreenWidth=t.userScreenWidth>>>0),null!=t.userScreenHeight&&(e.userScreenHeight=t.userScreenHeight>>>0),null!=t.userScreenX&&(e.userScreenX=t.userScreenX>>>0),null!=t.userScreenY&&(e.userScreenY=t.userScreenY>>>0),null!=t.browserOuterWidth&&(e.browserOuterWidth=t.browserOuterWidth>>>0),null!=t.browserOuterHeight&&(e.browserOuterHeight=t.browserOuterHeight>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id="",n.state=e.enums===String?"Connected":0,n.origin=e.enums===String?"Primary":0,n.event=e.enums===String?"Added":0,n.desktopWidth=0,n.desktopHeight=0,n.dpr=0,n.userScreenWidth=0,n.userScreenHeight=0,n.userScreenX=0,n.userScreenY=0,n.browserOuterWidth=0,n.browserOuterHeight=0),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.state&&t.hasOwnProperty("state")&&(n.state=e.enums===String?d.commonProto.TabStateMsgInProto.TabStateTypeProto[t.state]:t.state),null!=t.origin&&t.hasOwnProperty("origin")&&(n.origin=e.enums===String?d.commonProto.TabStateMsgInProto.TabOriginTypeProto[t.origin]:t.origin),null!=t.event&&t.hasOwnProperty("event")&&(n.event=e.enums===String?d.commonProto.TabStateMsgInProto.TabEventTypeProto[t.event]:t.event),null!=t.desktopWidth&&t.hasOwnProperty("desktopWidth")&&(n.desktopWidth=t.desktopWidth),null!=t.desktopHeight&&t.hasOwnProperty("desktopHeight")&&(n.desktopHeight=t.desktopHeight),null!=t.dpr&&t.hasOwnProperty("dpr")&&(n.dpr=e.json&&!isFinite(t.dpr)?String(t.dpr):t.dpr),null!=t.userScreenWidth&&t.hasOwnProperty("userScreenWidth")&&(n.userScreenWidth=t.userScreenWidth),null!=t.userScreenHeight&&t.hasOwnProperty("userScreenHeight")&&(n.userScreenHeight=t.userScreenHeight),null!=t.userScreenX&&t.hasOwnProperty("userScreenX")&&(n.userScreenX=t.userScreenX),null!=t.userScreenY&&t.hasOwnProperty("userScreenY")&&(n.userScreenY=t.userScreenY),null!=t.browserOuterWidth&&t.hasOwnProperty("browserOuterWidth")&&(n.browserOuterWidth=t.browserOuterWidth),null!=t.browserOuterHeight&&t.hasOwnProperty("browserOuterHeight")&&(n.browserOuterHeight=t.browserOuterHeight),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t.TabStateTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Connected"]=0,e[t[1]="Disconnected"]=1,e}(),t.TabOriginTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Primary"]=0,e[t[1]="Undocked"]=1,e}(),t.TabEventTypeProto=function(){var t={},e=Object.create(t);return e[t[0]="Added"]=0,e[t[1]="Removed"]=1,e}(),t}(),a.PartialPayloadMsgProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.partial=u.newBuffer([]),t.prototype.partialId="",t.prototype.last=!1,t.create=function(e){return new t(e)},t.encode=function(t,e){return e||(e=c.create()),null!=t.partial&&Object.hasOwnProperty.call(t,"partial")&&e.uint32(10).bytes(t.partial),null!=t.partialId&&Object.hasOwnProperty.call(t,"partialId")&&e.uint32(18).string(t.partialId),null!=t.last&&Object.hasOwnProperty.call(t,"last")&&e.uint32(24).bool(t.last),e},t.decode=function(t,e){t instanceof l||(t=l.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new d.commonProto.PartialPayloadMsgProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.partial=t.bytes();break;case 2:r.partialId=t.string();break;case 3:r.last=t.bool();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof d.commonProto.PartialPayloadMsgProto)return t;var e=new d.commonProto.PartialPayloadMsgProto;return null!=t.partial&&("string"==typeof t.partial?u.base64.decode(t.partial,e.partial=u.newBuffer(u.base64.length(t.partial)),0):t.partial.length&&(e.partial=t.partial)),null!=t.partialId&&(e.partialId=String(t.partialId)),null!=t.last&&(e.last=Boolean(t.last)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.partial="":(n.partial=[],e.bytes!==Array&&(n.partial=u.newBuffer(n.partial))),n.partialId="",n.last=!1),null!=t.partial&&t.hasOwnProperty("partial")&&(n.partial=e.bytes===String?u.base64.encode(t.partial,0,t.partial.length):e.bytes===Array?Array.prototype.slice.call(t.partial):t.partial),null!=t.partialId&&t.hasOwnProperty("partialId")&&(n.partialId=t.partialId),null!=t.last&&t.hasOwnProperty("last")&&(n.last=t.last),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,s.util.toJSONOptions)},t}(),a),t.exports=d},function(t,e,n){var r=n(8),o=n(2),i=n(84);t.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(3),o=n(86),i=r.WeakMap;t.exports="function"==typeof i&&/native code/.test(o(i))},function(t,e,n){var r=n(11),o=n(89),i=n(14),a=n(10);t.exports=function(t,e){for(var n=o(e),s=a.f,l=i.f,c=0;c<n.length;c++){var u=n[c];r(t,u)||s(t,u,l(e,u))}}},function(t,e,n){var r=n(3);t.exports=r},function(t,e,n){var r=n(11),o=n(19),i=n(67).indexOf,a=n(52);t.exports=function(t,e){var n,s=o(t),l=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;e.length>l;)r(s,n=e[l++])&&(~i(c,n)||c.push(n));return c}},function(t,e,n){var r=n(92);t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,n){var r=n(8),o=n(10),i=n(5),a=n(56);t.exports=r?Object.defineProperties:function(t,e){i(t);for(var n,r=a(e),s=r.length,l=0;s>l;)o.f(t,n=r[l++],e[n]);return t}},function(t,e,n){var r=n(25);t.exports=r("document","documentElement")},function(t,e,n){var r=n(19),o=n(40).f,i={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return a&&"[object Window]"==i.call(t)?function(t){try{return o(t)}catch(t){return a.slice()}}(t):o(r(t))}},function(t,e,n){var r=n(6);e.f=r},function(t,e,n){"use strict";var r=n(12),o=n(41),i=n(9),a=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=i(n.length),l=o(t,s),c=o(e,s),u=arguments.length>2?arguments[2]:void 0,d=a((void 0===u?s:o(u,s))-c,s-l),p=1;for(c<l&&l<c+d&&(p=-1,c+=d-1,l+=d-1);d-- >0;)c in n?n[l]=n[c]:delete n[l],l+=p,c+=p;return n}},function(t,e,n){"use strict";var r=n(55),o=n(9),i=n(36),a=function(t,e,n,s,l,c,u,d){for(var p,f=l,h=0,g=!!u&&i(u,d,3);h<s;){if(h in n){if(p=g?g(n[h],h,e):n[h],c>0&&r(p))f=a(t,e,p,o(p.length),f,c-1)-1;else{if(f>=9007199254740991)throw TypeError("Exceed the acceptable array length");t[f]=p}f++}h++}return f};t.exports=a},function(t,e,n){"use strict";var r=n(36),o=n(12),i=n(178),a=n(94),s=n(9),l=n(42),c=n(60);t.exports=function(t){var e,n,u,d,p,f,h=o(t),g="function"==typeof this?this:Array,y=arguments.length,v=y>1?arguments[1]:void 0,w=void 0!==v,b=c(h),m=0;if(w&&(v=r(v,y>2?arguments[2]:void 0,2)),null==b||g==Array&&a(b))for(n=new g(e=s(h.length));e>m;m++)f=w?v(h[m],m):h[m],l(n,m,f);else for(p=(d=b.call(h)).next,n=new g;!(u=p.call(d)).done;m++)f=w?i(d,v,[u.value,m],!0):u.value,l(n,m,f);return n.length=m,n}},function(t,e,n){var r=n(5);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){"use strict";var r=n(125).IteratorPrototype,o=n(35),i=n(33),a=n(30),s=n(59),l=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=o(r,{next:i(1,n)}),a(t,c,!1,!0),s[c]=l,t}},function(t,e,n){"use strict";var r,o,i,a=n(2),s=n(27),l=n(18),c=n(11),u=n(6),d=n(29),p=u("iterator"),f=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(r=o):f=!0);var h=null==r||a((function(){var t={};return r[p].call(t)!==t}));h&&(r={}),d&&!h||c(r,p)||l(r,p,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},function(t,e,n){var r=n(4);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){"use strict";var r=n(3),o=n(8),i=n(128),a=n(18),s=n(47),l=n(2),c=n(38),u=n(24),d=n(9),p=n(129),f=n(189),h=n(27),g=n(45),y=n(40).f,v=n(10).f,w=n(93),b=n(30),m=n(20),O=m.get,P=m.set,k=r.ArrayBuffer,S=k,I=r.DataView,E=I&&I.prototype,T=Object.prototype,j=r.RangeError,x=f.pack,M=f.unpack,A=function(t){return[255&t]},D=function(t){return[255&t,t>>8&255]},C=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},F=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},B=function(t){return x(t,23,4)},R=function(t){return x(t,52,8)},L=function(t,e){v(t.prototype,e,{get:function(){return O(this)[e]}})},W=function(t,e,n,r){var o=p(n),i=O(t);if(o+e>i.byteLength)throw j("Wrong index");var a=O(i.buffer).bytes,s=o+i.byteOffset,l=a.slice(s,s+e);return r?l:l.reverse()},U=function(t,e,n,r,o,i){var a=p(n),s=O(t);if(a+e>s.byteLength)throw j("Wrong index");for(var l=O(s.buffer).bytes,c=a+s.byteOffset,u=r(+o),d=0;d<e;d++)l[c+d]=u[i?d:e-d-1]};if(i){if(!l((function(){k(1)}))||!l((function(){new k(-1)}))||l((function(){return new k,new k(1.5),new k(NaN),"ArrayBuffer"!=k.name}))){for(var _,N=(S=function(t){return c(this,S),new k(p(t))}).prototype=k.prototype,H=y(k),q=0;H.length>q;)(_=H[q++])in S||a(S,_,k[_]);N.constructor=S}g&&h(E)!==T&&g(E,T);var z=new I(new S(2)),J=E.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(E,{setInt8:function(t,e){J.call(this,t,e<<24>>24)},setUint8:function(t,e){J.call(this,t,e<<24>>24)}},{unsafe:!0})}else S=function(t){c(this,S,"ArrayBuffer");var e=p(t);P(this,{bytes:w.call(new Array(e),0),byteLength:e}),o||(this.byteLength=e)},I=function(t,e,n){c(this,I,"DataView"),c(t,S,"DataView");var r=O(t).byteLength,i=u(e);if(i<0||i>r)throw j("Wrong offset");if(i+(n=void 0===n?r-i:d(n))>r)throw j("Wrong length");P(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(L(S,"byteLength"),L(I,"buffer"),L(I,"byteLength"),L(I,"byteOffset")),s(I.prototype,{getInt8:function(t){return W(this,1,t)[0]<<24>>24},getUint8:function(t){return W(this,1,t)[0]},getInt16:function(t){var e=W(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=W(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return F(W(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return F(W(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return M(W(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return M(W(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){U(this,1,t,A,e)},setUint8:function(t,e){U(this,1,t,A,e)},setInt16:function(t,e){U(this,2,t,D,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){U(this,2,t,D,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){U(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){U(this,4,t,C,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){U(this,4,t,B,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){U(this,8,t,R,e,arguments.length>2?arguments[2]:void 0)}});b(S,"ArrayBuffer"),b(I,"DataView"),t.exports={ArrayBuffer:S,DataView:I}},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){var r=n(24),o=n(9);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=o(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){"use strict";var r=n(10).f,o=n(35),i=n(47),a=n(36),s=n(38),l=n(63),c=n(96),u=n(46),d=n(8),p=n(43).fastKey,f=n(20),h=f.set,g=f.getterFor;t.exports={getConstructor:function(t,e,n,c){var u=t((function(t,r){s(t,u,e),h(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),d||(t.size=0),null!=r&&l(r,t[c],{that:t,AS_ENTRIES:n})})),f=g(e),y=function(t,e,n){var r,o,i=f(t),a=v(t,e);return a?a.value=n:(i.last=a={index:o=p(e,!0),key:e,value:n,previous:r=i.last,next:void 0,removed:!1},i.first||(i.first=a),r&&(r.next=a),d?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},v=function(t,e){var n,r=f(t),o=p(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return i(u.prototype,{clear:function(){for(var t=f(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,d?t.size=0:this.size=0},delete:function(t){var e=f(this),n=v(this,t);if(n){var r=n.next,o=n.previous;delete e.index[n.index],n.removed=!0,o&&(o.next=r),r&&(r.previous=o),e.first==n&&(e.first=r),e.last==n&&(e.last=o),d?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=f(this),r=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!v(this,t)}}),i(u.prototype,n?{get:function(t){var e=v(this,t);return e&&e.value},set:function(t,e){return y(this,0===t?0:t,e)}}:{add:function(t){return y(this,t=0===t?0:t,t)}}),d&&r(u.prototype,"size",{get:function(){return f(this).size}}),u},setStrong:function(t,e,n){var r=e+" Iterator",o=g(e),i=g(r);c(t,e,(function(t,e){h(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),u(e)}}},function(t,e){var n=Math.log;t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:n(1+t)}},function(t,e,n){var r=n(4),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},function(t,e,n){"use strict";var r=n(8),o=n(2),i=n(56),a=n(91),s=n(65),l=n(12),c=n(50),u=Object.assign,d=Object.defineProperty;t.exports=!u||o((function(){if(r&&1!==u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=u({},t)[n]||"abcdefghijklmnopqrst"!=i(u({},e)).join("")}))?function(t,e){for(var n=l(t),o=arguments.length,u=1,d=a.f,p=s.f;o>u;)for(var f,h=c(arguments[u++]),g=d?i(h).concat(d(h)):i(h),y=g.length,v=0;y>v;)f=g[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:u},function(t,e,n){var r=n(8),o=n(56),i=n(19),a=n(65).f,s=function(t){return function(e){for(var n,s=i(e),l=o(s),c=l.length,u=0,d=[];c>u;)n=l[u++],r&&!a.call(s,n)||d.push(t?[n,s[n]]:s[n]);return d}};t.exports={entries:s(!0),values:s(!1)}},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(3);t.exports=r.Promise},function(t,e,n){var r,o,i,a=n(3),s=n(2),l=n(36),c=n(117),u=n(84),d=n(138),p=n(54),f=a.location,h=a.setImmediate,g=a.clearImmediate,y=a.process,v=a.MessageChannel,w=a.Dispatch,b=0,m={},O=function(t){if(m.hasOwnProperty(t)){var e=m[t];delete m[t],e()}},P=function(t){return function(){O(t)}},k=function(t){O(t.data)},S=function(t){a.postMessage(t+"",f.protocol+"//"+f.host)};h&&g||(h=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return m[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},g=function(t){delete m[t]},p?r=function(t){y.nextTick(P(t))}:w&&w.now?r=function(t){w.now(P(t))}:v&&!d?(i=(o=new v).port2,o.port1.onmessage=k,r=l(i.postMessage,i,1)):a.addEventListener&&"function"==typeof postMessage&&!a.importScripts&&f&&"file:"!==f.protocol&&!s(S)?(r=S,a.addEventListener("message",k,!1)):r="onreadystatechange"in u("script")?function(t){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),O(t)}}:function(t){setTimeout(P(t),0)}),t.exports={set:h,clear:g}},function(t,e,n){var r=n(69);t.exports=/(iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r,o,i,a,s,l,c,u,d=n(3),p=n(14).f,f=n(137).set,h=n(138),g=n(253),y=n(54),v=d.MutationObserver||d.WebKitMutationObserver,w=d.document,b=d.process,m=d.Promise,O=p(d,"queueMicrotask"),P=O&&O.value;P||(r=function(){var t,e;for(y&&(t=b.domain)&&t.exit();o;){e=o.fn,o=o.next;try{e()}catch(t){throw o?a():i=void 0,t}}i=void 0,t&&t.enter()},h||y||g||!v||!w?m&&m.resolve?(c=m.resolve(void 0),u=c.then,a=function(){u.call(c,r)}):a=y?function(){b.nextTick(r)}:function(){f.call(d,r)}:(s=!0,l=w.createTextNode(""),new v(r).observe(l,{characterData:!0}),a=function(){l.data=s=!s})),t.exports=P||function(t){var e={fn:t,next:void 0};i&&(i.next=e),o||(o=e,a()),i=e}},function(t,e,n){var r=n(5),o=n(4),i=n(141);t.exports=function(t,e){if(r(t),o(e)&&e.constructor===t)return e;var n=i.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(26),o=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new o(t)}},function(t,e,n){"use strict";var r=n(0),o=n(78);r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e,n){"use strict";var r=n(79).charAt,o=n(20),i=n(96),a=o.set,s=o.getterFor("String Iterator");i(String,"String",(function(t){a(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,o=e.index;return o>=n.length?{value:void 0,done:!0}:(t=r(n,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){var r=n(9),o=n(100),i=n(17),a=Math.ceil,s=function(t){return function(e,n,s){var l,c,u=String(i(e)),d=u.length,p=void 0===s?" ":String(s),f=r(n);return f<=d||""==p?u:(l=f-d,(c=o.call(p,a(l/p.length))).length>l&&(c=c.slice(0,l)),t?u+c:c+u)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){var r=n(69);t.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){var r=n(306);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(12),o=n(9),i=n(60),a=n(94),s=n(36),l=n(7).aTypedArrayConstructor;t.exports=function(t){var e,n,c,u,d,p,f=r(t),h=arguments.length,g=h>1?arguments[1]:void 0,y=void 0!==g,v=i(f);if(null!=v&&!a(v))for(p=(d=v.call(f)).next,f=[];!(u=p.call(d)).done;)f.push(u.value);for(y&&h>2&&(g=s(g,arguments[2],2)),n=o(f.length),c=new(l(this))(n),e=0;n>e;e++)c[e]=y?g(f[e],e):f[e];return c}},function(t,e,n){var r=n(26),o=n(12),i=n(50),a=n(9),s=function(t){return function(e,n,s,l){r(n);var c=o(e),u=i(c),d=a(c.length),p=t?d-1:0,f=t?-1:1;if(s<2)for(;;){if(p in u){l=u[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in u&&(l=n(l,u[p],p,c));return l}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){"use strict";var r=n(47),o=n(43).getWeakData,i=n(5),a=n(4),s=n(38),l=n(63),c=n(16),u=n(11),d=n(20),p=d.set,f=d.getterFor,h=c.find,g=c.findIndex,y=0,v=function(t){return t.frozen||(t.frozen=new w)},w=function(){this.entries=[]},b=function(t,e){return h(t.entries,(function(t){return t[0]===e}))};w.prototype={get:function(t){var e=b(this,t);if(e)return e[1]},has:function(t){return!!b(this,t)},set:function(t,e){var n=b(this,t);n?n[1]=e:this.entries.push([t,e])},delete:function(t){var e=g(this.entries,(function(e){return e[0]===t}));return~e&&this.entries.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,n,c){var d=t((function(t,r){s(t,d,e),p(t,{type:e,id:y++,frozen:void 0}),null!=r&&l(r,t[c],{that:t,AS_ENTRIES:n})})),h=f(e),g=function(t,e,n){var r=h(t),a=o(i(e),!0);return!0===a?v(r).set(e,n):a[r.id]=n,t};return r(d.prototype,{delete:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).delete(t):n&&u(n,e.id)&&delete n[e.id]},has:function(t){var e=h(this);if(!a(t))return!1;var n=o(t);return!0===n?v(e).has(t):n&&u(n,e.id)}}),r(d.prototype,n?{get:function(t){var e=h(this);if(a(t)){var n=o(t);return!0===n?v(e).get(t):n?n[e.id]:void 0}},set:function(t,e){return g(this,t,e)}}:{add:function(t){return g(this,t,!0)}}),d}}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,n){var r=n(2),o=n(6),i=n(29),a=o("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),i&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[a]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(71);var r=n(0),o=n(25),i=n(151),a=n(15),s=n(47),l=n(30),c=n(124),u=n(20),d=n(38),p=n(11),f=n(36),h=n(61),g=n(5),y=n(4),v=n(35),w=n(33),b=n(350),m=n(60),O=n(6),P=o("fetch"),k=o("Headers"),S=O("iterator"),I=u.set,E=u.getterFor("URLSearchParams"),T=u.getterFor("URLSearchParamsIterator"),j=/\+/g,x=Array(4),M=function(t){return x[t-1]||(x[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},A=function(t){try{return decodeURIComponent(t)}catch(e){return t}},D=function(t){var e=t.replace(j," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(M(n--),A);return e}},C=/[!'()~]|%20/g,F={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},B=function(t){return F[t]},R=function(t){return encodeURIComponent(t).replace(C,B)},L=function(t,e){if(e)for(var n,r,o=e.split("&"),i=0;i<o.length;)(n=o[i++]).length&&(r=n.split("="),t.push({key:D(r.shift()),value:D(r.join("="))}))},W=function(t){this.entries.length=0,L(this.entries,t)},U=function(t,e){if(t<e)throw TypeError("Not enough arguments")},_=c((function(t,e){I(this,{type:"URLSearchParamsIterator",iterator:b(E(t).entries),kind:e})}),"Iterator",(function(){var t=T(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),N=function(){d(this,N,"URLSearchParams");var t,e,n,r,o,i,a,s,l,c=arguments.length>0?arguments[0]:void 0,u=this,f=[];if(I(u,{type:"URLSearchParams",entries:f,updateURL:function(){},updateSearchParams:W}),void 0!==c)if(y(c))if("function"==typeof(t=m(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((a=(i=(o=b(g(r.value))).next).call(o)).done||(s=i.call(o)).done||!i.call(o).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(l in c)p(c,l)&&f.push({key:l,value:c[l]+""});else L(f,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},H=N.prototype;s(H,{append:function(t,e){U(arguments.length,2);var n=E(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){U(arguments.length,1);for(var e=E(this),n=e.entries,r=t+"",o=0;o<n.length;)n[o].key===r?n.splice(o,1):o++;e.updateURL()},get:function(t){U(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){U(arguments.length,1);for(var e=E(this).entries,n=t+"",r=[],o=0;o<e.length;o++)e[o].key===n&&r.push(e[o].value);return r},has:function(t){U(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){U(arguments.length,1);for(var n,r=E(this),o=r.entries,i=!1,a=t+"",s=e+"",l=0;l<o.length;l++)(n=o[l]).key===a&&(i?o.splice(l--,1):(i=!0,n.value=s));i||o.push({key:a,value:s}),r.updateURL()},sort:function(){var t,e,n,r=E(this),o=r.entries,i=o.slice();for(o.length=0,n=0;n<i.length;n++){for(t=i[n],e=0;e<n;e++)if(o[e].key>t.key){o.splice(e,0,t);break}e===n&&o.push(t)}r.updateURL()},forEach:function(t){for(var e,n=E(this).entries,r=f(t,arguments.length>1?arguments[1]:void 0,3),o=0;o<n.length;)r((e=n[o++]).value,e.key,this)},keys:function(){return new _(this,"keys")},values:function(){return new _(this,"values")},entries:function(){return new _(this,"entries")}},{enumerable:!0}),a(H,S,H.entries),a(H,"toString",(function(){for(var t,e=E(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(R(t.key)+"="+R(t.value));return n.join("&")}),{enumerable:!0}),l(N,"URLSearchParams"),r({global:!0,forced:!i},{URLSearchParams:N}),i||"function"!=typeof P||"function"!=typeof k||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,o=[t];return arguments.length>1&&(y(e=arguments[1])&&(n=e.body,"URLSearchParams"===h(n)&&((r=e.headers?new k(e.headers):new k).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=v(e,{body:w(0,String(n)),headers:w(0,r)}))),o.push(e)),P.apply(this,o)}}),t.exports={URLSearchParams:N,getState:E}},function(t,e,n){"use strict";(function(t){var r=n(82),o=n(83),i=setTimeout;function a(t){return Boolean(t&&void 0!==t.length)}function s(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(t,this)}function c(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void d(e.promise,t)}u(e.promise,r)}else(1===t._state?u:d)(e.promise,t._value)}))):t._deferreds.push(e)}function u(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void p(t);if("function"==typeof n)return void h((r=n,o=e,function(){r.apply(o,arguments)}),t)}t._state=1,t._value=e,p(t)}catch(e){d(t,e)}var r,o}function d(t,e){t._state=2,t._value=e,p(t)}function p(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)c(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function h(t,e){var n=!1;try{t((function(t){n||(n=!0,u(e,t))}),(function(t){n||(n=!0,d(e,t))}))}catch(t){if(n)return;n=!0,d(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(s);return c(this,new f(t,e,n)),n},l.prototype.finally=r.a,l.all=function(t){return new l((function(e,n){if(!a(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var o=r.length;function i(t,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(e){i(t,e)}),n)}r[t]=a,0==--o&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)i(s,r[s])}))},l.allSettled=o.a,l.resolve=function(t){return t&&"object"==typeof t&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){if(!a(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,o=t.length;r<o;r++)l.resolve(t[r]).then(e,n)}))},l._immediateFn="function"==typeof t&&function(e){t(e)}||function(t){i(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.a=l}).call(this,n(353).setImmediate)},function(t,e,n){"use strict";(function(t){var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(375),r.base64=n(376),r.EventEmitter=n(377),r.float=n(378),r.inquire=n(379),r.utf8=n(380),r.pool=n(381),r.LongBits=n(382),r.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),r.global=r.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}}).call(this,n(49))},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(25),a=n(29),s=n(8),l=n(92),c=n(115),u=n(2),d=n(11),p=n(55),f=n(4),h=n(5),g=n(12),y=n(19),v=n(28),w=n(33),b=n(35),m=n(56),O=n(40),P=n(118),k=n(91),S=n(14),I=n(10),E=n(65),T=n(18),j=n(15),x=n(88),M=n(66),A=n(52),D=n(51),C=n(6),F=n(119),B=n(21),R=n(30),L=n(20),W=n(16).forEach,U=M("hidden"),_=C("toPrimitive"),N=L.set,H=L.getterFor("Symbol"),q=Object.prototype,z=o.Symbol,J=i("JSON","stringify"),Y=S.f,X=I.f,G=P.f,K=E.f,$=x("symbols"),V=x("op-symbols"),Q=x("string-to-symbol-registry"),Z=x("symbol-to-string-registry"),tt=x("wks"),et=o.QObject,nt=!et||!et.prototype||!et.prototype.findChild,rt=s&&u((function(){return 7!=b(X({},"a",{get:function(){return X(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=Y(q,e);r&&delete q[e],X(t,e,n),r&&t!==q&&X(q,e,r)}:X,ot=function(t,e){var n=$[t]=b(z.prototype);return N(n,{type:"Symbol",tag:t,description:e}),s||(n.description=e),n},it=c?function(t){return"symbol"==typeof t}:function(t){return Object(t)instanceof z},at=function(t,e,n){t===q&&at(V,e,n),h(t);var r=v(e,!0);return h(n),d($,r)?(n.enumerable?(d(t,U)&&t[U][r]&&(t[U][r]=!1),n=b(n,{enumerable:w(0,!1)})):(d(t,U)||X(t,U,w(1,{})),t[U][r]=!0),rt(t,r,n)):X(t,r,n)},st=function(t,e){h(t);var n=y(e),r=m(n).concat(dt(n));return W(r,(function(e){s&&!lt.call(n,e)||at(t,e,n[e])})),t},lt=function(t){var e=v(t,!0),n=K.call(this,e);return!(this===q&&d($,e)&&!d(V,e))&&(!(n||!d(this,e)||!d($,e)||d(this,U)&&this[U][e])||n)},ct=function(t,e){var n=y(t),r=v(e,!0);if(n!==q||!d($,r)||d(V,r)){var o=Y(n,r);return!o||!d($,r)||d(n,U)&&n[U][r]||(o.enumerable=!0),o}},ut=function(t){var e=G(y(t)),n=[];return W(e,(function(t){d($,t)||d(A,t)||n.push(t)})),n},dt=function(t){var e=t===q,n=G(e?V:y(t)),r=[];return W(n,(function(t){!d($,t)||e&&!d(q,t)||r.push($[t])})),r};(l||(j((z=function(){if(this instanceof z)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=D(t),n=function(t){this===q&&n.call(V,t),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),rt(this,e,w(1,t))};return s&&nt&&rt(q,e,{configurable:!0,set:n}),ot(e,t)}).prototype,"toString",(function(){return H(this).tag})),j(z,"withoutSetter",(function(t){return ot(D(t),t)})),E.f=lt,I.f=at,S.f=ct,O.f=P.f=ut,k.f=dt,F.f=function(t){return ot(C(t),t)},s&&(X(z.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),a||j(q,"propertyIsEnumerable",lt,{unsafe:!0}))),r({global:!0,wrap:!0,forced:!l,sham:!l},{Symbol:z}),W(m(tt),(function(t){B(t)})),r({target:"Symbol",stat:!0,forced:!l},{for:function(t){var e=String(t);if(d(Q,e))return Q[e];var n=z(e);return Q[e]=n,Z[n]=e,n},keyFor:function(t){if(!it(t))throw TypeError(t+" is not a symbol");if(d(Z,t))return Z[t]},useSetter:function(){nt=!0},useSimple:function(){nt=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!s},{create:function(t,e){return void 0===e?b(t):st(b(t),e)},defineProperty:at,defineProperties:st,getOwnPropertyDescriptor:ct}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:ut,getOwnPropertySymbols:dt}),r({target:"Object",stat:!0,forced:u((function(){k.f(1)}))},{getOwnPropertySymbols:function(t){return k.f(g(t))}}),J)&&r({target:"JSON",stat:!0,forced:!l||u((function(){var t=z();return"[null]"!=J([t])||"{}"!=J({a:t})||"{}"!=J(Object(t))}))},{stringify:function(t,e,n){for(var r,o=[t],i=1;arguments.length>i;)o.push(arguments[i++]);if(r=e,(f(e)||void 0!==t)&&!it(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!it(e))return e}),o[1]=e,J.apply(null,o)}});z.prototype[_]||T(z.prototype,_,z.prototype.valueOf),R(z,"Symbol"),A[U]=!0},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(3),a=n(11),s=n(4),l=n(10).f,c=n(112),u=i.Symbol;if(o&&"function"==typeof u&&(!("description"in u.prototype)||void 0!==u().description)){var d={},p=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof p?new u(t):void 0===t?u():u(t);return""===t&&(d[e]=!0),e};c(p,u);var f=p.prototype=u.prototype;f.constructor=p;var h=f.toString,g="Symbol(test)"==String(u("test")),y=/^Symbol\((.*)\)[^)]+$/;l(f,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=h.call(t);if(a(d,t))return"";var n=g?e.slice(7,-1):e.replace(y,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:p})}},function(t,e,n){n(21)("asyncIterator")},function(t,e,n){n(21)("hasInstance")},function(t,e,n){n(21)("isConcatSpreadable")},function(t,e,n){n(21)("iterator")},function(t,e,n){n(21)("match")},function(t,e,n){n(21)("replace")},function(t,e,n){n(21)("search")},function(t,e,n){n(21)("species")},function(t,e,n){n(21)("split")},function(t,e,n){n(21)("toPrimitive")},function(t,e,n){n(21)("toStringTag")},function(t,e,n){n(21)("unscopables")},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(55),a=n(4),s=n(12),l=n(9),c=n(42),u=n(57),d=n(58),p=n(6),f=n(68),h=p("isConcatSpreadable"),g=f>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),y=d("concat"),v=function(t){if(!a(t))return!1;var e=t[h];return void 0!==e?!!e:i(t)};r({target:"Array",proto:!0,forced:!g||!y},{concat:function(t){var e,n,r,o,i,a=s(this),d=u(a,0),p=0;for(e=-1,r=arguments.length;e<r;e++)if(v(i=-1===e?a:arguments[e])){if(p+(o=l(i.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<o;n++,p++)n in i&&c(d,p,i[n])}else{if(p>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(d,p++,i)}return d.length=p,d}})},function(t,e,n){var r=n(0),o=n(120),i=n(37);r({target:"Array",proto:!0},{copyWithin:o}),i("copyWithin")},function(t,e,n){var r=n(0),o=n(93),i=n(37);r({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,n){"use strict";var r=n(0),o=n(16).filter;r({target:"Array",proto:!0,forced:!n(58)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(16).find,i=n(37),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,n){"use strict";var r=n(0),o=n(16).findIndex,i=n(37),a=!0;"findIndex"in[]&&Array(1).findIndex((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("findIndex")},function(t,e,n){"use strict";var r=n(0),o=n(121),i=n(12),a=n(9),s=n(24),l=n(57);r({target:"Array",proto:!0},{flat:function(){var t=arguments.length?arguments[0]:void 0,e=i(this),n=a(e.length),r=l(e,0);return r.length=o(r,e,e,n,0,void 0===t?1:s(t)),r}})},function(t,e,n){"use strict";var r=n(0),o=n(121),i=n(12),a=n(9),s=n(26),l=n(57);r({target:"Array",proto:!0},{flatMap:function(t){var e,n=i(this),r=a(n.length);return s(t),(e=l(n,0)).length=o(e,n,n,r,0,1,t,arguments.length>1?arguments[1]:void 0),e}})},function(t,e,n){var r=n(0),o=n(122);r({target:"Array",stat:!0,forced:!n(70)((function(t){Array.from(t)}))},{from:o})},function(t,e,n){var r=n(5),o=n(123);t.exports=function(t,e,n,i){try{return i?e(r(n)[0],n[1]):e(n)}catch(e){throw o(t),e}}},function(t,e,n){"use strict";var r=n(0),o=n(67).includes,i=n(37);r({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,n){"use strict";var r=n(0),o=n(50),i=n(19),a=n(98),s=[].join,l=o!=Object,c=a("join",",");r({target:"Array",proto:!0,forced:l||!c},{join:function(t){return s.call(i(this),void 0===t?",":t)}})},function(t,e,n){"use strict";var r=n(0),o=n(16).map;r({target:"Array",proto:!0,forced:!n(58)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(42);r({target:"Array",stat:!0,forced:o((function(){function t(){}return!(Array.of.call(t)instanceof t)}))},{of:function(){for(var t=0,e=arguments.length,n=new("function"==typeof this?this:Array)(e);e>t;)i(n,t,arguments[t++]);return n.length=e,n}})},function(t,e,n){"use strict";var r=n(0),o=n(4),i=n(55),a=n(41),s=n(9),l=n(19),c=n(42),u=n(6),d=n(58)("slice"),p=u("species"),f=[].slice,h=Math.max;r({target:"Array",proto:!0,forced:!d},{slice:function(t,e){var n,r,u,d=l(this),g=s(d.length),y=a(t,g),v=a(void 0===e?g:e,g);if(i(d)&&("function"!=typeof(n=d.constructor)||n!==Array&&!i(n.prototype)?o(n)&&null===(n=n[p])&&(n=void 0):n=void 0,n===Array||void 0===n))return f.call(d,y,v);for(r=new(void 0===n?Array:n)(h(v-y,0)),u=0;y<v;y++,u++)y in d&&c(r,u,d[y]);return r.length=u,r}})},function(t,e,n){n(46)("Array")},function(t,e,n){"use strict";var r=n(0),o=n(41),i=n(24),a=n(9),s=n(12),l=n(57),c=n(42),u=n(58)("splice"),d=Math.max,p=Math.min;r({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var n,r,u,f,h,g,y=s(this),v=a(y.length),w=o(t,v),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=v-w):(n=b-2,r=p(d(i(e),0),v-w)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(y,r),f=0;f<r;f++)(h=w+f)in y&&c(u,f,y[h]);if(u.length=r,n<r){for(f=w;f<v-r;f++)g=f+n,(h=f+r)in y?y[g]=y[h]:delete y[g];for(f=v;f>v-r+n;f--)delete y[f-1]}else if(n>r)for(f=v-r;f>w;f--)g=f+n-1,(h=f+r-1)in y?y[g]=y[h]:delete y[g];for(f=0;f<n;f++)y[f+w]=arguments[f+2];return y.length=v-r+n,u}})},function(t,e,n){n(37)("flat")},function(t,e,n){n(37)("flatMap")},function(t,e,n){"use strict";var r=n(0),o=n(3),i=n(127),a=n(46),s=i.ArrayBuffer;r({global:!0,forced:o.ArrayBuffer!==s},{ArrayBuffer:s}),a("ArrayBuffer")},function(t,e){var n=Math.abs,r=Math.pow,o=Math.floor,i=Math.log,a=Math.LN2;t.exports={pack:function(t,e,s){var l,c,u,d=new Array(s),p=8*s-e-1,f=(1<<p)-1,h=f>>1,g=23===e?r(2,-24)-r(2,-77):0,y=t<0||0===t&&1/t<0?1:0,v=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,l=f):(l=o(i(t)/a),t*(u=r(2,-l))<1&&(l--,u*=2),(t+=l+h>=1?g/u:g*r(2,1-h))*u>=2&&(l++,u/=2),l+h>=f?(c=0,l=f):l+h>=1?(c=(t*u-1)*r(2,e),l+=h):(c=t*r(2,h-1)*r(2,e),l=0));e>=8;d[v++]=255&c,c/=256,e-=8);for(l=l<<e|c,p+=e;p>0;d[v++]=255&l,l/=256,p-=8);return d[--v]|=128*y,d},unpack:function(t,e){var n,o=t.length,i=8*o-e-1,a=(1<<i)-1,s=a>>1,l=i-7,c=o-1,u=t[c--],d=127&u;for(u>>=7;l>0;d=256*d+t[c],c--,l-=8);for(n=d&(1<<-l)-1,d>>=-l,l+=e;l>0;n=256*n+t[c],c--,l-=8);if(0===d)d=1-s;else{if(d===a)return n?NaN:u?-1/0:1/0;n+=r(2,e),d-=s}return(u?-1:1)*n*r(2,d-e)}}},function(t,e,n){var r=n(18),o=n(191),i=n(6)("toPrimitive"),a=Date.prototype;i in a||r(a,i,o)},function(t,e,n){"use strict";var r=n(5),o=n(28);t.exports=function(t){if("string"!==t&&"number"!==t&&"default"!==t)throw TypeError("Incorrect hint");return o(r(this),"number"!==t)}},function(t,e,n){"use strict";var r=n(4),o=n(10),i=n(27),a=n(6)("hasInstance"),s=Function.prototype;a in s||o.f(s,a,{value:function(t){if("function"!=typeof this||!r(t))return!1;if(!r(this.prototype))return t instanceof this;for(;t=i(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,n){var r=n(8),o=n(10).f,i=Function.prototype,a=i.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in i)&&o(i,"name",{configurable:!0,get:function(){try{return a.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){var r=n(3);n(30)(r.JSON,"JSON",!0)},function(t,e,n){"use strict";var r=n(72),o=n(130);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){var r=n(0),o=n(131),i=Math.acosh,a=Math.log,s=Math.sqrt,l=Math.LN2;r({target:"Math",stat:!0,forced:!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0},{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?a(t)+l:o(t-1+s(t-1)*s(t+1))}})},function(t,e,n){var r=n(0),o=Math.asinh,i=Math.log,a=Math.sqrt;r({target:"Math",stat:!0,forced:!(o&&1/o(0)>0)},{asinh:function t(e){return isFinite(e=+e)&&0!=e?e<0?-t(-e):i(e+a(e*e+1)):e}})},function(t,e,n){var r=n(0),o=Math.atanh,i=Math.log;r({target:"Math",stat:!0,forced:!(o&&1/o(-0)<0)},{atanh:function(t){return 0==(t=+t)?t:i((1+t)/(1-t))/2}})},function(t,e,n){var r=n(0),o=n(99),i=Math.abs,a=Math.pow;r({target:"Math",stat:!0},{cbrt:function(t){return o(t=+t)*a(i(t),1/3)}})},function(t,e,n){var r=n(0),o=Math.floor,i=Math.log,a=Math.LOG2E;r({target:"Math",stat:!0},{clz32:function(t){return(t>>>=0)?31-o(i(t+.5)*a):32}})},function(t,e,n){var r=n(0),o=n(74),i=Math.cosh,a=Math.abs,s=Math.E;r({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(t){var e=o(a(t)-1)+1;return(e+1/(e*s*s))*(s/2)}})},function(t,e,n){var r=n(0),o=n(74);r({target:"Math",stat:!0,forced:o!=Math.expm1},{expm1:o})},function(t,e,n){n(0)({target:"Math",stat:!0},{fround:n(204)})},function(t,e,n){var r=n(99),o=Math.abs,i=Math.pow,a=i(2,-52),s=i(2,-23),l=i(2,127)*(2-s),c=i(2,-126);t.exports=Math.fround||function(t){var e,n,i=o(t),u=r(t);return i<c?u*(i/c/s+1/a-1/a)*c*s:(n=(e=(1+s/a)*i)-(e-i))>l||n!=n?u*(1/0):u*n}},function(t,e,n){var r=n(0),o=Math.hypot,i=Math.abs,a=Math.sqrt;r({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,o=0,s=0,l=arguments.length,c=0;s<l;)c<(n=i(arguments[s++]))?(o=o*(r=c/n)*r+1,c=n):o+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*a(o)}})},function(t,e,n){var r=n(0),o=n(2),i=Math.imul;r({target:"Math",stat:!0,forced:o((function(){return-5!=i(4294967295,5)||2!=i.length}))},{imul:function(t,e){var n=+t,r=+e,o=65535&n,i=65535&r;return 0|o*i+((65535&n>>>16)*i+o*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LOG10E;r({target:"Math",stat:!0},{log10:function(t){return o(t)*i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{log1p:n(131)})},function(t,e,n){var r=n(0),o=Math.log,i=Math.LN2;r({target:"Math",stat:!0},{log2:function(t){return o(t)/i}})},function(t,e,n){n(0)({target:"Math",stat:!0},{sign:n(99)})},function(t,e,n){var r=n(0),o=n(2),i=n(74),a=Math.abs,s=Math.exp,l=Math.E;r({target:"Math",stat:!0,forced:o((function(){return-2e-17!=Math.sinh(-2e-17)}))},{sinh:function(t){return a(t=+t)<1?(i(t)-i(-t))/2:(s(t-1)-s(-t-1))*(l/2)}})},function(t,e,n){var r=n(0),o=n(74),i=Math.exp;r({target:"Math",stat:!0},{tanh:function(t){var e=o(t=+t),n=o(-t);return e==1/0?1:n==1/0?-1:(e-n)/(i(t)+i(-t))}})},function(t,e,n){n(30)(Math,"Math",!0)},function(t,e,n){var r=n(0),o=Math.ceil,i=Math.floor;r({target:"Math",stat:!0},{trunc:function(t){return(t>0?i:o)(t)}})},function(t,e,n){"use strict";var r=n(8),o=n(3),i=n(53),a=n(15),s=n(11),l=n(34),c=n(73),u=n(28),d=n(2),p=n(35),f=n(40).f,h=n(14).f,g=n(10).f,y=n(48).trim,v=o.Number,w=v.prototype,b="Number"==l(p(w)),m=function(t){var e,n,r,o,i,a,s,l,c=u(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=y(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+c}for(a=(i=c.slice(2)).length,s=0;s<a;s++)if((l=i.charCodeAt(s))<48||l>o)return NaN;return parseInt(i,r)}return+c};if(i("Number",!v(" 0o1")||!v("0b1")||v("+0x1"))){for(var O,P=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof P&&(b?d((function(){w.valueOf.call(n)})):"Number"!=l(n))?c(new v(m(e)),n,P):m(e)},k=r?f(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;k.length>S;S++)s(v,O=k[S])&&!s(P,O)&&g(P,O,h(v,O));P.prototype=w,w.constructor=P,a(o,"Number",P)}},function(t,e,n){n(0)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isFinite:n(218)})},function(t,e,n){var r=n(3).isFinite;t.exports=Number.isFinite||function(t){return"number"==typeof t&&r(t)}},function(t,e,n){n(0)({target:"Number",stat:!0},{isInteger:n(132)})},function(t,e,n){n(0)({target:"Number",stat:!0},{isNaN:function(t){return t!=t}})},function(t,e,n){var r=n(0),o=n(132),i=Math.abs;r({target:"Number",stat:!0},{isSafeInteger:function(t){return o(t)&&i(t)<=9007199254740991}})},function(t,e,n){n(0)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,n){n(0)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,n){var r=n(0),o=n(225);r({target:"Number",stat:!0,forced:Number.parseFloat!=o},{parseFloat:o})},function(t,e,n){var r=n(3),o=n(48).trim,i=n(75),a=r.parseFloat,s=1/a(i+"-0")!=-1/0;t.exports=s?function(t){var e=o(String(t)),n=a(e);return 0===n&&"-"==e.charAt(0)?-0:n}:a},function(t,e,n){var r=n(0),o=n(227);r({target:"Number",stat:!0,forced:Number.parseInt!=o},{parseInt:o})},function(t,e,n){var r=n(3),o=n(48).trim,i=n(75),a=r.parseInt,s=/^[+-]?0[Xx]/,l=8!==a(i+"08")||22!==a(i+"0x16");t.exports=l?function(t,e){var n=o(String(t));return a(n,e>>>0||(s.test(n)?16:10))}:a},function(t,e,n){"use strict";var r=n(0),o=n(24),i=n(229),a=n(100),s=n(2),l=1..toFixed,c=Math.floor,u=function(t,e,n){return 0===e?n:e%2==1?u(t,e-1,n*t):u(t*t,e/2,n)},d=function(t,e,n){for(var r=-1,o=n;++r<6;)o+=e*t[r],t[r]=o%1e7,o=c(o/1e7)},p=function(t,e){for(var n=6,r=0;--n>=0;)r+=t[n],t[n]=c(r/e),r=r%e*1e7},f=function(t){for(var e=6,n="";--e>=0;)if(""!==n||0===e||0!==t[e]){var r=String(t[e]);n=""===n?r:n+a.call("0",7-r.length)+r}return n};r({target:"Number",proto:!0,forced:l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}))},{toFixed:function(t){var e,n,r,s,l=i(this),c=o(t),h=[0,0,0,0,0,0],g="",y="0";if(c<0||c>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(g="-",l=-l),l>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(l*u(2,69,1))-69)<0?l*u(2,-e,1):l/u(2,e,1),n*=4503599627370496,(e=52-e)>0){for(d(h,0,n),r=c;r>=7;)d(h,1e7,0),r-=7;for(d(h,u(10,r,1),0),r=e-1;r>=23;)p(h,1<<23),r-=23;p(h,1<<r),d(h,1,1),p(h,2),y=f(h)}else d(h,0,n),d(h,1<<-e,0),y=f(h)+a.call("0",c);return y=c>0?g+((s=y.length)<=c?"0."+a.call("0",c-s)+y:y.slice(0,s-c)+"."+y.slice(s-c)):g+y}})},function(t,e,n){var r=n(34);t.exports=function(t){if("number"!=typeof t&&"Number"!=r(t))throw TypeError("Incorrect invocation");return+t}},function(t,e,n){var r=n(0),o=n(133);r({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(76),a=n(12),s=n(26),l=n(10);o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(t,e){l.f(a(this),t,{get:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(76),a=n(12),s=n(26),l=n(10);o&&r({target:"Object",proto:!0,forced:i},{__defineSetter__:function(t,e){l.f(a(this),t,{set:s(e),enumerable:!0,configurable:!0})}})},function(t,e,n){var r=n(0),o=n(134).entries;r({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,n){var r=n(0),o=n(62),i=n(2),a=n(4),s=n(43).onFreeze,l=Object.freeze;r({target:"Object",stat:!0,forced:i((function(){l(1)})),sham:!o},{freeze:function(t){return l&&a(t)?l(s(t)):t}})},function(t,e,n){var r=n(0),o=n(63),i=n(42);r({target:"Object",stat:!0},{fromEntries:function(t){var e={};return o(t,(function(t,n){i(e,t,n)}),{AS_ENTRIES:!0}),e}})},function(t,e,n){var r=n(0),o=n(2),i=n(19),a=n(14).f,s=n(8),l=o((function(){a(1)}));r({target:"Object",stat:!0,forced:!s||l,sham:!s},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,n){var r=n(0),o=n(8),i=n(89),a=n(19),s=n(14),l=n(42);r({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,n,r=a(t),o=s.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=o(r,e=c[d++]))&&l(u,e,n);return u}})},function(t,e,n){var r=n(0),o=n(2),i=n(118).f;r({target:"Object",stat:!0,forced:o((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:i})},function(t,e,n){var r=n(0),o=n(2),i=n(12),a=n(27),s=n(97);r({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!s},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,n){n(0)({target:"Object",stat:!0},{is:n(135)})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isExtensible;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isExtensible:function(t){return!!i(t)&&(!a||a(t))}})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isFrozen;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isFrozen:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(2),i=n(4),a=Object.isSealed;r({target:"Object",stat:!0,forced:o((function(){a(1)}))},{isSealed:function(t){return!i(t)||!!a&&a(t)}})},function(t,e,n){var r=n(0),o=n(12),i=n(56);r({target:"Object",stat:!0,forced:n(2)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(76),a=n(12),s=n(28),l=n(27),c=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupGetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=c(n,r))return e.get}while(n=l(n))}})},function(t,e,n){"use strict";var r=n(0),o=n(8),i=n(76),a=n(12),s=n(28),l=n(27),c=n(14).f;o&&r({target:"Object",proto:!0,forced:i},{__lookupSetter__:function(t){var e,n=a(this),r=s(t,!0);do{if(e=c(n,r))return e.set}while(n=l(n))}})},function(t,e,n){var r=n(0),o=n(4),i=n(43).onFreeze,a=n(62),s=n(2),l=Object.preventExtensions;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{preventExtensions:function(t){return l&&o(t)?l(i(t)):t}})},function(t,e,n){var r=n(0),o=n(4),i=n(43).onFreeze,a=n(62),s=n(2),l=Object.seal;r({target:"Object",stat:!0,forced:s((function(){l(1)})),sham:!a},{seal:function(t){return l&&o(t)?l(i(t)):t}})},function(t,e,n){var r=n(95),o=n(15),i=n(250);r||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,n){"use strict";var r=n(95),o=n(61);t.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,n){var r=n(0),o=n(134).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},function(t,e,n){"use strict";var r,o,i,a,s=n(0),l=n(29),c=n(3),u=n(25),d=n(136),p=n(15),f=n(47),h=n(30),g=n(46),y=n(4),v=n(26),w=n(38),b=n(86),m=n(63),O=n(70),P=n(44),k=n(137).set,S=n(139),I=n(140),E=n(254),T=n(141),j=n(255),x=n(20),M=n(53),A=n(6),D=n(54),C=n(68),F=A("species"),B="Promise",R=x.get,L=x.set,W=x.getterFor(B),U=d,_=c.TypeError,N=c.document,H=c.process,q=u("fetch"),z=T.f,J=z,Y=!!(N&&N.createEvent&&c.dispatchEvent),X="function"==typeof PromiseRejectionEvent,G=M(B,(function(){if(!(b(U)!==String(U))){if(66===C)return!0;if(!D&&!X)return!0}if(l&&!U.prototype.finally)return!0;if(C>=51&&/native code/.test(U))return!1;var t=U.resolve(1),e=function(t){t((function(){}),(function(){}))};return(t.constructor={})[F]=e,!(t.then((function(){}))instanceof e)})),K=G||!O((function(t){U.all(t).catch((function(){}))})),$=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},V=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;S((function(){for(var r=t.value,o=1==t.state,i=0;n.length>i;){var a,s,l,c=n[i++],u=o?c.ok:c.fail,d=c.resolve,p=c.reject,f=c.domain;try{u?(o||(2===t.rejection&&et(t),t.rejection=1),!0===u?a=r:(f&&f.enter(),a=u(r),f&&(f.exit(),l=!0)),a===c.promise?p(_("Promise-chain cycle")):(s=$(a))?s.call(a,d,p):d(a)):p(r)}catch(t){f&&!l&&f.exit(),p(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&Z(t)}))}},Q=function(t,e,n){var r,o;Y?((r=N.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!X&&(o=c["on"+t])?o(r):"unhandledrejection"===t&&E("Unhandled promise rejection",n)},Z=function(t){k.call(c,(function(){var e,n=t.facade,r=t.value;if(tt(t)&&(e=j((function(){D?H.emit("unhandledRejection",r,n):Q("unhandledrejection",n,r)})),t.rejection=D||tt(t)?2:1,e.error))throw e.value}))},tt=function(t){return 1!==t.rejection&&!t.parent},et=function(t){k.call(c,(function(){var e=t.facade;D?H.emit("rejectionHandled",e):Q("rejectionhandled",e,t.value)}))},nt=function(t,e,n){return function(r){t(e,r,n)}},rt=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,V(t,!0))},ot=function(t,e,n){if(!t.done){t.done=!0,n&&(t=n);try{if(t.facade===e)throw _("Promise can't be resolved itself");var r=$(e);r?S((function(){var n={done:!1};try{r.call(e,nt(ot,n,t),nt(rt,n,t))}catch(e){rt(n,e,t)}})):(t.value=e,t.state=1,V(t,!1))}catch(e){rt({done:!1},e,t)}}};G&&(U=function(t){w(this,U,B),v(t),r.call(this);var e=R(this);try{t(nt(ot,e),nt(rt,e))}catch(t){rt(e,t)}},(r=function(t){L(this,{type:B,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=f(U.prototype,{then:function(t,e){var n=W(this),r=z(P(this,U));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?H.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&V(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new r,e=R(t);this.promise=t,this.resolve=nt(ot,e),this.reject=nt(rt,e)},T.f=z=function(t){return t===U||t===i?new o(t):J(t)},l||"function"!=typeof d||(a=d.prototype.then,p(d.prototype,"then",(function(t,e){var n=this;return new U((function(t,e){a.call(n,t,e)})).then(t,e)}),{unsafe:!0}),"function"==typeof q&&s({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(U,q.apply(c,arguments))}}))),s({global:!0,wrap:!0,forced:G},{Promise:U}),h(U,B,!1,!0),g(B),i=u(B),s({target:B,stat:!0,forced:G},{reject:function(t){var e=z(this);return e.reject.call(void 0,t),e.promise}}),s({target:B,stat:!0,forced:l||G},{resolve:function(t){return I(l&&this===i?U:this,t)}}),s({target:B,stat:!0,forced:K},{all:function(t){var e=this,n=z(e),r=n.resolve,o=n.reject,i=j((function(){var n=v(e.resolve),i=[],a=0,s=1;m(t,(function(t){var l=a++,c=!1;i.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,i[l]=t,--s||r(i))}),o)})),--s||r(i)}));return i.error&&o(i.value),n.promise},race:function(t){var e=this,n=z(e),r=n.reject,o=j((function(){var o=v(e.resolve);m(t,(function(t){o.call(e,t).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}})},function(t,e,n){var r=n(69);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e,n){"use strict";var r=n(0),o=n(29),i=n(136),a=n(2),s=n(25),l=n(44),c=n(140),u=n(15);r({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){i.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=l(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),o||"function"!=typeof i||i.prototype.finally||u(i.prototype,"finally",s("Promise").prototype.finally)},function(t,e,n){var r=n(0),o=n(25),i=n(26),a=n(5),s=n(2),l=o("Reflect","apply"),c=Function.apply;r({target:"Reflect",stat:!0,forced:!s((function(){l((function(){}))}))},{apply:function(t,e,n){return i(t),a(n),l?l(t,e,n):c.call(t,e,n)}})},function(t,e,n){var r=n(0),o=n(25),i=n(26),a=n(5),s=n(4),l=n(35),c=n(259),u=n(2),d=o("Reflect","construct"),p=u((function(){function t(){}return!(d((function(){}),[],t)instanceof t)})),f=!u((function(){d((function(){}))})),h=p||f;r({target:"Reflect",stat:!0,forced:h,sham:h},{construct:function(t,e){i(t),a(e);var n=arguments.length<3?t:i(arguments[2]);if(f&&!p)return d(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var o=n.prototype,u=l(s(o)?o:Object.prototype),h=Function.apply.call(t,u,e);return s(h)?h:u}})},function(t,e,n){"use strict";var r=n(26),o=n(4),i=[].slice,a={},s=function(t,e,n){if(!(e in a)){for(var r=[],o=0;o<e;o++)r[o]="a["+o+"]";a[e]=Function("C,a","return new C("+r.join(",")+")")}return a[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=i.call(arguments,1),a=function(){var r=n.concat(i.call(arguments));return this instanceof a?s(e,r.length,r):e.apply(t,r)};return o(e.prototype)&&(a.prototype=e.prototype),a}},function(t,e,n){var r=n(0),o=n(8),i=n(5),a=n(28),s=n(10);r({target:"Reflect",stat:!0,forced:n(2)((function(){Reflect.defineProperty(s.f({},1,{value:1}),1,{value:2})})),sham:!o},{defineProperty:function(t,e,n){i(t);var r=a(e,!0);i(n);try{return s.f(t,r,n),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(5),i=n(14).f;r({target:"Reflect",stat:!0},{deleteProperty:function(t,e){var n=i(o(t),e);return!(n&&!n.configurable)&&delete t[e]}})},function(t,e,n){var r=n(0),o=n(4),i=n(5),a=n(11),s=n(14),l=n(27);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,u=arguments.length<3?e:arguments[2];return i(e)===u?e[n]:(r=s.f(e,n))?a(r,"value")?r.value:void 0===r.get?void 0:r.get.call(u):o(c=l(e))?t(c,n,u):void 0}})},function(t,e,n){var r=n(0),o=n(8),i=n(5),a=n(14);r({target:"Reflect",stat:!0,sham:!o},{getOwnPropertyDescriptor:function(t,e){return a.f(i(t),e)}})},function(t,e,n){var r=n(0),o=n(5),i=n(27);r({target:"Reflect",stat:!0,sham:!n(97)},{getPrototypeOf:function(t){return i(o(t))}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{has:function(t,e){return e in t}})},function(t,e,n){var r=n(0),o=n(5),i=Object.isExtensible;r({target:"Reflect",stat:!0},{isExtensible:function(t){return o(t),!i||i(t)}})},function(t,e,n){n(0)({target:"Reflect",stat:!0},{ownKeys:n(89)})},function(t,e,n){var r=n(0),o=n(25),i=n(5);r({target:"Reflect",stat:!0,sham:!n(62)},{preventExtensions:function(t){i(t);try{var e=o("Object","preventExtensions");return e&&e(t),!0}catch(t){return!1}}})},function(t,e,n){var r=n(0),o=n(5),i=n(4),a=n(11),s=n(2),l=n(10),c=n(14),u=n(27),d=n(33);r({target:"Reflect",stat:!0,forced:s((function(){var t=function(){},e=l.f(new t,"a",{configurable:!0});return!1!==Reflect.set(t.prototype,"a",1,e)}))},{set:function t(e,n,r){var s,p,f=arguments.length<4?e:arguments[3],h=c.f(o(e),n);if(!h){if(i(p=u(e)))return t(p,n,r,f);h=d(0)}if(a(h,"value")){if(!1===h.writable||!i(f))return!1;if(s=c.f(f,n)){if(s.get||s.set||!1===s.writable)return!1;s.value=r,l.f(f,n,s)}else l.f(f,n,d(0,r));return!0}return void 0!==h.set&&(h.set.call(f,r),!0)}})},function(t,e,n){var r=n(0),o=n(5),i=n(126),a=n(45);a&&r({target:"Reflect",stat:!0},{setPrototypeOf:function(t,e){o(t),i(e);try{return a(t,e),!0}catch(t){return!1}}})},function(t,e,n){var r=n(8),o=n(3),i=n(53),a=n(73),s=n(10).f,l=n(40).f,c=n(101),u=n(77),d=n(102),p=n(15),f=n(2),h=n(20).set,g=n(46),y=n(6)("match"),v=o.RegExp,w=v.prototype,b=/a/g,m=/a/g,O=new v(b)!==b,P=d.UNSUPPORTED_Y;if(r&&i("RegExp",!O||P||f((function(){return m[y]=!1,v(b)!=b||v(m)==m||"/a/i"!=v(b,"i")})))){for(var k=function(t,e){var n,r=this instanceof k,o=c(t),i=void 0===e;if(!r&&o&&t.constructor===k&&i)return t;O?o&&!i&&(t=t.source):t instanceof k&&(i&&(e=u.call(t)),t=t.source),P&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=a(O?new v(t,e):v(t,e),r?this:w,k);return P&&n&&h(s,{sticky:n}),s},S=function(t){t in k||s(k,t,{configurable:!0,get:function(){return v[t]},set:function(e){v[t]=e}})},I=l(v),E=0;I.length>E;)S(I[E++]);w.constructor=k,k.prototype=w,p(o,"RegExp",k)}g("RegExp")},function(t,e,n){var r=n(8),o=n(10),i=n(77),a=n(102).UNSUPPORTED_Y;r&&("g"!=/./g.flags||a)&&o.f(RegExp.prototype,"flags",{configurable:!0,get:i})},function(t,e,n){"use strict";var r=n(15),o=n(5),i=n(2),a=n(77),s=RegExp.prototype,l=s.toString,c=i((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u="toString"!=l.name;(c||u)&&r(RegExp.prototype,"toString",(function(){var t=o(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?a.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";var r=n(72),o=n(130);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),o)},function(t,e,n){"use strict";var r=n(0),o=n(79).codeAt;r({target:"String",proto:!0},{codePointAt:function(t){return o(this,t)}})},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(9),s=n(103),l=n(17),c=n(104),u=n(29),d="".endsWith,p=Math.min,f=c("endsWith");o({target:"String",proto:!0,forced:!!(u||f||(r=i(String.prototype,"endsWith"),!r||r.writable))&&!f},{endsWith:function(t){var e=String(l(this));s(t);var n=arguments.length>1?arguments[1]:void 0,r=a(e.length),o=void 0===n?r:p(a(n),r),i=String(t);return d?d.call(e,i,o):e.slice(o-i.length,o)===i}})},function(t,e,n){var r=n(0),o=n(41),i=String.fromCharCode,a=String.fromCodePoint;r({target:"String",stat:!0,forced:!!a&&1!=a.length},{fromCodePoint:function(t){for(var e,n=[],r=arguments.length,a=0;r>a;){if(e=+arguments[a++],o(e,1114111)!==e)throw RangeError(e+" is not a valid code point");n.push(e<65536?i(e):i(55296+((e-=65536)>>10),e%1024+56320))}return n.join("")}})},function(t,e,n){"use strict";var r=n(0),o=n(103),i=n(17);r({target:"String",proto:!0,forced:!n(104)("includes")},{includes:function(t){return!!~String(i(this)).indexOf(o(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(80),o=n(5),i=n(9),a=n(17),s=n(105),l=n(81);r("match",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=o(t),c=String(this);if(!a.global)return l(a,c);var u=a.unicode;a.lastIndex=0;for(var d,p=[],f=0;null!==(d=l(a,c));){var h=String(d[0]);p[f]=h,""===h&&(a.lastIndex=s(c,i(a.lastIndex),u)),f++}return 0===f?null:p}]}))},function(t,e,n){"use strict";var r=n(0),o=n(144).end;r({target:"String",proto:!0,forced:n(145)},{padEnd:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(0),o=n(144).start;r({target:"String",proto:!0,forced:n(145)},{padStart:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(0),o=n(19),i=n(9);r({target:"String",stat:!0},{raw:function(t){for(var e=o(t.raw),n=i(e.length),r=arguments.length,a=[],s=0;n>s;)a.push(String(e[s++])),s<r&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,n){n(0)({target:"String",proto:!0},{repeat:n(100)})},function(t,e,n){"use strict";var r=n(80),o=n(5),i=n(9),a=n(24),s=n(17),l=n(105),c=n(285),u=n(81),d=Math.max,p=Math.min;r("replace",2,(function(t,e,n,r){var f=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,h=r.REPLACE_KEEPS_$0,g=f?"$":"$0";return[function(n,r){var o=s(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,o,r):e.call(String(o),n,r)},function(t,r){if(!f&&h||"string"==typeof r&&-1===r.indexOf(g)){var s=n(e,t,this,r);if(s.done)return s.value}var y=o(t),v=String(this),w="function"==typeof r;w||(r=String(r));var b=y.global;if(b){var m=y.unicode;y.lastIndex=0}for(var O=[];;){var P=u(y,v);if(null===P)break;if(O.push(P),!b)break;""===String(P[0])&&(y.lastIndex=l(v,i(y.lastIndex),m))}for(var k,S="",I=0,E=0;E<O.length;E++){P=O[E];for(var T=String(P[0]),j=d(p(a(P.index),v.length),0),x=[],M=1;M<P.length;M++)x.push(void 0===(k=P[M])?k:String(k));var A=P.groups;if(w){var D=[T].concat(x,j,v);void 0!==A&&D.push(A);var C=String(r.apply(void 0,D))}else C=c(T,v,j,x,A,r);j>=I&&(S+=v.slice(I,j)+C,I=j+T.length)}return S+v.slice(I)}]}))},function(t,e,n){var r=n(12),o=Math.floor,i="".replace,a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,l,c,u){var d=n+t.length,p=l.length,f=s;return void 0!==c&&(c=r(c),f=a),i.call(u,f,(function(r,i){var a;switch(i.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(d);case"<":a=c[i.slice(1,-1)];break;default:var s=+i;if(0===s)return r;if(s>p){var u=o(s/10);return 0===u?r:u<=p?void 0===l[u-1]?i.charAt(1):l[u-1]+i.charAt(1):r}a=l[s-1]}return void 0===a?"":a}))}},function(t,e,n){"use strict";var r=n(80),o=n(5),i=n(17),a=n(135),s=n(81);r("search",1,(function(t,e,n){return[function(e){var n=i(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var i=o(t),l=String(this),c=i.lastIndex;a(c,0)||(i.lastIndex=0);var u=s(i,l);return a(i.lastIndex,c)||(i.lastIndex=c),null===u?-1:u.index}]}))},function(t,e,n){"use strict";var r=n(80),o=n(101),i=n(5),a=n(17),s=n(44),l=n(105),c=n(9),u=n(81),d=n(78),p=n(2),f=[].push,h=Math.min,g=!p((function(){return!RegExp(4294967295,"y")}));r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(a(this)),i=void 0===n?4294967295:n>>>0;if(0===i)return[];if(void 0===t)return[r];if(!o(t))return e.call(r,t,i);for(var s,l,c,u=[],p=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),h=0,g=new RegExp(t.source,p+"g");(s=d.call(g,r))&&!((l=g.lastIndex)>h&&(u.push(r.slice(h,s.index)),s.length>1&&s.index<r.length&&f.apply(u,s.slice(1)),c=s[0].length,h=l,u.length>=i));)g.lastIndex===s.index&&g.lastIndex++;return h===r.length?!c&&g.test("")||u.push(""):u.push(r.slice(h)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var o=a(this),i=null==e?void 0:e[t];return void 0!==i?i.call(e,o,n):r.call(String(o),e,n)},function(t,o){var a=n(r,t,this,o,r!==e);if(a.done)return a.value;var d=i(t),p=String(this),f=s(d,RegExp),y=d.unicode,v=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(g?"y":"g"),w=new f(g?d:"^(?:"+d.source+")",v),b=void 0===o?4294967295:o>>>0;if(0===b)return[];if(0===p.length)return null===u(w,p)?[p]:[];for(var m=0,O=0,P=[];O<p.length;){w.lastIndex=g?O:0;var k,S=u(w,g?p:p.slice(O));if(null===S||(k=h(c(w.lastIndex+(g?0:O)),p.length))===m)O=l(p,O,y);else{if(P.push(p.slice(m,O)),P.length===b)return P;for(var I=1;I<=S.length-1;I++)if(P.push(S[I]),P.length===b)return P;O=m=k}}return P.push(p.slice(m)),P}]}),!g)},function(t,e,n){"use strict";var r,o=n(0),i=n(14).f,a=n(9),s=n(103),l=n(17),c=n(104),u=n(29),d="".startsWith,p=Math.min,f=c("startsWith");o({target:"String",proto:!0,forced:!!(u||f||(r=i(String.prototype,"startsWith"),!r||r.writable))&&!f},{startsWith:function(t){var e=String(l(this));s(t);var n=a(p(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return d?d.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){"use strict";var r=n(0),o=n(48).trim;r({target:"String",proto:!0,forced:n(106)("trim")},{trim:function(){return o(this)}})},function(t,e,n){"use strict";var r=n(0),o=n(48).end,i=n(106)("trimEnd"),a=i?function(){return o(this)}:"".trimEnd;r({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(t,e,n){"use strict";var r=n(0),o=n(48).start,i=n(106)("trimStart"),a=i?function(){return o(this)}:"".trimStart;r({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("big")},{big:function(){return o(this,"big","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("blink")},{blink:function(){return o(this,"blink","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("bold")},{bold:function(){return o(this,"b","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fixed")},{fixed:function(){return o(this,"tt","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fontcolor")},{fontcolor:function(t){return o(this,"font","color",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("fontsize")},{fontsize:function(t){return o(this,"font","size",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("italics")},{italics:function(){return o(this,"i","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("link")},{link:function(t){return o(this,"a","href",t)}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("small")},{small:function(){return o(this,"small","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("strike")},{strike:function(){return o(this,"strike","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("sub")},{sub:function(){return o(this,"sub","","")}})},function(t,e,n){"use strict";var r=n(0),o=n(22);r({target:"String",proto:!0,forced:n(23)("sup")},{sup:function(){return o(this,"sup","","")}})},function(t,e,n){n(31)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(24);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){n(31)("Float64",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}),!0)},function(t,e,n){n(31)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(31)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(7),o=n(120),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return o.call(i(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).every,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(93),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).filter,i=n(319),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=o(a(this),t,arguments.length>1?arguments[1]:void 0);return i(this,e)}))},function(t,e,n){var r=n(7).aTypedArrayConstructor,o=n(44);t.exports=function(t,e){for(var n=o(t,t.constructor),i=0,a=e.length,s=new(r(n))(a);a>i;)s[i]=e[i++];return s}},function(t,e,n){"use strict";var r=n(7),o=n(16).find,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).findIndex,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(16).forEach,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(107);(0,n(7).exportTypedArrayStaticMethod)("from",n(147),r)},function(t,e,n){"use strict";var r=n(7),o=n(67).includes,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(67).indexOf,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(71),a=n(6)("iterator"),s=r.Uint8Array,l=i.values,c=i.keys,u=i.entries,d=o.aTypedArray,p=o.exportTypedArrayMethod,f=s&&s.prototype[a],h=!!f&&("values"==f.name||null==f.name),g=function(){return l.call(d(this))};p("entries",(function(){return u.call(d(this))})),p("keys",(function(){return c.call(d(this))})),p("values",g,!h),p(a,g,!h)},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].join;i("join",(function(t){return a.apply(o(this),arguments)}))},function(t,e,n){"use strict";var r=n(7),o=n(329),i=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(19),o=n(24),i=n(9),a=n(98),s=Math.min,l=[].lastIndexOf,c=!!l&&1/[1].lastIndexOf(1,-0)<0,u=a("lastIndexOf"),d=c||!u;t.exports=d?function(t){if(c)return l.apply(this,arguments)||0;var e=r(this),n=i(e.length),a=n-1;for(arguments.length>1&&(a=s(a,o(arguments[1]))),a<0&&(a=n+a);a>=0;a--)if(a in e&&e[a]===t)return a||0;return-1}:l},function(t,e,n){"use strict";var r=n(7),o=n(16).map,i=n(44),a=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(i(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(7),o=n(107),i=r.aTypedArrayConstructor;(0,r.exportTypedArrayStaticMethod)("of",(function(){for(var t=0,e=arguments.length,n=new(i(this))(e);e>t;)n[t]=arguments[t++];return n}),o)},function(t,e,n){"use strict";var r=n(7),o=n(148).left,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=n(148).right,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=Math.floor;i("reverse",(function(){for(var t,e=o(this).length,n=a(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(7),o=n(9),i=n(146),a=n(12),s=n(2),l=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){l(this);var e=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=a(t),s=o(r.length),c=0;if(s+e>n)throw RangeError("Wrong length");for(;c<s;)this[e+c]=r[c++]}),s((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(7),o=n(44),i=n(2),a=r.aTypedArray,s=r.aTypedArrayConstructor,l=r.exportTypedArrayMethod,c=[].slice;l("slice",(function(t,e){for(var n=c.call(a(this),t,e),r=o(this,this.constructor),i=0,l=n.length,u=new(s(r))(l);l>i;)u[i]=n[i++];return u}),i((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(7),o=n(16).some,i=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(7),o=r.aTypedArray,i=r.exportTypedArrayMethod,a=[].sort;i("sort",(function(t){return a.call(o(this),t)}))},function(t,e,n){"use strict";var r=n(7),o=n(9),i=n(41),a=n(44),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,l=i(t,r);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,o((void 0===e?r:i(e,r))-l))}))},function(t,e,n){"use strict";var r=n(3),o=n(7),i=n(2),a=r.Int8Array,s=o.aTypedArray,l=o.exportTypedArrayMethod,c=[].toLocaleString,u=[].slice,d=!!a&&i((function(){c.call(new a(1))}));l("toLocaleString",(function(){return c.apply(d?u.call(s(this)):s(this),arguments)}),i((function(){return[1,2].toLocaleString()!=new a([1,2]).toLocaleString()}))||!i((function(){a.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(7).exportTypedArrayMethod,o=n(2),i=n(3).Uint8Array,a=i&&i.prototype||{},s=[].toString,l=[].join;o((function(){s.call({})}))&&(s=function(){return l.call(this)});var c=a.toString!=s;r("toString",s,c)},function(t,e,n){"use strict";var r,o=n(3),i=n(47),a=n(43),s=n(72),l=n(149),c=n(4),u=n(20).enforce,d=n(111),p=!o.ActiveXObject&&"ActiveXObject"in o,f=Object.isExtensible,h=function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}},g=t.exports=s("WeakMap",h,l);if(d&&p){r=l.getConstructor(h,"WeakMap",!0),a.REQUIRED=!0;var y=g.prototype,v=y.delete,w=y.has,b=y.get,m=y.set;i(y,{delete:function(t){if(c(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),v.call(this,t)||e.frozen.delete(t)}return v.call(this,t)},has:function(t){if(c(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),w.call(this,t)||e.frozen.has(t)}return w.call(this,t)},get:function(t){if(c(t)&&!f(t)){var e=u(this);return e.frozen||(e.frozen=new r),w.call(this,t)?b.call(this,t):e.frozen.get(t)}return b.call(this,t)},set:function(t,e){if(c(t)&&!f(t)){var n=u(this);n.frozen||(n.frozen=new r),w.call(this,t)?m.call(this,t,e):n.frozen.set(t,e)}else m.call(this,t,e);return this}})}},function(t,e,n){"use strict";n(72)("WeakSet",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(149))},function(t,e,n){var r=n(3),o=n(150),i=n(345),a=n(18);for(var s in o){var l=r[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(t){c.forEach=i}}},function(t,e,n){"use strict";var r=n(16).forEach,o=n(98)("forEach");t.exports=o?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(3),o=n(150),i=n(71),a=n(18),s=n(6),l=s("iterator"),c=s("toStringTag"),u=i.values;for(var d in o){var p=r[d],f=p&&p.prototype;if(f){if(f[l]!==u)try{a(f,l,u)}catch(t){f[l]=u}if(f[c]||a(f,c,d),o[d])for(var h in i)if(f[h]!==i[h])try{a(f,h,i[h])}catch(t){f[h]=i[h]}}}},function(t,e,n){var r=n(0),o=n(3),i=n(139),a=n(54),s=o.process;r({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(t){var e=a&&s.domain;i(e?e.bind(t):t)}})},function(t,e,n){"use strict";n(143);var r,o=n(0),i=n(8),a=n(151),s=n(3),l=n(116),c=n(15),u=n(38),d=n(11),p=n(133),f=n(122),h=n(79).codeAt,g=n(349),y=n(30),v=n(152),w=n(20),b=s.URL,m=v.URLSearchParams,O=v.getState,P=w.set,k=w.getterFor("URL"),S=Math.floor,I=Math.pow,E=/[A-Za-z]/,T=/[\d+-.A-Za-z]/,j=/\d/,x=/^(0x|0X)/,M=/^[0-7]+$/,A=/^\d+$/,D=/^[\dA-Fa-f]+$/,C=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,F=/[\u0000\t\u000A\u000D #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,R=/[\t\u000A\u000D]/g,L=function(t,e){var n,r,o;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=U(e.slice(1,-1))))return"Invalid host";t.host=n}else if(X(t)){if(e=g(e),C.test(e))return"Invalid host";if(null===(n=W(e)))return"Invalid host";t.host=n}else{if(F.test(e))return"Invalid host";for(n="",r=f(e),o=0;o<r.length;o++)n+=J(r[o],N);t.host=n}},W=function(t){var e,n,r,o,i,a,s,l=t.split(".");if(l.length&&""==l[l.length-1]&&l.pop(),(e=l.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(o=l[r]))return t;if(i=10,o.length>1&&"0"==o.charAt(0)&&(i=x.test(o)?16:8,o=o.slice(8==i?1:2)),""===o)a=0;else{if(!(10==i?A:8==i?M:D).test(o))return t;a=parseInt(o,i)}n.push(a)}for(r=0;r<e;r++)if(a=n[r],r==e-1){if(a>=I(256,5-e))return null}else if(a>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*I(256,3-r);return s},U=function(t){var e,n,r,o,i,a,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return t.charAt(d)};if(":"==p()){if(":"!=t.charAt(1))return;d+=2,u=++c}for(;p();){if(8==c)return;if(":"!=p()){for(e=n=0;n<4&&D.test(p());)e=16*e+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,c>6)return;for(r=0;p();){if(o=null,r>0){if(!("."==p()&&r<4))return;d++}if(!j.test(p()))return;for(;j.test(p());){if(i=parseInt(p(),10),null===o)o=i;else{if(0==o)return;o=10*o+i}if(o>255)return;d++}l[c]=256*l[c]+o,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=e}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(a=c-u,c=7;0!=c&&a>0;)s=l[c],l[c--]=l[u+a-1],l[u+--a]=s;else if(8!=c)return;return l},_=function(t){var e,n,r,o;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=S(t/256);return e.join(".")}if("object"==typeof t){for(e="",r=function(t){for(var e=null,n=1,r=null,o=0,i=0;i<8;i++)0!==t[i]?(o>n&&(e=r,n=o),r=null,o=0):(null===r&&(r=i),++o);return o>n&&(e=r,n=o),e}(t),n=0;n<8;n++)o&&0===t[n]||(o&&(o=!1),r===n?(e+=n?":":"::",o=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},N={},H=p({},N,{" ":1,'"':1,"<":1,">":1,"`":1}),q=p({},H,{"#":1,"?":1,"{":1,"}":1}),z=p({},q,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),J=function(t,e){var n=h(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},Y={ftp:21,file:null,http:80,https:443,ws:80,wss:443},X=function(t){return d(Y,t.scheme)},G=function(t){return""!=t.username||""!=t.password},K=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},$=function(t,e){var n;return 2==t.length&&E.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},V=function(t){var e;return t.length>1&&$(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},Q=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&$(e[0],!0)||e.pop()},Z=function(t){return"."===t||"%2e"===t.toLowerCase()},tt={},et={},nt={},rt={},ot={},it={},at={},st={},lt={},ct={},ut={},dt={},pt={},ft={},ht={},gt={},yt={},vt={},wt={},bt={},mt={},Ot=function(t,e,n,o){var i,a,s,l,c,u=n||tt,p=0,h="",g=!1,y=!1,v=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(R,""),i=f(e);p<=i.length;){switch(a=i[p],u){case tt:if(!a||!E.test(a)){if(n)return"Invalid scheme";u=nt;continue}h+=a.toLowerCase(),u=et;break;case et:if(a&&(T.test(a)||"+"==a||"-"==a||"."==a))h+=a.toLowerCase();else{if(":"!=a){if(n)return"Invalid scheme";h="",u=nt,p=0;continue}if(n&&(X(t)!=d(Y,h)||"file"==h&&(G(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=h,n)return void(X(t)&&Y[t.scheme]==t.port&&(t.port=null));h="","file"==t.scheme?u=ft:X(t)&&o&&o.scheme==t.scheme?u=rt:X(t)?u=st:"/"==i[p+1]?(u=ot,p++):(t.cannotBeABaseURL=!0,t.path.push(""),u=wt)}break;case nt:if(!o||o.cannotBeABaseURL&&"#"!=a)return"Invalid scheme";if(o.cannotBeABaseURL&&"#"==a){t.scheme=o.scheme,t.path=o.path.slice(),t.query=o.query,t.fragment="",t.cannotBeABaseURL=!0,u=mt;break}u="file"==o.scheme?ft:it;continue;case rt:if("/"!=a||"/"!=i[p+1]){u=it;continue}u=lt,p++;break;case ot:if("/"==a){u=ct;break}u=vt;continue;case it:if(t.scheme=o.scheme,a==r)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query;else if("/"==a||"\\"==a&&X(t))u=at;else if("?"==a)t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query="",u=bt;else{if("#"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.path.pop(),u=vt;continue}t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=mt}break;case at:if(!X(t)||"/"!=a&&"\\"!=a){if("/"!=a){t.username=o.username,t.password=o.password,t.host=o.host,t.port=o.port,u=vt;continue}u=ct}else u=lt;break;case st:if(u=lt,"/"!=a||"/"!=h.charAt(p+1))continue;p++;break;case lt:if("/"!=a&&"\\"!=a){u=ct;continue}break;case ct:if("@"==a){g&&(h="%40"+h),g=!0,s=f(h);for(var w=0;w<s.length;w++){var b=s[w];if(":"!=b||v){var m=J(b,z);v?t.password+=m:t.username+=m}else v=!0}h=""}else if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(g&&""==h)return"Invalid authority";p-=f(h).length+1,h="",u=ut}else h+=a;break;case ut:case dt:if(n&&"file"==t.scheme){u=gt;continue}if(":"!=a||y){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)){if(X(t)&&""==h)return"Invalid host";if(n&&""==h&&(G(t)||null!==t.port))return;if(l=L(t,h))return l;if(h="",u=yt,n)return;continue}"["==a?y=!0:"]"==a&&(y=!1),h+=a}else{if(""==h)return"Invalid host";if(l=L(t,h))return l;if(h="",u=pt,n==dt)return}break;case pt:if(!j.test(a)){if(a==r||"/"==a||"?"==a||"#"==a||"\\"==a&&X(t)||n){if(""!=h){var O=parseInt(h,10);if(O>65535)return"Invalid port";t.port=X(t)&&O===Y[t.scheme]?null:O,h=""}if(n)return;u=yt;continue}return"Invalid port"}h+=a;break;case ft:if(t.scheme="file","/"==a||"\\"==a)u=ht;else{if(!o||"file"!=o.scheme){u=vt;continue}if(a==r)t.host=o.host,t.path=o.path.slice(),t.query=o.query;else if("?"==a)t.host=o.host,t.path=o.path.slice(),t.query="",u=bt;else{if("#"!=a){V(i.slice(p).join(""))||(t.host=o.host,t.path=o.path.slice(),Q(t)),u=vt;continue}t.host=o.host,t.path=o.path.slice(),t.query=o.query,t.fragment="",u=mt}}break;case ht:if("/"==a||"\\"==a){u=gt;break}o&&"file"==o.scheme&&!V(i.slice(p).join(""))&&($(o.path[0],!0)?t.path.push(o.path[0]):t.host=o.host),u=vt;continue;case gt:if(a==r||"/"==a||"\\"==a||"?"==a||"#"==a){if(!n&&$(h))u=vt;else if(""==h){if(t.host="",n)return;u=yt}else{if(l=L(t,h))return l;if("localhost"==t.host&&(t.host=""),n)return;h="",u=yt}continue}h+=a;break;case yt:if(X(t)){if(u=vt,"/"!=a&&"\\"!=a)continue}else if(n||"?"!=a)if(n||"#"!=a){if(a!=r&&(u=vt,"/"!=a))continue}else t.fragment="",u=mt;else t.query="",u=bt;break;case vt:if(a==r||"/"==a||"\\"==a&&X(t)||!n&&("?"==a||"#"==a)){if(".."===(c=(c=h).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(Q(t),"/"==a||"\\"==a&&X(t)||t.path.push("")):Z(h)?"/"==a||"\\"==a&&X(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&$(h)&&(t.host&&(t.host=""),h=h.charAt(0)+":"),t.path.push(h)),h="","file"==t.scheme&&(a==r||"?"==a||"#"==a))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==a?(t.query="",u=bt):"#"==a&&(t.fragment="",u=mt)}else h+=J(a,q);break;case wt:"?"==a?(t.query="",u=bt):"#"==a?(t.fragment="",u=mt):a!=r&&(t.path[0]+=J(a,N));break;case bt:n||"#"!=a?a!=r&&("'"==a&&X(t)?t.query+="%27":t.query+="#"==a?"%23":J(a,N)):(t.fragment="",u=mt);break;case mt:a!=r&&(t.fragment+=J(a,H))}p++}},Pt=function(t){var e,n,r=u(this,Pt,"URL"),o=arguments.length>1?arguments[1]:void 0,a=String(t),s=P(r,{type:"URL"});if(void 0!==o)if(o instanceof Pt)e=k(o);else if(n=Ot(e={},String(o)))throw TypeError(n);if(n=Ot(s,a,null,e))throw TypeError(n);var l=s.searchParams=new m,c=O(l);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(l)||null},i||(r.href=St.call(r),r.origin=It.call(r),r.protocol=Et.call(r),r.username=Tt.call(r),r.password=jt.call(r),r.host=xt.call(r),r.hostname=Mt.call(r),r.port=At.call(r),r.pathname=Dt.call(r),r.search=Ct.call(r),r.searchParams=Ft.call(r),r.hash=Bt.call(r))},kt=Pt.prototype,St=function(){var t=k(this),e=t.scheme,n=t.username,r=t.password,o=t.host,i=t.port,a=t.path,s=t.query,l=t.fragment,c=e+":";return null!==o?(c+="//",G(t)&&(c+=n+(r?":"+r:"")+"@"),c+=_(o),null!==i&&(c+=":"+i)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},It=function(){var t=k(this),e=t.scheme,n=t.port;if("blob"==e)try{return new URL(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&X(t)?e+"://"+_(t.host)+(null!==n?":"+n:""):"null"},Et=function(){return k(this).scheme+":"},Tt=function(){return k(this).username},jt=function(){return k(this).password},xt=function(){var t=k(this),e=t.host,n=t.port;return null===e?"":null===n?_(e):_(e)+":"+n},Mt=function(){var t=k(this).host;return null===t?"":_(t)},At=function(){var t=k(this).port;return null===t?"":String(t)},Dt=function(){var t=k(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Ct=function(){var t=k(this).query;return t?"?"+t:""},Ft=function(){return k(this).searchParams},Bt=function(){var t=k(this).fragment;return t?"#"+t:""},Rt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(i&&l(kt,{href:Rt(St,(function(t){var e=k(this),n=String(t),r=Ot(e,n);if(r)throw TypeError(r);O(e.searchParams).updateSearchParams(e.query)})),origin:Rt(It),protocol:Rt(Et,(function(t){var e=k(this);Ot(e,String(t)+":",tt)})),username:Rt(Tt,(function(t){var e=k(this),n=f(String(t));if(!K(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=J(n[r],z)}})),password:Rt(jt,(function(t){var e=k(this),n=f(String(t));if(!K(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=J(n[r],z)}})),host:Rt(xt,(function(t){var e=k(this);e.cannotBeABaseURL||Ot(e,String(t),ut)})),hostname:Rt(Mt,(function(t){var e=k(this);e.cannotBeABaseURL||Ot(e,String(t),dt)})),port:Rt(At,(function(t){var e=k(this);K(e)||(""==(t=String(t))?e.port=null:Ot(e,t,pt))})),pathname:Rt(Dt,(function(t){var e=k(this);e.cannotBeABaseURL||(e.path=[],Ot(e,t+"",yt))})),search:Rt(Ct,(function(t){var e=k(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",Ot(e,t,bt)),O(e.searchParams).updateSearchParams(e.query)})),searchParams:Rt(Ft),hash:Rt(Bt,(function(t){var e=k(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",Ot(e,t,mt)):e.fragment=null}))}),c(kt,"toJSON",(function(){return St.call(this)}),{enumerable:!0}),c(kt,"toString",(function(){return St.call(this)}),{enumerable:!0}),b){var Lt=b.createObjectURL,Wt=b.revokeObjectURL;Lt&&c(Pt,"createObjectURL",(function(t){return Lt.apply(b,arguments)})),Wt&&c(Pt,"revokeObjectURL",(function(t){return Wt.apply(b,arguments)}))}y(Pt,"URL"),o({global:!0,forced:!a,sham:!i},{URL:Pt})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,o=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",a=Math.floor,s=String.fromCharCode,l=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?a(t/700):t>>1,t+=a(t/e);t>455;r+=36)t=a(t/35);return a(r+36*t/(t+38))},u=function(t){var e,n,r=[],o=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var o=t.charCodeAt(n++);if(o>=55296&&o<=56319&&n<r){var i=t.charCodeAt(n++);56320==(64512&i)?e.push(((1023&o)<<10)+(1023&i)+65536):(e.push(o),n--)}else e.push(o)}return e}(t)).length,u=128,d=0,p=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var f=r.length,h=f;for(f&&r.push("-");h<o;){var g=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=u&&n<g&&(g=n);var y=h+1;if(g-u>a((2147483647-d)/y))throw RangeError(i);for(d+=(g-u)*y,u=g,e=0;e<t.length;e++){if((n=t[e])<u&&++d>2147483647)throw RangeError(i);if(n==u){for(var v=d,w=36;;w+=36){var b=w<=p?1:w>=p+26?26:w-p;if(v<b)break;var m=v-b,O=36-b;r.push(s(l(b+m%O))),v=a(m/O)}r.push(s(l(v))),p=c(d,y,h==f),d=0,++h}}++d,++u}return r.join("")};t.exports=function(t){var e,n,i=[],a=t.toLowerCase().replace(o,".").split(".");for(e=0;e<a.length;e++)n=a[e],i.push(r.test(n)?"xn--"+u(n):n);return i.join(".")}},function(t,e,n){var r=n(5),o=n(60);t.exports=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";n(0)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(t,e,n){"use strict";(function(t){var e=n(153),r=n(82),o=n(83),i=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("unable to locate global object")}();"function"!=typeof i.Promise?i.Promise=e.a:i.Promise.prototype.finally?i.Promise.allSettled||(i.Promise.allSettled=o.a):i.Promise.prototype.finally=r.a}).call(this,n(49))},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(354),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(49))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,a,s,l=1,c={},u=!1,d=t.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(t);p=p&&p.setTimeout?p:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):d&&"onreadystatechange"in d.createElement("script")?(o=d.documentElement,r=function(t){var e=d.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(a="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(a)&&h(+e.data.slice(a.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(a+e,"*")}),p.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return c[l]=o,r(l),l++},p.clearImmediate=f}function f(t){delete c[t]}function h(t){if(u)setTimeout(h,0,t);else{var e=c[t];if(e){u=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{f(t),u=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(49),n(355))},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,c=[],u=!1,d=-1;function p(){u&&l&&(u=!1,l.length?c=l.concat(c):d=-1,c.length&&f())}function f(){if(!u){var t=s(p);u=!0;for(var e=c.length;e;){for(l=c,c=[];++d<e;)l&&l[d].run();d=-1,e=c.length}l=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function g(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new h(t,e)),1!==c.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=g,o.addListener=g,o.once=g,o.off=g,o.removeListener=g,o.removeAllListeners=g,o.emit=g,o.prependListener=g,o.prependOnceListener=g,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){(function(r){var o,i;void 0===(i="function"==typeof(o=function(){"use strict";function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function n(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?a(t):e}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=o(t);if(e){var i=o(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function c(t,e,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(n):i.value}})(t,e,n||t)}var u=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e,n){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push({callback:e,options:n})}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],r=0,o=n.length;r<o;r++)if(n[r].callback===e)return void n.splice(r,1)}},{key:"dispatchEvent",value:function(t){if(t.type in this.listeners){for(var e=this.listeners[t.type].slice(),n=0,r=e.length;n<r;n++){var o=e[n];try{o.callback.call(this,t)}catch(t){Promise.resolve().then((function(){throw t}))}o.options&&o.options.once&&this.removeEventListener(t.type,o.callback)}return!t.defaultPrevented}}}]),e}(),d=function(e){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&i(t,e)}(s,e);var r=l(s);function s(){var e;return t(this,s),(e=r.call(this)).listeners||u.call(a(e)),Object.defineProperty(a(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(a(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),c(o(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(u),p=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();function f(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController}"undefined"!=typeof Symbol&&Symbol.toStringTag&&(p.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(t){if(f(t))if(t.fetch){var e=function(t){"function"==typeof t&&(t={fetch:t});var e=t,n=e.fetch,r=e.Request,o=void 0===r?n.Request:r,i=e.AbortController,a=e.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=void 0!==a&&a;if(!f({fetch:n,Request:o,AbortController:i,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:n,Request:l};var l=o;(l&&!l.prototype.hasOwnProperty("signal")||s)&&((l=function(t,e){var n;e&&e.signal&&(n=e.signal,delete e.signal);var r=new o(t,e);return n&&Object.defineProperty(r,"signal",{writable:!1,enumerable:!1,configurable:!0,value:n}),r}).prototype=o.prototype);var c=n;return{fetch:function(t,e){var n=l&&l.prototype.isPrototypeOf(t)?t.signal:e?e.signal:void 0;if(n){var r;try{r=new DOMException("Aborted","AbortError")}catch(t){(r=new Error("Aborted")).name="AbortError"}if(n.aborted)return Promise.reject(r);var o=new Promise((function(t,e){n.addEventListener("abort",(function(){return e(r)}),{once:!0})}));return e&&e.signal&&delete e.signal,Promise.race([o,c(t,e)])}return c(t,e)},Request:l}}(t),n=e.fetch,r=e.Request;t.fetch=n,t.Request=r,Object.defineProperty(t,"AbortController",{writable:!0,enumerable:!1,configurable:!0,value:p}),Object.defineProperty(t,"AbortSignal",{writable:!0,enumerable:!1,configurable:!0,value:d})}else console.warn("fetch() is not available, cannot install abortcontroller-polyfill")}("undefined"!=typeof self?self:r)})?o.call(e,n,e,t):o)||(t.exports=i)}).call(this,n(49))},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof d?e:d,i=Object.create(o.prototype),a=new k(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var s=m(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var l=c(t,e,n);if("normal"===l.type){if(r=n.done?"completed":"suspendedYield",l.arg===u)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r="completed",n.method="throw",n.arg=l.arg)}}}(t,n,a),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var u={};function d(){}function p(){}function f(){}var h={};h[o]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(S([])));y&&y!==e&&n.call(y,o)&&(h=y);var v=f.prototype=d.prototype=Object.create(h);function w(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function a(){return new e((function(r,a){!function r(o,i,a,s){var l=c(t[o],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==typeof d&&n.call(d,"__await")?e.resolve(d.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(d).then((function(t){u.value=t,a(u)}),(function(t){return r("throw",t,a,s)}))}s(l.arg)}(o,i,r,a)}))}return r=r?r.then(a,a):a()}}function m(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,m(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function P(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function k(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function S(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:I}}function I(){return{value:void 0,done:!0}}return p.prototype=v.constructor=f,f.constructor=p,p.displayName=s(f,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,a,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},w(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new b(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},w(v),s(v,a,"Generator"),v[o]=function(){return this},v.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,k.prototype={constructor:k,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=n.call(i,"catchLoc"),l=n.call(i,"finallyLoc");if(s&&l){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),P(n),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:S(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){"use strict";n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(179),n(71),n(180),n(181),n(182),n(183),n(184),n(185),n(186),n(187),n(188),n(190),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(203),n(205),n(206),n(207),n(208),n(209),n(210),n(211),n(212),n(213),n(214),n(215),n(216),n(217),n(219),n(220),n(221),n(222),n(223),n(224),n(226),n(228),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(237),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(251),n(252),n(256),n(257),n(258),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(271),n(142),n(272),n(273),n(274),n(275),n(276),n(277),n(278),n(143),n(279),n(280),n(281),n(282),n(283),n(284),n(286),n(287),n(288),n(289),n(290),n(291),n(292),n(293),n(294),n(295),n(296),n(297),n(298),n(299),n(300),n(301),n(302),n(303),n(304),n(305),n(307),n(308),n(309),n(310),n(311),n(312),n(313),n(314),n(315),n(316),n(317),n(318),n(320),n(321),n(322),n(323),n(324),n(325),n(326),n(327),n(328),n(330),n(331),n(332),n(333),n(334),n(335),n(336),n(337),n(338),n(339),n(340),n(341),n(342),n(343),n(344),n(346),n(347),n(348),n(351),n(152),n(352);var r="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==r&&r,o="URLSearchParams"in r,i="Symbol"in r&&"iterator"in Symbol,a="FileReader"in r&&"Blob"in r&&function(){try{return new Blob,!0}catch(t){return!1}}(),s="FormData"in r,l="ArrayBuffer"in r;if(l)var c=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(t){return t&&c.indexOf(Object.prototype.toString.call(t))>-1};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function h(t){this.map={},t instanceof h?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function w(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:a&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:s&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:o&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():l&&a&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=w(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l&&(ArrayBuffer.prototype.isPrototypeOf(t)||u(t))?this._bodyArrayBuffer=w(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):o&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=g(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var t,e,n,r=g(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(P)}),this.json=function(){return this.text().then(JSON.parse)},this}h.prototype.append=function(t,e){t=d(t),e=p(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},h.prototype.delete=function(t){delete this.map[d(t)]},h.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},h.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},h.prototype.set=function(t,e){this.map[d(t)]=p(e)},h.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},h.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},h.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},h.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},i&&(h.prototype[Symbol.iterator]=h.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function O(t,e){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,o=(e=e||{}).body;if(t instanceof O){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new h(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,o||null==t._bodyInit||(o=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new h(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),m.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(o),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function P(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),o=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(o))}})),e}function k(t,e){if(!(this instanceof k))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new h(e.headers),this.url=e.url||"",this._initBody(t)}O.prototype.clone=function(){return new O(this,{body:this._bodyInit})},b.call(O.prototype),b.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var S=[301,302,303,307,308];k.redirect=function(t,e){if(-1===S.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})};var I=r.DOMException;try{new I}catch(t){(I=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),I.prototype.constructor=I}function E(t,e){return new Promise((function(n,o){var i=new O(t,e);if(i.signal&&i.signal.aborted)return o(new I("Aborted","AbortError"));var s=new XMLHttpRequest;function c(){s.abort()}s.onload=function(){var t,e,r={status:s.status,statusText:s.statusText,headers:(t=s.getAllResponseHeaders()||"",e=new h,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var o=n.join(":").trim();e.append(r,o)}})),e)};r.url="responseURL"in s?s.responseURL:r.headers.get("X-Request-URL");var o="response"in s?s.response:s.responseText;setTimeout((function(){n(new k(o,r))}),0)},s.onerror=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.ontimeout=function(){setTimeout((function(){o(new TypeError("Network request failed"))}),0)},s.onabort=function(){setTimeout((function(){o(new I("Aborted","AbortError"))}),0)},s.open(i.method,function(t){try{return""===t&&r.location.href?r.location.href:t}catch(e){return t}}(i.url),!0),"include"===i.credentials?s.withCredentials=!0:"omit"===i.credentials&&(s.withCredentials=!1),"responseType"in s&&(a?s.responseType="blob":l&&i.headers.get("Content-Type")&&-1!==i.headers.get("Content-Type").indexOf("application/octet-stream")&&(s.responseType="arraybuffer")),!e||"object"!=typeof e.headers||e.headers instanceof h?i.headers.forEach((function(t,e){s.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){s.setRequestHeader(t,p(e.headers[t]))})),i.signal&&(i.signal.addEventListener("abort",c),s.onreadystatechange=function(){4===s.readyState&&i.signal.removeEventListener("abort",c)}),s.send(void 0===i._bodyInit?null:i._bodyInit)}))}E.polyfill=!0,r.fetch||(r.fetch=E,r.Headers=h,r.Request=O,r.Response=k);n(356);[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null})},function(t,e,n){"use strict";t.exports=n(374)},function(module,exports,__webpack_require__){var r;self,r=function(){return function(){var __webpack_modules__={410:function(t){"use strict";t.exports=function(t,e){for(var n=new Array(arguments.length-1),r=0,o=2,i=!0;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},941:function(t,e){"use strict";var n=e;n.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var r=new Array(64),o=new Array(123),i=0;i<64;)o[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;n.encode=function(t,e,n){for(var o,i=null,a=[],s=0,l=0;e<n;){var c=t[e++];switch(l){case 0:a[s++]=r[c>>2],o=(3&c)<<4,l=1;break;case 1:a[s++]=r[o|c>>4],o=(15&c)<<2,l=2;break;case 2:a[s++]=r[o|c>>6],a[s++]=r[63&c],l=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=r[o],a[s++]=61,1===l&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};var a="invalid encoding";n.decode=function(t,e,n){for(var r,i=n,s=0,l=0;l<t.length;){var c=t.charCodeAt(l++);if(61===c&&s>1)break;if(void 0===(c=o[c]))throw Error(a);switch(s){case 0:r=c,s=1;break;case 1:e[n++]=r<<2|(48&c)>>4,r=c,s=2;break;case 2:e[n++]=(15&r)<<4|(60&c)>>2,r=c,s=3;break;case 3:e[n++]=(3&r)<<6|c,s=0}}if(1===s)throw Error(a);return n-i},n.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},199:function(t){"use strict";function e(){this._listeners={}}t.exports=e,e.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},e.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},e.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},876:function(t){"use strict";function e(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function a(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,r),t.readFloatLE=a.bind(null,o),t.readFloatBE=a.bind(null,i)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),t(4503599627370496*(s=r*Math.pow(2,-l))>>>0,o,i+e),t((a<<31|l+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function a(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,r,4,0),t.readDoubleLE=a.bind(null,o,0,4),t.readDoubleBE=a.bind(null,i,4,0)}(),t}function n(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function r(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function o(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function i(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=e(e)},310:function(module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},195:function(t){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},797:function(t,e){"use strict";var n=e;n.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},n.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},n.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},960:function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){if(void 0!==t&&t.CanvasRenderingContext2D&&!t.Path2D){var r=function(){function t(r){var o,i;n(this,t),this.segments=[],r&&r instanceof t&&(o=this.segments).push.apply(o,function(t){if(Array.isArray(t))return e(t)}(i=r.segments)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(i)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0}}(i)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())}var r;return(r=[{key:"addPath",value:function(e,n){e&&e instanceof t&&s(this,e.segments,n)}},{key:"moveTo",value:function(t,e){this.segments.push(["M",t,e])}},{key:"lineTo",value:function(t,e){this.segments.push(["L",t,e])}},{key:"closePath",value:function(){this.segments.push(["Z"])}},{key:"bezierCurveTo",value:function(t,e,n,r,o,i){this.segments.push(["C",t,e,n,r,o,i])}},{key:"quadraticCurveTo",value:function(t,e,n,r){this.segments.push(["Q",t,e,n,r])}},{key:"rect",value:function(t,e,n,r){this.segments.push(["R",t,e,n,r])}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,r),t}(),o=t.CanvasRenderingContext2D.prototype.fill,i=t.CanvasRenderingContext2D.prototype.stroke,a=t.CanvasRenderingContext2D.prototype.clip;t.CanvasRenderingContext2D.prototype.fill=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="nonzero";if(0===e.length||1===e.length&&"string"==typeof e[0])o.apply(this,e);else{2===arguments.length&&(r=e[1]);var i=e[0];s(this,i.segments),o.call(this,r)}},t.CanvasRenderingContext2D.prototype.clip=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="nonzero";if(0===e.length||1===e.length&&"string"==typeof e[0])a.apply(this,e);else{2===arguments.length&&(r=e[1]);var o=e[0];s(this,o.segments),a.call(this,r)}},t.CanvasRenderingContext2D.prototype.stroke=function(t){t?(s(this,t.segments),i.call(this)):i.call(this)},t.Path2D=r,t.DOMMatrix=function t(e){n(this,t),this.e=e?e[4]:0,this.f=e?e[5]:0},console.log("Path2D polyfill applied")}function s(t,e,n){var r,o,i,a,s,l,c,u,d,p=n?n.e:0,f=n?n.f:0,h={x:0,y:0},g={x:0,y:0};t.beginPath&&t.beginPath();for(var y=0;y<e.length;++y){var v=e[y];switch("C"!==(s=v[0])&&(l=null,c=null),"Q"!==s&&(u=null,d=null),s){case"M":r=v[1],o=v[2],"M"!==s&&h||(h={x:r,y:o}),t.moveTo(r+p,o+f);break;case"L":r=v[1],o=v[2],t.lineTo(r+p,o+f);break;case"C":l=v[3],c=v[4],r=v[5],o=v[6],t.bezierCurveTo(v[1]+p,v[2]+f,l+p,c+f,r+p,o+f);break;case"Q":u=v[1],d=v[2],r=v[3],o=v[4],t.quadraticCurveTo(u+p,d+f,r+p,o+f);break;case"Z":r=h.x,o=h.y,h=void 0,t.closePath();break;case"R":r=v[1],o=v[2],i=v[3],a=v[4],h={x:r,y:o},t.rect(r+p,o+f,i,a)}g.x=r,g.y=o}}}r(window),t.exports=r},755:function(t,e,n){"use strict";n.d(e,{t:function(){return v}}),n(960);var r=n(83);function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=r.org.webswing.directdraw.proto.DrawInstructionProto.InstructionProto,u=r.org.webswing.directdraw.proto.CompositeProto.CompositeTypeProto,d=r.org.webswing.directdraw.proto.PartialPathProto.SegmentTypeProto,p=r.org.webswing.directdraw.proto.FontProto.StyleProto,f=r.org.webswing.directdraw.proto.StrokeProto.StrokeCapProto,h=r.org.webswing.directdraw.proto.StrokeProto.StrokeJoinProto,g=r.org.webswing.directdraw.proto.ArcProto.ArcTypeProto,y=r.org.webswing.directdraw.proto.CyclicMethodProto,v=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(this,"ctxId",Math.floor(65536*Math.random()).toString(16)),l(this,"config",{logDebug:!1,logTrace:!1,ieVersion:!1,onErrorMessage:function(t){return console.error(t.stack)}}),l(this,"constantPoolCache",[]),l(this,"fontsArray",[]),l(this,"canvasBuffer",[]),l(this,"xorLayer",document.createElement("canvas")),e&&(this.config=a(a({},this.config),e),e.constantPoolCache&&(this.constantPoolCache=e.constantPoolCache))}var e,n,i;return e=t,i=[{key:"applyXorModeComposition",value:function(t,e,n,r,o){if(null!=r&&0!==r.w&&0!==r.h){for(var i=(new Date).getTime(),a=t.getImageData(r.x,r.y,r.w,r.h),s=e.getImageData(r.x,r.y,r.w,r.h),l=0;l<a.data.length/4;l++)s.data[4*l+3]>0&&(a.data[4*l]=s.data[4*l]^n.r^a.data[4*l],a.data[4*l+1]=s.data[4*l+1]^n.g^a.data[4*l+1],a.data[4*l+2]=s.data[4*l+2]^n.b^a.data[4*l+2],a.data[4*l+3]=a.data[4*l+3]);t.putImageData(a,r.x,r.y),o&&console.warn("DirectDraw DEBUG xormode - composition pixelsize:"+r.w*r.h+" duration(ms): "+((new Date).getTime()-i))}}},{key:"toImageLoaded",value:function(t){return t}},{key:"toTx",value:function(t){return[t.m00,t.m10,t.m01,t.m11,t.m02,t.m12]}},{key:"calculateTimes",value:function(t,e,n,r,o,i){return((o-t)*n+(i-e)*r)/(n*n+r*r)}},{key:"fixFocusPoint",value:function(t){var e=t.xFocus-t.xCenter,n=t.yFocus-t.yCenter;if(0!==e||0!==n){var r=t.radius*t.radius,o=e*e+n*n;if(o>.99*r){var i=Math.sqrt(.99*r/o);t.xFocus=t.xCenter+e*i,t.yFocus=t.yCenter+n*i}}}},{key:"getDistance",value:function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))}},{key:"getEllipseCoords",value:function(t,e,n){return t[0]=e.x+n.x+t[0]*e.w,t[1]=e.y+n.y+t[1]*e.h,t[2]=e.x+n.x+t[2]*e.w,t[3]=e.y+n.y+t[3]*e.h,t[4]=e.x+n.x+t[4]*e.w,t[5]=e.y+n.y+t[5]*e.h,t}},{key:"getRRCoords",value:function(t,e,n){for(var r=[],o=0,i=0;i<t.length;i+=4)r[o++]=e.x+n.x+t[i+0]*e.w+t[i+1]*Math.abs(e.arcW),r[o++]=e.y+n.y+t[i+2]*e.h+t[i+3]*Math.abs(e.arcH);return r}},{key:"calculateBias",value:function(e,n,r,o){if(r){var i=o||t.identityTransform(n),a=e*i[0]/n%2,s=e*i[3]/n%2;return{x:a>1e-4&&a<1.9999?.5/i[0]*n:0,y:s>1e-4&&s<1.9999?.5/i[3]*n:0}}return{x:0,y:0}}},{key:"parsePath",value:function(t,e,n,r){var o=t,i=0;o.type&&o.type.forEach((function(t){switch(t){case d.MOVE:e.moveTo(o.points[i+0]+n,o.points[i+1]+r),i+=2;break;case d.LINE:e.lineTo(o.points[i+0]+n,o.points[i+1]+r),i+=2;break;case d.QUAD:e.quadraticCurveTo(o.points[i+2]+n,o.points[i+3]+r,o.points[i+0]+n,o.points[i+1]+r),i+=4;break;case d.CUBIC:e.bezierCurveTo(o.points[i+4]+n,o.points[i+5]+r,o.points[i+2]+n,o.points[i+3]+r,o.points[i+0]+n,o.points[i+1]+r),i+=6;break;case d.CLOSE:e.closePath();break;default:console.warn("segment.type:"+o.type+" not recognized")}}))}},{key:"parseColor",value:function(e){var n=t.parseColorSamples(e);return"rgba("+n.r+","+n.g+","+n.b+","+n.a/255+")"}},{key:"parseColorSamples",value:function(t){var e=255;return{r:t>>>24&e,g:t>>>16&e,b:t>>>8&e,a:t&e}}},{key:"isFontAvailable",value:function(t){var e=document.createElement("canvas").getContext("2d"),n="abcdefghijklmnopqrstuvwxyz0123456789";e.font="72px monospace";var r=e.measureText(n).width;return e.font="72px '"+t+"', monospace",e.measureText(n).width!==r}},{key:"getFontFaceData",value:function(e,n,r){var o="@font-face {";return o+="font-family: '"+e+"';",o+="src: url(data:font/truetype;base64,"+t.toBase64(n)+");",null!=r&&(o+="font-style: "+r+";"),o+"}"}},{key:"toBase64",value:function(t){for(var e="",n=t,r=0,o=n.byteLength;r<o;r++)e+=String.fromCharCode(n[r]);return window.btoa(e)}},{key:"getImageData",value:function(e){var n=t.toBase64(e);return n?"data:image/png;base64,"+n:null}},{key:"resolveArgs",value:function(t,e){for(var n=[],r=0;r<t.length;r++)n[r]=e[t[r]];return n}},{key:"concatTransform",value:function(e,n,r){return null==e&&(e=t.identityTransform(r)),[e[0]*n[0]+e[2]*n[1],e[1]*n[0]+e[3]*n[1],e[0]*n[2]+e[2]*n[3],e[1]*n[2]+e[3]*n[3],e[0]*n[4]+e[2]*n[5]+e[4],e[1]*n[4]+e[3]*n[5]+e[5]]}},{key:"withDpr",value:function(e,n){return t.concatTransform(t.identityTransform(n),e,n)}},{key:"identityTransform",value:function(t){return[t,0,0,t,0,0]}},{key:"transformPoint",value:function(t,e,n){return{x:n[0]*t+n[2]*e+n[4],y:n[1]*t+n[3]*e+n[5]}}},{key:"toCanvasCtx",value:function(t){return t}}],(n=[{key:"draw64",value:function(t,e,n){var r=Uint8Array.from(atob(t),(function(t){return t.charCodeAt(0)}));return this.drawBin(r,e,n)}},{key:"drawBin",value:function(t,e,n){return this.drawWebImage(r.org.webswing.directdraw.proto.WebImageProto.decode(t),e,n)}},{key:"drawProto",value:function(t,e,n){return this.drawWebImage(t,e,n)}},{key:"drawEmpty",value:function(t,e,n,r){var o=this;return new Promise((function(i,a){try{var s=r;r||(s=o.createRenderingCanvas(n,t,e)),i(s)}catch(t){o.config.onErrorMessage(t),a(t)}}))}},{key:"iprtGraphicsDispose",value:function(t,e){delete e.graphicsStates[t]}},{key:"iprtGraphicsSwitch",value:function(t,e,n){var r=n.graphicsStates;null!=r[e]?this.setCtxState(r[e],t,n):console.warn("Graphics with id "+e+" not initialized!"),n.currentStateId=e}},{key:"dispose",value:function(){for(var t=[],e=0,n=Array.from(document.body.getElementsByTagName("style"));e<n.length;e++){var r=n[e];r.getAttribute("data-dd-ctx")===this.ctxId&&t.push(r)}t.forEach((function(t){document.body.removeChild(t)}))}},{key:"getConstantPoolCache",value:function(){return this.constantPoolCache}},{key:"setCtxState",value:function(e,n,r){if(null!=e)if(null!=e.strokeArgs&&this.iprtSetStroke(n,e.strokeArgs),null!=e.paintArgs&&this.iprtSetPaint(n,e.paintArgs),null!=e.compositeArgs&&this.iprtSetComposite(n,e.compositeArgs),null!=e.fontArgs&&this.iprtSetFont(n,e.fontArgs),null!=e.transform){var o=e.transform;n.setTransform(o[0],o[1],o[2],o[3],o[4],o[5])}else{var i=t.identityTransform(r.dpr);n.setTransform(i[0],i[1],i[2],i[3],i[4],i[5])}}},{key:"iprtGraphicsCreate",value:function(t,e,n,r){var o=r.graphicsStates;if(null==o[e]){r.currentStateId=e,n.shift();var i=this.iprtSetTransform(t,n,r);n.shift(),this.iprtSetStroke(t,n);var a=n.slice(0,1);n.shift(),this.iprtSetComposite(t,n);var s=n.slice(0,1);n.shift(),this.iprtSetPaint(t,n);var l=n.slice(0,1);n.shift();var c=n,u=this.iprtSetFont(t,n);o[e]={transform:i,strokeArgs:a,compositeArgs:s,paintArgs:l,fontArgs:c,fontTransform:u}}else console.warn("Graphics with id "+e+" already exist!")}},{key:"iprtDraw",value:function(t,e,n,r){t.save(),this.clip(t,e[1],r);var o=this.path(t,e[0],r,!0,n);o&&t.stroke(o),t.restore()}},{key:"iprtFill",value:function(t,e,n){t.save(),this.clip(t,e[1],n);var r=this.path(t,e[0],n);r&&t.fill(r,this.fillRule(e[0])),t.restore()}},{key:"iprtDrawImage",value:function(e,n,r){e.save();var o=t.toImageLoaded(n[0].image.data),i=n[1],a=n[2],s=n[3];if(this.clip(e,n[4],r),null!=i&&this.iprtTransform(e,[i]),s){e.fillStyle=t.parseColor(s.color&&s.color.rgba?s.color.rgba:0);var l=new Path2D;null==a?l.rect(0,0,o.width,o.height):l.rect(0,0,a.rectangle.w,a.rectangle.h),e.fill(l)}if(null==a)e.drawImage(o,0,0);else{var c=a.rectangle;e.drawImage(o,c.x,c.y,c.w,c.h,0,0,c.w,c.h)}e.restore()}},{key:"iprtDrawWebImage",value:function(e,n,o,i){var a=this,s=n[0],l=n[1],c=n[2],u=n[3],d=this.canvasBuffer.pop(),p=r.org.webswing.directdraw.proto.WebImageProto.decode(o),f=i.dpr;return void 0===d||d.width===p.width*f&&d.height===p.height*f||(d.width=p.width*f,d.height=p.height*f),this.drawWebImage(p,f,d).then((function(n){if(e.save(),a.clip(e,u,i),null!=s&&a.iprtTransform(e,[s]),null!=c){e.fillStyle=t.parseColor(c.color.rgba);var r=new Path2D;null==l?r.rect(0,0,n.width/f,n.height/f):r.rect(0,0,l.rectangle.w,l.rectangle.h),e.fill(r)}if(null==l)e.drawImage(n,0,0,n.width,n.height,0,0,n.width/f,n.height/f);else{var o=l.rectangle;e.drawImage(n,o.x*f,o.y*f,o.w*f,o.h*f,0,0,o.w,o.h)}e.restore(),n.width=0,a.canvasBuffer.push(n)}))}},{key:"iprtDrawGlyphList",value:function(e,n,r){var o=t.resolveArgs(n[0].combined.ids,this.constantPoolCache),i=o[0].points,a=o[1].points,s=o.slice(2),l=n[1];if(e.save(),this.clip(e,l,r),s.length>0){var c=document.createElement("canvas");c.width=i.points[2],c.height=i.points[3];for(var u=c.getContext("2d"),d=0;d<s.length;d++)if(null!=s[d].glyph.data){var p=t.toImageLoaded(s[d].glyph.data),f=a.points[2*d],h=a.points[2*d+1];u.drawImage(p,0,0,p.width,p.height,f,h,p.width,p.height)}u.fillStyle=e.fillStyle,u.globalCompositeOperation="source-in",u.fillRect(0,0,c.width,c.height),e.drawImage(c,0,0,c.width,c.height,i.points[0],i.points[1],c.width,c.height)}e.restore()}},{key:"iprtDrawString",value:function(t,e,n,r){var o=e[0].string,i=e[1].points.points,a=i[0],s=i[1],l=e[2];if(t.save(),this.clip(t,l,r),null!=n){var c=n;t.transform(c.m00,c.m10,c.m01,c.m11,c.m02+a,c.m12+s),t.fillText(o,0,0)}else for(var u=a,d=0;d<o.length;d++)if(0!==i[d+2]){var p=this.getCharGroup(d,o,i),f=t.measureText(p).width,h=i[d+2]/f;t.save(),h<=1?(t.scale(h,1),t.fillText(p,u/h,s)):t.fillText(p,u+(i[d+2]-f)/2,s),t.restore(),u+=i[d+2]}t.restore()}},{key:"getCharGroup",value:function(t,e,n){for(var r=e.charAt(t),o=t+1;e.length>o&&0===n[o+2];)r+=e.charAt(o),o++;return r}},{key:"iprtSetFont",value:function(t,e){if(null==e[0])return null;var n=e[0].font,r="";switch(n.style){case p.NORMAL:r="";break;case p.OBLIQUE:r="bold";break;case p.ITALIC:r="italic";break;case p.BOLDANDITALIC:r="bold italic"}var o=n.family;return"sans-serif"!==n.family&&"serif"!==n.family&&"monospace"!==n.family&&(o='"'+(n.fontProvided?"":this.ctxId)+n.family+'"'),t.font=r+" "+n.size+"px "+o,n.transform}},{key:"iprtCopyArea",value:function(t,e,n){var r=e[0].points.points,o=e[1],i=n.dpr;t.save(),this.clip(t,o,n),t.beginPath(),t.setTransform(1,0,0,1,0,0);var a=new Path2D;a.rect(r[0]*i,r[1]*i,r[2]*i,r[3]*i),t.clip(a),t.translate(r[4]*i,r[5]*i),t.drawImage(t.canvas,0,0),t.restore()}},{key:"iprtTransform",value:function(t,e){var n=e[0].transform;return t.transform(n.m00,n.m10,n.m01,n.m11,n.m02,n.m12),[n.m00,n.m10,n.m01,n.m11,n.m02,n.m12]}},{key:"iprtSetTransform",value:function(e,n,r){var o=n[0].transform,i=t.withDpr(t.toTx(o),r.dpr);return e.setTransform(i[0],i[1],i[2],i[3],i[4],i[5]),i}},{key:"iprtSetStroke",value:function(t,e){var n=e[0].stroke;switch(t.lineWidth=n.width,t.miterLimit=n.miterLimit,n.cap){case f.CAP_BUTT:t.lineCap="butt";break;case f.CAP_ROUND:t.lineCap="round";break;case f.CAP_SQUARE:t.lineCap="square"}switch(n.join){case h.JOIN_MITER:t.lineJoin="miter";break;case h.JOIN_ROUND:t.lineJoin="round";break;case h.JOIN_BEVEL:t.lineJoin="bevel"}null!=n.dash&&null!=t.setLineDash&&(t.setLineDash(n.dash),t.lineDashOffset=n.dashOffset)}},{key:"iprtSetPaint",value:function(e,n){var r=n[0];if(null!=r.color){var o=t.parseColor(r.color.rgba);e.fillStyle=o,e.strokeStyle=o}else if(null!=r.texture){var i,a=r.texture.anchor,s=t.toImageLoaded(r.texture.image.data);if(0===a.x&&0===a.y&&a.w===s.width&&a.h===s.height)i=e.createPattern(s,"repeat");else{var l=document.createElement("canvas"),c=a.x<0?a.x%a.w+a.w:a.x%a.w,u=a.y<0?a.y%a.h+a.h:a.y%a.h;l.width=a.w,l.height=a.h;var d=l.getContext("2d");d.clearRect(0,0,a.w,a.h),d.fillStyle=d.createPattern(s,"repeat"),d.setTransform(a.w/s.width,0,0,a.h/s.height,c,u),d.fillRect(-c*s.width/a.w,-u*s.height/a.h,s.width,s.height),i=e.createPattern(l,"repeat")}e.fillStyle=i,e.strokeStyle=i}else if(null!=r.linearGrad){var p=this.iprtLinearGradient(e,r.linearGrad);e.fillStyle=p,e.strokeStyle=p}else if(null!=r.radialGrad){var f=this.iprtRadialGradient(e,r.radialGrad);e.fillStyle=f,e.strokeStyle=f}}},{key:"iprtLinearGradient",value:function(e,n){var r=n.xStart,o=n.yStart,i=n.xEnd-r,a=n.yEnd-o,s=1,l=s,c=0;if(n.repeat!==y.NO_CYCLE&&(0!==i||0!==a)){var u=e.canvas,d=[t.calculateTimes(r,o,i,a,0,0),t.calculateTimes(r,o,i,a,u.width,0),t.calculateTimes(r,o,i,a,u.width,u.height),t.calculateTimes(r,o,i,a,0,u.height)];s=(l=Math.ceil(Math.max.apply(Math,d)))+(c=Math.ceil(-Math.min.apply(Math,d)))}for(var p=e.createLinearGradient(r-i*c,o-a*c,r+i*l,o+a*l),f=-c,h=0;f<l;f++,h++)if(n.repeat!==y.REFLECT||f%2==0)for(var g=0;g<n.colors.length;g++)p.addColorStop((h+n.fractions[g])/s,t.parseColor(n.colors[g]));else for(var v=n.colors.length-1;v>=0;v--)p.addColorStop((h+(1-n.fractions[v]))/s,t.parseColor(n.colors[v]));return p}},{key:"iprtRadialGradient",value:function(e,n){t.fixFocusPoint(n);var r=n.xFocus,o=n.yFocus,i=n.xCenter-r,a=n.yCenter-o,s=n.radius,l=1;if(n.repeat!==y.NO_CYCLE)if(0===i&&0===a){var c=e.canvas,u=[t.getDistance(r,o,0,0)/s,t.getDistance(r,o,c.width,0)/s,t.getDistance(r,o,c.width,c.height)/s,t.getDistance(r,o,0,c.height)/s];l=Math.ceil(Math.max.apply(Math,u))}else{var d=Math.sqrt(i*i+a*a),p=i+s*i/d,f=a+s*a/d,h=i-s*i/d,g=a-s*a/d,v=e.canvas,w=[t.calculateTimes(r,o,p,f,0,0),t.calculateTimes(r,o,p,f,v.width,0),t.calculateTimes(r,o,p,f,v.width,v.height),t.calculateTimes(r,o,p,f,0,v.height),t.calculateTimes(r,o,h,g,0,0),t.calculateTimes(r,o,h,g,v.width,0),t.calculateTimes(r,o,h,g,v.width,v.height),t.calculateTimes(r,o,h,g,0,v.height)];l=Math.ceil(Math.max.apply(Math,w))}for(var b=e.createRadialGradient(r,o,0,r+l*i,o+l*a,s*l),m=0;m<l;m++)if(n.repeat!==y.REFLECT||m%2==0)for(var O=0;O<n.colors.length;O++)b.addColorStop((m+n.fractions[O])/l,t.parseColor(n.colors[O]));else for(var P=n.colors.length-1;P>=0;P--)b.addColorStop((m+(1-n.fractions[P]))/l,t.parseColor(n.colors[P]));return b}},{key:"iprtSetComposite",value:function(t,e){var n=e[0].composite;if(null!=n)switch(t.globalAlpha=n.alpha,n.type){case u.CLEAR:t.globalCompositeOperation="destination-out",t.globalAlpha=1;break;case u.SRC:t.globalCompositeOperation="copy";break;case u.DST:t.globalCompositeOperation="destination-over",t.globalAlpha=0;break;case u.SRC_OVER:t.globalCompositeOperation="source-over";break;case u.DST_OVER:t.globalCompositeOperation="destination-over";break;case u.SRC_IN:t.globalCompositeOperation="source-in";break;case u.DST_IN:t.globalCompositeOperation="destination-in";break;case u.SRC_OUT:t.globalCompositeOperation="source-out";break;case u.DST_OUT:t.globalCompositeOperation="destination-out";break;case u.SRC_ATOP:t.globalCompositeOperation="source-atop";break;case u.DST_ATOP:t.globalCompositeOperation="destination-atop";break;case u.XOR:t.globalCompositeOperation="xor";break;case u.XOR_MODE:t.globalCompositeOperation="source-over"}}},{key:"clip",value:function(t,e,n){var r=this.path(t,e,n);r&&t.clip(r,this.fillRule(e))}},{key:"path",value:function(e,n,r,o,i){if(null==n)return null;var a=t.calculateBias(e.lineWidth,r.dpr,o,i),s=new Path2D;if(null!=n.rectangle)return this.pathRectangle(s,n.rectangle,a),s;if(null!=n.roundRectangle)return this.pathRoundRectangle(s,n.roundRectangle,a),s;if(null!=n.ellipse)return this.pathEllipse(s,n.ellipse,a),s;if(null!=n.arc)return this.pathArc(s,n.arc,a),s;if(null!=n.combined){for(var l=t.resolveArgs(n.combined.ids,this.constantPoolCache),c=l[0].path,u=l.slice(1),d=c.xOffsets,p=c.yOffsets,f=new DOMMatrix([1,0,0,1,0,0]),h=0;h<u.length;h++){var g=u[h].partialPath;f.e=d[h]+a.x,f.f=p[h]+a.y,s.addPath(g.path2d,f)}return s}return null}},{key:"pathRectangle",value:function(t,e,n){t.rect(e.x+n.x,e.y+n.y,e.w,e.h)}},{key:"pathEllipse",value:function(e,n,r){var o=.5522847498307933,i=.5+.5*o,a=.5-.5*o;e.moveTo(n.x+r.x+n.w,n.y+r.y+.5*n.h);var s=t.getEllipseCoords([1,i,i,1,.5,1],n,r);e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([a,1,0,i,0,.5],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([0,a,a,0,.5,0],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),s=t.getEllipseCoords([i,0,1,a,1,.5],n,r),e.bezierCurveTo(s[0],s[1],s[2],s[3],s[4],s[5]),e.closePath()}},{key:"pathRoundRectangle",value:function(e,n,r){var o=.22385762508460333,i=t.getRRCoords([0,0,0,.5],n,r);e.moveTo(i[0],i[1]),i=t.getRRCoords([0,0,1,-.5],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([0,0,1,-o,0,o,1,0,0,.5,1,0],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([1,-.5,1,0],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([1,-o,1,0,1,0,1,-o,1,0,1,-.5],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([1,0,0,.5],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([1,0,0,o,1,-o,0,0,1,-.5,0,0],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),i=t.getRRCoords([0,.5,0,0],n,r),e.lineTo(i[0],i[1]),i=t.getRRCoords([0,o,0,0,0,0,0,o,0,0,0,.5],n,r),e.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5]),e.closePath()}},{key:"pathArc",value:function(t,e,n){var r=e.w/2,o=e.h/2,i=e.x+n.x+r,a=e.y+n.y+o,s=-e.start*Math.PI/180,l=-e.extent,c=4,u=l<0?Math.PI/2:-Math.PI/2,d=l<0?.5522847498307933:-.5522847498307933;l>-360&&l<360&&(u=l/(c=Math.ceil(Math.abs(l)/90))*Math.PI/180,c=0==(d=4/3*Math.sin(u/2)/(1+Math.cos(u/2)))?0:c),t.moveTo(i+Math.cos(s)*r,a+Math.sin(s)*o);for(var p=0;p<c;p++){var f=s+u*p,h=Math.cos(f),y=Math.sin(f),v=[];v[0]=i+(h-d*y)*r,v[1]=a+(y+d*h)*o,f+=u,h=Math.cos(f),y=Math.sin(f),v[2]=i+(h+d*y)*r,v[3]=a+(y-d*h)*o,v[4]=i+h*r,v[5]=a+y*o,t.bezierCurveTo(v[0],v[1],v[2],v[3],v[4],v[5])}switch(e.type){case g.OPEN:break;case g.CHORD:t.closePath();break;case g.PIE:t.lineTo(i,a),t.closePath()}}},{key:"prepareImages",value:function(e){var n=this;return new Promise((function(r,o){try{if(e.length>0){var i=e.map((function(e){return new Promise((function(n){var r=new Image,o=t.getImageData(e.data);o?(r.onload=function(){e.data=r,n()},r.src=o):(e.data=r,n())}))}));Promise.all(i).then((function(){return r()}))}else r()}catch(t){n.config.onErrorMessage(t),o(t)}}))}},{key:"initializeFontFaces",value:function(e){var n=this;return new Promise((function(r,o){try{if(e.length>0){var i=e.map((function(e){return new Promise((function(r){if(n.fontsArray.indexOf(e.name)>=0)r();else{n.fontsArray.push(e.name);var o=document.createElement("style");o.type="text/css",o.setAttribute("data-dd-ctx",n.ctxId);var i=n.ctxId+e.name;o.innerHTML=t.getFontFaceData(i,e.font,e.style),document.body.appendChild(o),n.waitForFont(i,r)}}))}));Promise.all(i).then((function(){return r()}))}else r()}catch(t){n.config.onErrorMessage(t),o(t)}}))}},{key:"logRenderTime",value:function(t,e){if(this.config.logDebug&&null!=e){var n=(new Date).getTime()-t,r=null==e.instructions?0:e.instructions.length,o=null==e.constants?0:e.constants.length,i=null==e.fontFaces?0:e.fontFaces.length;console.warn("DirectDraw DEBUG render time "+n+"ms (insts:"+r+", consts:"+o+", fonts:"+i+")")}}},{key:"waitForFont",value:function(e,n){var r=(new Date).getTime();!function o(){t.isFontAvailable(e)||(new Date).getTime()-r>100?n():new Promise((function(t){return setTimeout(t,5)})).then(o)}()}},{key:"fillRule",value:function(e){if(e.combined&&e.combined.ids&&e.combined.ids.length>0){var n=t.resolveArgs([e.combined.ids[0]],this.constantPoolCache)[0].path;if(null!=n)return n.windingOdd?"evenodd":"nonzero"}return"nonzero"}},{key:"drawWebImage",value:function(t,e,n){var r=this;return new Promise((function(o,i){try{r.drawWebImageInternal(t,e,o,i,n)}catch(t){r.config.onErrorMessage(t),i(t)}}))}},{key:"drawWebImageInternal",value:function(e,n,r,o,i){var a,s=this,l=(new Date).getTime();if(null!=i){if(i.width!==e.width*n||i.height!==e.height*n){var c=this.canvasBuffer.pop();void 0===c&&(c=document.createElement("canvas")),c.width=i.width,c.height=i.height,c.width>0&&c.height>0&&c.getContext("2d").drawImage(i,0,0),i.width=e.width*n,i.height=e.height*n,c.width>0&&c.height>0&&i.getContext("2d").drawImage(c,0,0,c.width,c.height,0,0,i.width,i.height),this.canvasBuffer.push(c)}a=i}else a=this.createRenderingCanvas(n,e.width,e.height);a.style.width=e.width+"px",a.style.height=e.height+"px";var u={canvas:a,graphicsStates:[],currentStateId:-1,dpr:n},d=this.populateConstantsPool(e.constants);this.prepareImages(d).then((function(){return s.initializeFontFaces(e.fontFaces)})).then((function(){var n=t.toCanvasCtx(u.canvas.getContext("2d"));null!=n?(s.config.logTrace&&(n=s.wrap2TraceLoggerCtx(n)),null!=e.instructions&&(n.save(),e.instructions.reduce((function(t,e){return t.then((function(){return s.interpretInstruction(n,e,u)}))}),Promise.resolve()).then((function(){n.restore(),s.logRenderTime(l,e),r(u.canvas)})).catch((function(t){n.restore(),o(t),s.config.onErrorMessage(t)})))):o(new Error("ctx is null"))})).catch((function(t){s.config.onErrorMessage(t)}))}},{key:"createRenderingCanvas",value:function(t,e,n){var r=document.createElement("canvas");return r.classList.add("webswing-canvas"),r.getContext("2d").scale(t,t),r.width=e*t,r.height=n*t,r}},{key:"populateConstantsPool",value:function(e){var n=this,r=[];return e.forEach((function(e){if(n.constantPoolCache[e.id]=e,e.partialPath){var o=e.partialPath.path2d=new Path2D;t.parsePath(e.partialPath,o,0,0)}else null!=e.image?r.push(e.image):null!=e.texture?r.push(e.texture.image):null!=e.glyph&&null!=e.glyph.data&&r.push(e.glyph)})),r}},{key:"interpretInstruction",value:function(e,n,r){var o=e,i=n.args?t.resolveArgs(n.args,this.constantPoolCache):[],a=r.graphicsStates[r.currentStateId],s=this.isXorMode(a);switch(s&&(e=this.initXorModeCtx(a,o,r)),n.inst){case c.GRAPHICS_CREATE:this.iprtGraphicsCreate(o,n.args?n.args[0]:0,i,r);break;case c.GRAPHICS_SWITCH:this.iprtGraphicsSwitch(o,n.args?n.args[0]:0,r);break;case c.GRAPHICS_DISPOSE:this.iprtGraphicsDispose(n.args?n.args[0]:0,r);break;case c.DRAW:this.iprtDraw(e,i,a.transform,r);break;case c.FILL:this.iprtFill(e,i,r);break;case c.DRAW_IMAGE:this.iprtDrawImage(e,i,r);break;case c.DRAW_WEBIMAGE:return this.iprtDrawWebImage(e,i,n.webImage,r);case c.DRAW_STRING:this.iprtDrawString(e,i,a.fontTransform,r);break;case c.COPY_AREA:this.iprtCopyArea(e,i,r);break;case c.SET_STROKE:a.strokeArgs=i,this.iprtSetStroke(o,i);break;case c.SET_PAINT:a.paintArgs=i,this.iprtSetPaint(o,i);break;case c.SET_COMPOSITE:a.compositeArgs=i,this.iprtSetComposite(o,i);break;case c.SET_FONT:a.fontArgs=i,a.fontTransform=this.iprtSetFont(o,i);break;case c.TRANSFORM:a.transform=t.concatTransform(a.transform,this.iprtTransform(o,i),r.dpr);break;case c.DRAW_GLYPH_LIST:this.iprtDrawGlyphList(e,i,r);break;default:console.warn("instruction code: "+n.inst+" not recognized")}if(s){var l=e,u=l.popBoundingBox(),d=t.parseColorSamples(a.compositeArgs[0].composite.color);t.applyXorModeComposition(o,l,d,u,this.config.logDebug)}return Promise.resolve()}},{key:"isXorMode",value:function(t){return null!=t&&null!=t.compositeArgs&&t.compositeArgs[0].composite.type===u.XOR_MODE}},{key:"initXorModeCtx",value:function(e,n,r){this.xorLayer.width=n.canvas.width,this.xorLayer.height=n.canvas.height;var o=t.toCanvasCtx(this.xorLayer.getContext("2d")),i=this.wrapContext(o,r.dpr);return this.setCtxState(e,i,r),i}},{key:"wrapContext",value:function(e,n){var r=e;if(!r.wrapped){r.wrapped=!0,r.boundingBox=null,r.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999};var o=r.beginPath;r.beginPath=function(){return this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999},o.call(this)};var i=r.setTransform;r.setTransform=function(t,e,n,r,o,a){this.transfomMatrix=[t,e,n,r,o,a],i.call(this,t,e,n,r,o,a)};var a=r.transform;r.transform=function(e,r,o,i,s,l){return this.transfomMatrix=t.concatTransform(this.transfomMatrix,[e,r,o,i,s,l],n),a.call(this,e,r,o,i,s,l)},r.updateMinMax=function(e,n){var r=t.transformPoint(e,n,this.transfomMatrix);r.x<this.pathBBox.minX&&(this.pathBBox.minX=r.x),r.x>this.pathBBox.maxX&&(this.pathBBox.maxX=r.x),r.y<this.pathBBox.minY&&(this.pathBBox.minY=r.y),r.y>this.pathBBox.maxY&&(this.pathBBox.maxY=r.y)};var s=r.fillText;r.fillText=function(t,e,n,r){this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999};var o=r||this.measureText(t).width,i=2*this.measureText("M").width;return this.updateMinMax(e-3,n-.7*i),this.updateMinMax(e-3,n+.3*i),this.updateMinMax(e+1.2*o,n-.7*i),this.updateMinMax(e+1.2*o,n+.3*i),this.setBoundingBox(),void 0===r?s.call(this,t,e,n):s.call(this,t,e,n,r)};var l=r.moveTo;r.moveTo=function(t,e){return this.updateMinMax(t,e),l.call(this,t,e)};var c=r.lineTo;r.lineTo=function(t,e){return this.updateMinMax(t,e),c.call(this,t,e)};var u=r.quadraticCurveTo;r.quadraticCurveTo=function(t,e,n,r){return this.updateMinMax(n,r),this.updateMinMax(t,e),u.call(this,t,e,n,r)};var d=r.bezierCurveTo;r.bezierCurveTo=function(t,e,n,r,o,i){return this.updateMinMax(o,i),this.updateMinMax(t,e),this.updateMinMax(n,r),d.call(this,t,e,n,r,o,i)};var p=r.rect;r.rect=function(t,e,n,r){return this.updateMinMax(t,e),this.updateMinMax(t,e+r),this.updateMinMax(t+n,e),this.updateMinMax(t+n,e+r),p.call(this,t,e,n,r)};var f=r.fill;r.fill=function(t){return this.setBoundingBox(),f.call(this,t)};var h=r.drawImage;r.drawImage=function(t,e,n,r,o,i,a,s,l){return this.pathBBox={minX:99999999999,minY:99999999999,maxX:-99999999999,maxY:-99999999999},this.setBoundingBox(),h.call(this,t,e,n,r,o,i,a,s,l)};var g=r.stroke;r.stroke=function(t){return this.setBoundingBox(this.lineWidth/2+3),g.call(this,t)},r.setBoundingBox=function(t){var e=(t||0)*this.transfomMatrix[0],n=(t||0)*this.transfomMatrix[3],r=Math.min(Math.max(0,this.pathBBox.minX-e),this.canvas.width),o=Math.min(Math.max(0,this.pathBBox.minY-n),this.canvas.height),i=Math.min(Math.max(0,this.pathBBox.maxX+e),this.canvas.width),a=Math.min(Math.max(0,this.pathBBox.maxY+n),this.canvas.height);this.boundingBox&&(r=Math.min(r,this.boundingBox.x),o=Math.min(o,this.boundingBox.y),i=Math.max(i,this.boundingBox.w+this.boundingBox.x),a=Math.max(a,this.boundingBox.h+this.boundingBox.y)),this.boundingBox={x:r,y:o,w:i-r,h:a-o}},r.popBoundingBox=function(){var t=this.boundingBox;return this.boundingBox=null,null!=t&&(t.x=Math.floor(t.x),t.y=Math.floor(t.y),t.w=Math.ceil(t.w),t.h=Math.ceil(t.h)),t}}return r}},{key:"wrap2TraceLoggerCtx",value:function(t){if(t.traceLoggerWrapped)return t;var e=function(t){var e,n="",r=function(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}(t))){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){l=!0,a=t})),f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}(t);try{for(r.s();!(e=r.n()).done;){var i=e.value;n+=","+JSON.stringify(i)}}catch(t){r.e(t)}finally{r.f()}return n.length>0?n.substring(1):n};return["fill","stroke","beginPath","save","restore","setTransform","clip","rect","drawImage","fillRect","transform","fillText","scale","setLineDash","moveTo","lineTo","quadraticCurveTo","bezierCurveTo","closePath"].reduce((function(n,r){return n[r]=function(n,r){return function(){console.warn("ctx."+r+"("+e(arguments)+")"),n.apply(t,Array.from(arguments))}}(n[r],r),n}),t),t.traceLoggerWrapped=!0,t}}])&&s(e.prototype,n),i&&s(e,i),t}()},83:function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o,i,a,s,l,c,u=n(370),d=u.Reader,p=u.util,f=u.roots.default||(u.roots.default={});f.org=((c={}).webswing=((l={}).directdraw=((s={}).proto=((a={}).WebImageProto=function(){function t(t){if(this.instructions=[],this.constants=[],this.fontFaces=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.width=0,t.prototype.height=0,t.prototype.instructions=p.emptyArray,t.prototype.constants=p.emptyArray,t.prototype.fontFaces=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.WebImageProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.width=t.uint32();break;case 2:r.height=t.uint32();break;case 3:r.instructions&&r.instructions.length||(r.instructions=[]),r.instructions.push(f.org.webswing.directdraw.proto.DrawInstructionProto.decode(t,t.uint32()));break;case 4:r.constants&&r.constants.length||(r.constants=[]),r.constants.push(f.org.webswing.directdraw.proto.DrawConstantProto.decode(t,t.uint32()));break;case 5:r.fontFaces&&r.fontFaces.length||(r.fontFaces=[]),r.fontFaces.push(f.org.webswing.directdraw.proto.FontFaceProto.decode(t,t.uint32()));break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("width"))throw p.ProtocolError("missing required 'width'",{instance:r});if(!r.hasOwnProperty("height"))throw p.ProtocolError("missing required 'height'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.WebImageProto)return t;var e=new f.org.webswing.directdraw.proto.WebImageProto;if(null!=t.width&&(e.width=t.width>>>0),null!=t.height&&(e.height=t.height>>>0),t.instructions){if(!Array.isArray(t.instructions))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.instructions: array expected");e.instructions=[];for(var n=0;n<t.instructions.length;++n){if("object"!==r(t.instructions[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.instructions: object expected");e.instructions[n]=f.org.webswing.directdraw.proto.DrawInstructionProto.fromObject(t.instructions[n])}}if(t.constants){if(!Array.isArray(t.constants))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.constants: array expected");for(e.constants=[],n=0;n<t.constants.length;++n){if("object"!==r(t.constants[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.constants: object expected");e.constants[n]=f.org.webswing.directdraw.proto.DrawConstantProto.fromObject(t.constants[n])}}if(t.fontFaces){if(!Array.isArray(t.fontFaces))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.fontFaces: array expected");for(e.fontFaces=[],n=0;n<t.fontFaces.length;++n){if("object"!==r(t.fontFaces[n]))throw TypeError(".org.webswing.directdraw.proto.WebImageProto.fontFaces: object expected");e.fontFaces[n]=f.org.webswing.directdraw.proto.FontFaceProto.fromObject(t.fontFaces[n])}}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.instructions=[],n.constants=[],n.fontFaces=[]),e.defaults&&(n.width=0,n.height=0),null!=t.width&&t.hasOwnProperty("width")&&(n.width=t.width),null!=t.height&&t.hasOwnProperty("height")&&(n.height=t.height),t.instructions&&t.instructions.length){n.instructions=[];for(var r=0;r<t.instructions.length;++r)n.instructions[r]=f.org.webswing.directdraw.proto.DrawInstructionProto.toObject(t.instructions[r],e)}if(t.constants&&t.constants.length)for(n.constants=[],r=0;r<t.constants.length;++r)n.constants[r]=f.org.webswing.directdraw.proto.DrawConstantProto.toObject(t.constants[r],e);if(t.fontFaces&&t.fontFaces.length)for(n.fontFaces=[],r=0;r<t.fontFaces.length;++r)n.fontFaces[r]=f.org.webswing.directdraw.proto.FontFaceProto.toObject(t.fontFaces[r],e);return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.DrawInstructionProto=function(){function t(t){if(this.args=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.inst=0,t.prototype.args=p.emptyArray,t.prototype.webImage=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.DrawInstructionProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.inst=t.int32();break;case 2:if(r.args&&r.args.length||(r.args=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.args.push(t.uint32());else r.args.push(t.uint32());break;case 3:r.webImage=t.bytes();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("inst"))throw p.ProtocolError("missing required 'inst'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.DrawInstructionProto)return t;var e=new f.org.webswing.directdraw.proto.DrawInstructionProto;switch(t.inst){case"DRAW":case 0:e.inst=0;break;case"FILL":case 1:e.inst=1;break;case"DRAW_IMAGE":case 2:e.inst=2;break;case"DRAW_WEBIMAGE":case 3:e.inst=3;break;case"DRAW_STRING":case 4:e.inst=4;break;case"COPY_AREA":case 5:e.inst=5;break;case"GRAPHICS_DISPOSE":case 6:e.inst=6;break;case"GRAPHICS_SWITCH":case 7:e.inst=7;break;case"GRAPHICS_CREATE":case 8:e.inst=8;break;case"TRANSFORM":case 9:e.inst=9;break;case"SET_PAINT":case 10:e.inst=10;break;case"SET_FONT":case 11:e.inst=11;break;case"SET_STROKE":case 12:e.inst=12;break;case"SET_COMPOSITE":case 13:e.inst=13;break;case"DRAW_GLYPH_LIST":case 14:e.inst=14}if(t.args){if(!Array.isArray(t.args))throw TypeError(".org.webswing.directdraw.proto.DrawInstructionProto.args: array expected");e.args=[];for(var n=0;n<t.args.length;++n)e.args[n]=t.args[n]>>>0}return null!=t.webImage&&("string"==typeof t.webImage?p.base64.decode(t.webImage,e.webImage=p.newBuffer(p.base64.length(t.webImage)),0):t.webImage.length&&(e.webImage=t.webImage)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.args=[]),e.defaults&&(n.inst=e.enums===String?"DRAW":0,e.bytes===String?n.webImage="":(n.webImage=[],e.bytes!==Array&&(n.webImage=p.newBuffer(n.webImage)))),null!=t.inst&&t.hasOwnProperty("inst")&&(n.inst=e.enums===String?f.org.webswing.directdraw.proto.DrawInstructionProto.InstructionProto[t.inst]:t.inst),t.args&&t.args.length){n.args=[];for(var r=0;r<t.args.length;++r)n.args[r]=t.args[r]}return null!=t.webImage&&t.hasOwnProperty("webImage")&&(n.webImage=e.bytes===String?p.base64.encode(t.webImage,0,t.webImage.length):e.bytes===Array?Array.prototype.slice.call(t.webImage):t.webImage),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.InstructionProto=(e={},(n=Object.create(e))[e[0]="DRAW"]=0,n[e[1]="FILL"]=1,n[e[2]="DRAW_IMAGE"]=2,n[e[3]="DRAW_WEBIMAGE"]=3,n[e[4]="DRAW_STRING"]=4,n[e[5]="COPY_AREA"]=5,n[e[6]="GRAPHICS_DISPOSE"]=6,n[e[7]="GRAPHICS_SWITCH"]=7,n[e[8]="GRAPHICS_CREATE"]=8,n[e[9]="TRANSFORM"]=9,n[e[10]="SET_PAINT"]=10,n[e[11]="SET_FONT"]=11,n[e[12]="SET_STROKE"]=12,n[e[13]="SET_COMPOSITE"]=13,n[e[14]="DRAW_GLYPH_LIST"]=14,n),t}(),a.DrawConstantProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.id=0,t.prototype.color=null,t.prototype.image=null,t.prototype.transform=null,t.prototype.string="",t.prototype.partialPath=null,t.prototype.path=null,t.prototype.font=null,t.prototype.linearGrad=null,t.prototype.radialGrad=null,t.prototype.points=null,t.prototype.rectangle=null,t.prototype.ellipse=null,t.prototype.roundRectangle=null,t.prototype.arc=null,t.prototype.stroke=null,t.prototype.composite=null,t.prototype.texture=null,t.prototype.glyph=null,t.prototype.combined=null,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.DrawConstantProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.id=t.uint32();break;case 2:r.color=f.org.webswing.directdraw.proto.ColorProto.decode(t,t.uint32());break;case 3:r.image=f.org.webswing.directdraw.proto.ImageProto.decode(t,t.uint32());break;case 4:r.transform=f.org.webswing.directdraw.proto.TransformProto.decode(t,t.uint32());break;case 5:r.string=t.string();break;case 6:r.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.decode(t,t.uint32());break;case 7:r.path=f.org.webswing.directdraw.proto.CompositePathProto.decode(t,t.uint32());break;case 8:r.font=f.org.webswing.directdraw.proto.FontProto.decode(t,t.uint32());break;case 9:r.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.decode(t,t.uint32());break;case 10:r.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.decode(t,t.uint32());break;case 11:r.points=f.org.webswing.directdraw.proto.PointsProto.decode(t,t.uint32());break;case 12:r.rectangle=f.org.webswing.directdraw.proto.RectangleProto.decode(t,t.uint32());break;case 13:r.ellipse=f.org.webswing.directdraw.proto.EllipseProto.decode(t,t.uint32());break;case 14:r.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.decode(t,t.uint32());break;case 15:r.arc=f.org.webswing.directdraw.proto.ArcProto.decode(t,t.uint32());break;case 16:r.stroke=f.org.webswing.directdraw.proto.StrokeProto.decode(t,t.uint32());break;case 17:r.composite=f.org.webswing.directdraw.proto.CompositeProto.decode(t,t.uint32());break;case 18:r.texture=f.org.webswing.directdraw.proto.TextureProto.decode(t,t.uint32());break;case 19:r.glyph=f.org.webswing.directdraw.proto.GlyphProto.decode(t,t.uint32());break;case 20:r.combined=f.org.webswing.directdraw.proto.CombinedProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("id"))throw p.ProtocolError("missing required 'id'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.DrawConstantProto)return t;var e=new f.org.webswing.directdraw.proto.DrawConstantProto;if(null!=t.id&&(e.id=t.id>>>0),null!=t.color){if("object"!==r(t.color))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.color: object expected");e.color=f.org.webswing.directdraw.proto.ColorProto.fromObject(t.color)}if(null!=t.image){if("object"!==r(t.image))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.image: object expected");e.image=f.org.webswing.directdraw.proto.ImageProto.fromObject(t.image)}if(null!=t.transform){if("object"!==r(t.transform))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.transform: object expected");e.transform=f.org.webswing.directdraw.proto.TransformProto.fromObject(t.transform)}if(null!=t.string&&(e.string=String(t.string)),null!=t.partialPath){if("object"!==r(t.partialPath))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.partialPath: object expected");e.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.fromObject(t.partialPath)}if(null!=t.path){if("object"!==r(t.path))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.path: object expected");e.path=f.org.webswing.directdraw.proto.CompositePathProto.fromObject(t.path)}if(null!=t.font){if("object"!==r(t.font))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.font: object expected");e.font=f.org.webswing.directdraw.proto.FontProto.fromObject(t.font)}if(null!=t.linearGrad){if("object"!==r(t.linearGrad))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.linearGrad: object expected");e.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.fromObject(t.linearGrad)}if(null!=t.radialGrad){if("object"!==r(t.radialGrad))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.radialGrad: object expected");e.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.fromObject(t.radialGrad)}if(null!=t.points){if("object"!==r(t.points))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.points: object expected");e.points=f.org.webswing.directdraw.proto.PointsProto.fromObject(t.points)}if(null!=t.rectangle){if("object"!==r(t.rectangle))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.rectangle: object expected");e.rectangle=f.org.webswing.directdraw.proto.RectangleProto.fromObject(t.rectangle)}if(null!=t.ellipse){if("object"!==r(t.ellipse))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.ellipse: object expected");e.ellipse=f.org.webswing.directdraw.proto.EllipseProto.fromObject(t.ellipse)}if(null!=t.roundRectangle){if("object"!==r(t.roundRectangle))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.roundRectangle: object expected");e.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.fromObject(t.roundRectangle)}if(null!=t.arc){if("object"!==r(t.arc))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.arc: object expected");e.arc=f.org.webswing.directdraw.proto.ArcProto.fromObject(t.arc)}if(null!=t.stroke){if("object"!==r(t.stroke))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.stroke: object expected");e.stroke=f.org.webswing.directdraw.proto.StrokeProto.fromObject(t.stroke)}if(null!=t.composite){if("object"!==r(t.composite))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.composite: object expected");e.composite=f.org.webswing.directdraw.proto.CompositeProto.fromObject(t.composite)}if(null!=t.texture){if("object"!==r(t.texture))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.texture: object expected");e.texture=f.org.webswing.directdraw.proto.TextureProto.fromObject(t.texture)}if(null!=t.glyph){if("object"!==r(t.glyph))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.glyph: object expected");e.glyph=f.org.webswing.directdraw.proto.GlyphProto.fromObject(t.glyph)}if(null!=t.combined){if("object"!==r(t.combined))throw TypeError(".org.webswing.directdraw.proto.DrawConstantProto.combined: object expected");e.combined=f.org.webswing.directdraw.proto.CombinedProto.fromObject(t.combined)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.id=0,n.color=null,n.image=null,n.transform=null,n.string="",n.partialPath=null,n.path=null,n.font=null,n.linearGrad=null,n.radialGrad=null,n.points=null,n.rectangle=null,n.ellipse=null,n.roundRectangle=null,n.arc=null,n.stroke=null,n.composite=null,n.texture=null,n.glyph=null,n.combined=null),null!=t.id&&t.hasOwnProperty("id")&&(n.id=t.id),null!=t.color&&t.hasOwnProperty("color")&&(n.color=f.org.webswing.directdraw.proto.ColorProto.toObject(t.color,e)),null!=t.image&&t.hasOwnProperty("image")&&(n.image=f.org.webswing.directdraw.proto.ImageProto.toObject(t.image,e)),null!=t.transform&&t.hasOwnProperty("transform")&&(n.transform=f.org.webswing.directdraw.proto.TransformProto.toObject(t.transform,e)),null!=t.string&&t.hasOwnProperty("string")&&(n.string=t.string),null!=t.partialPath&&t.hasOwnProperty("partialPath")&&(n.partialPath=f.org.webswing.directdraw.proto.PartialPathProto.toObject(t.partialPath,e)),null!=t.path&&t.hasOwnProperty("path")&&(n.path=f.org.webswing.directdraw.proto.CompositePathProto.toObject(t.path,e)),null!=t.font&&t.hasOwnProperty("font")&&(n.font=f.org.webswing.directdraw.proto.FontProto.toObject(t.font,e)),null!=t.linearGrad&&t.hasOwnProperty("linearGrad")&&(n.linearGrad=f.org.webswing.directdraw.proto.LinearGradientProto.toObject(t.linearGrad,e)),null!=t.radialGrad&&t.hasOwnProperty("radialGrad")&&(n.radialGrad=f.org.webswing.directdraw.proto.RadialGradientProto.toObject(t.radialGrad,e)),null!=t.points&&t.hasOwnProperty("points")&&(n.points=f.org.webswing.directdraw.proto.PointsProto.toObject(t.points,e)),null!=t.rectangle&&t.hasOwnProperty("rectangle")&&(n.rectangle=f.org.webswing.directdraw.proto.RectangleProto.toObject(t.rectangle,e)),null!=t.ellipse&&t.hasOwnProperty("ellipse")&&(n.ellipse=f.org.webswing.directdraw.proto.EllipseProto.toObject(t.ellipse,e)),null!=t.roundRectangle&&t.hasOwnProperty("roundRectangle")&&(n.roundRectangle=f.org.webswing.directdraw.proto.RoundRectangleProto.toObject(t.roundRectangle,e)),null!=t.arc&&t.hasOwnProperty("arc")&&(n.arc=f.org.webswing.directdraw.proto.ArcProto.toObject(t.arc,e)),null!=t.stroke&&t.hasOwnProperty("stroke")&&(n.stroke=f.org.webswing.directdraw.proto.StrokeProto.toObject(t.stroke,e)),null!=t.composite&&t.hasOwnProperty("composite")&&(n.composite=f.org.webswing.directdraw.proto.CompositeProto.toObject(t.composite,e)),null!=t.texture&&t.hasOwnProperty("texture")&&(n.texture=f.org.webswing.directdraw.proto.TextureProto.toObject(t.texture,e)),null!=t.glyph&&t.hasOwnProperty("glyph")&&(n.glyph=f.org.webswing.directdraw.proto.GlyphProto.toObject(t.glyph,e)),null!=t.combined&&t.hasOwnProperty("combined")&&(n.combined=f.org.webswing.directdraw.proto.CombinedProto.toObject(t.combined,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.FontFaceProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.name="",t.prototype.font=p.newBuffer([]),t.prototype.style="",t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.FontFaceProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.name=t.string();break;case 2:r.font=t.bytes();break;case 3:r.style=t.string();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("name"))throw p.ProtocolError("missing required 'name'",{instance:r});if(!r.hasOwnProperty("font"))throw p.ProtocolError("missing required 'font'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.FontFaceProto)return t;var e=new f.org.webswing.directdraw.proto.FontFaceProto;return null!=t.name&&(e.name=String(t.name)),null!=t.font&&("string"==typeof t.font?p.base64.decode(t.font,e.font=p.newBuffer(p.base64.length(t.font)),0):t.font.length&&(e.font=t.font)),null!=t.style&&(e.style=String(t.style)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.name="",e.bytes===String?n.font="":(n.font=[],e.bytes!==Array&&(n.font=p.newBuffer(n.font))),n.style=""),null!=t.name&&t.hasOwnProperty("name")&&(n.name=t.name),null!=t.font&&t.hasOwnProperty("font")&&(n.font=e.bytes===String?p.base64.encode(t.font,0,t.font.length):e.bytes===Array?Array.prototype.slice.call(t.font):t.font),null!=t.style&&t.hasOwnProperty("style")&&(n.style=t.style),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ColorProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.rgba=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ColorProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.rgba=t.fixed32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("rgba"))throw p.ProtocolError("missing required 'rgba'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ColorProto)return t;var e=new f.org.webswing.directdraw.proto.ColorProto;return null!=t.rgba&&(e.rgba=t.rgba>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.rgba=0),null!=t.rgba&&t.hasOwnProperty("rgba")&&(n.rgba=t.rgba),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ImageProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.data=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ImageProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.data=t.bytes();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("data"))throw p.ProtocolError("missing required 'data'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ImageProto)return t;var e=new f.org.webswing.directdraw.proto.ImageProto;return null!=t.data&&("string"==typeof t.data?p.base64.decode(t.data,e.data=p.newBuffer(p.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=p.newBuffer(n.data)))),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?p.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.TransformProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.m00=1,t.prototype.m10=0,t.prototype.m01=0,t.prototype.m11=1,t.prototype.m02=0,t.prototype.m12=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.TransformProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.m00=t.float();break;case 2:r.m10=t.float();break;case 3:r.m01=t.float();break;case 4:r.m11=t.float();break;case 5:r.m02=t.float();break;case 6:r.m12=t.float();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.TransformProto)return t;var e=new f.org.webswing.directdraw.proto.TransformProto;return null!=t.m00&&(e.m00=Number(t.m00)),null!=t.m10&&(e.m10=Number(t.m10)),null!=t.m01&&(e.m01=Number(t.m01)),null!=t.m11&&(e.m11=Number(t.m11)),null!=t.m02&&(e.m02=Number(t.m02)),null!=t.m12&&(e.m12=Number(t.m12)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.m00=1,n.m10=0,n.m01=0,n.m11=1,n.m02=0,n.m12=0),null!=t.m00&&t.hasOwnProperty("m00")&&(n.m00=e.json&&!isFinite(t.m00)?String(t.m00):t.m00),null!=t.m10&&t.hasOwnProperty("m10")&&(n.m10=e.json&&!isFinite(t.m10)?String(t.m10):t.m10),null!=t.m01&&t.hasOwnProperty("m01")&&(n.m01=e.json&&!isFinite(t.m01)?String(t.m01):t.m01),null!=t.m11&&t.hasOwnProperty("m11")&&(n.m11=e.json&&!isFinite(t.m11)?String(t.m11):t.m11),null!=t.m02&&t.hasOwnProperty("m02")&&(n.m02=e.json&&!isFinite(t.m02)?String(t.m02):t.m02),null!=t.m12&&t.hasOwnProperty("m12")&&(n.m12=e.json&&!isFinite(t.m12)?String(t.m12):t.m12),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CombinedProto=function(){function t(t){if(this.ids=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.ids=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CombinedProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.ids&&r.ids.length||(r.ids=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.ids.push(t.uint32());else r.ids.push(t.uint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CombinedProto)return t;var e=new f.org.webswing.directdraw.proto.CombinedProto;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".org.webswing.directdraw.proto.CombinedProto.ids: array expected");e.ids=[];for(var n=0;n<t.ids.length;++n)e.ids[n]=t.ids[n]>>>0}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.ids=[]),t.ids&&t.ids.length){n.ids=[];for(var r=0;r<t.ids.length;++r)n.ids[r]=t.ids[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.GlyphProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.data=p.newBuffer([]),t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.GlyphProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.data=t.bytes();break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.GlyphProto)return t;var e=new f.org.webswing.directdraw.proto.GlyphProto;return null!=t.data&&("string"==typeof t.data?p.base64.decode(t.data,e.data=p.newBuffer(p.base64.length(t.data)),0):t.data.length&&(e.data=t.data)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(e.bytes===String?n.data="":(n.data=[],e.bytes!==Array&&(n.data=p.newBuffer(n.data)))),null!=t.data&&t.hasOwnProperty("data")&&(n.data=e.bytes===String?p.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RectangleProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RectangleProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RectangleProto)return t;var e=new f.org.webswing.directdraw.proto.RectangleProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.EllipseProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.EllipseProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.EllipseProto)return t;var e=new f.org.webswing.directdraw.proto.EllipseProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RoundRectangleProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.arcW=0,t.prototype.arcH=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RoundRectangleProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;case 5:r.arcW=t.float();break;case 6:r.arcH=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RoundRectangleProto)return t;var e=new f.org.webswing.directdraw.proto.RoundRectangleProto;return null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),null!=t.arcW&&(e.arcW=Number(t.arcW)),null!=t.arcH&&(e.arcH=Number(t.arcH)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0,n.arcW=0,n.arcH=0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),null!=t.arcW&&t.hasOwnProperty("arcW")&&(n.arcW=e.json&&!isFinite(t.arcW)?String(t.arcW):t.arcW),null!=t.arcH&&t.hasOwnProperty("arcH")&&(n.arcH=e.json&&!isFinite(t.arcH)?String(t.arcH):t.arcH),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.ArcProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.x=0,t.prototype.y=0,t.prototype.w=0,t.prototype.h=0,t.prototype.start=0,t.prototype.extent=0,t.prototype.type=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.ArcProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.x=t.float();break;case 2:r.y=t.float();break;case 3:r.w=t.float();break;case 4:r.h=t.float();break;case 5:r.start=t.float();break;case 6:r.extent=t.float();break;case 7:r.type=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("x"))throw p.ProtocolError("missing required 'x'",{instance:r});if(!r.hasOwnProperty("y"))throw p.ProtocolError("missing required 'y'",{instance:r});if(!r.hasOwnProperty("w"))throw p.ProtocolError("missing required 'w'",{instance:r});if(!r.hasOwnProperty("h"))throw p.ProtocolError("missing required 'h'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.ArcProto)return t;var e=new f.org.webswing.directdraw.proto.ArcProto;switch(null!=t.x&&(e.x=Number(t.x)),null!=t.y&&(e.y=Number(t.y)),null!=t.w&&(e.w=Number(t.w)),null!=t.h&&(e.h=Number(t.h)),null!=t.start&&(e.start=Number(t.start)),null!=t.extent&&(e.extent=Number(t.extent)),t.type){case"OPEN":case 0:e.type=0;break;case"CHORD":case 1:e.type=1;break;case"PIE":case 2:e.type=2}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.x=0,n.y=0,n.w=0,n.h=0,n.start=0,n.extent=0,n.type=e.enums===String?"OPEN":0),null!=t.x&&t.hasOwnProperty("x")&&(n.x=e.json&&!isFinite(t.x)?String(t.x):t.x),null!=t.y&&t.hasOwnProperty("y")&&(n.y=e.json&&!isFinite(t.y)?String(t.y):t.y),null!=t.w&&t.hasOwnProperty("w")&&(n.w=e.json&&!isFinite(t.w)?String(t.w):t.w),null!=t.h&&t.hasOwnProperty("h")&&(n.h=e.json&&!isFinite(t.h)?String(t.h):t.h),null!=t.start&&t.hasOwnProperty("start")&&(n.start=e.json&&!isFinite(t.start)?String(t.start):t.start),null!=t.extent&&t.hasOwnProperty("extent")&&(n.extent=e.json&&!isFinite(t.extent)?String(t.extent):t.extent),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?f.org.webswing.directdraw.proto.ArcProto.ArcTypeProto[t.type]:t.type),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.ArcTypeProto=(e={},(n=Object.create(e))[e[0]="OPEN"]=0,n[e[1]="CHORD"]=1,n[e[2]="PIE"]=2,n),t}(),a.PartialPathProto=function(){function t(t){if(this.type=[],this.points=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.type=p.emptyArray,t.prototype.points=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.PartialPathProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.type&&r.type.length||(r.type=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.type.push(t.int32());else r.type.push(t.int32());break;case 2:if(r.points&&r.points.length||(r.points=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.points.push(t.float());else r.points.push(t.float());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.PartialPathProto)return t;var e=new f.org.webswing.directdraw.proto.PartialPathProto;if(t.type){if(!Array.isArray(t.type))throw TypeError(".org.webswing.directdraw.proto.PartialPathProto.type: array expected");e.type=[];for(var n=0;n<t.type.length;++n)switch(t.type[n]){default:case"MOVE":case 0:e.type[n]=0;break;case"LINE":case 1:e.type[n]=1;break;case"QUAD":case 2:e.type[n]=2;break;case"CUBIC":case 3:e.type[n]=3;break;case"CLOSE":case 4:e.type[n]=4}}if(t.points){if(!Array.isArray(t.points))throw TypeError(".org.webswing.directdraw.proto.PartialPathProto.points: array expected");for(e.points=[],n=0;n<t.points.length;++n)e.points[n]=Number(t.points[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.type=[],n.points=[]),t.type&&t.type.length){n.type=[];for(var r=0;r<t.type.length;++r)n.type[r]=e.enums===String?f.org.webswing.directdraw.proto.PartialPathProto.SegmentTypeProto[t.type[r]]:t.type[r]}if(t.points&&t.points.length)for(n.points=[],r=0;r<t.points.length;++r)n.points[r]=e.json&&!isFinite(t.points[r])?String(t.points[r]):t.points[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.SegmentTypeProto=(e={},(n=Object.create(e))[e[0]="MOVE"]=0,n[e[1]="LINE"]=1,n[e[2]="QUAD"]=2,n[e[3]="CUBIC"]=3,n[e[4]="CLOSE"]=4,n),t}(),a.CompositePathProto=function(){function t(t){if(this.xOffsets=[],this.yOffsets=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.windingOdd=!1,t.prototype.xOffsets=p.emptyArray,t.prototype.yOffsets=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CompositePathProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.windingOdd=t.bool();break;case 2:if(r.xOffsets&&r.xOffsets.length||(r.xOffsets=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.xOffsets.push(t.float());else r.xOffsets.push(t.float());break;case 3:if(r.yOffsets&&r.yOffsets.length||(r.yOffsets=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.yOffsets.push(t.float());else r.yOffsets.push(t.float());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("windingOdd"))throw p.ProtocolError("missing required 'windingOdd'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CompositePathProto)return t;var e=new f.org.webswing.directdraw.proto.CompositePathProto;if(null!=t.windingOdd&&(e.windingOdd=Boolean(t.windingOdd)),t.xOffsets){if(!Array.isArray(t.xOffsets))throw TypeError(".org.webswing.directdraw.proto.CompositePathProto.xOffsets: array expected");e.xOffsets=[];for(var n=0;n<t.xOffsets.length;++n)e.xOffsets[n]=Number(t.xOffsets[n])}if(t.yOffsets){if(!Array.isArray(t.yOffsets))throw TypeError(".org.webswing.directdraw.proto.CompositePathProto.yOffsets: array expected");for(e.yOffsets=[],n=0;n<t.yOffsets.length;++n)e.yOffsets[n]=Number(t.yOffsets[n])}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.xOffsets=[],n.yOffsets=[]),e.defaults&&(n.windingOdd=!1),null!=t.windingOdd&&t.hasOwnProperty("windingOdd")&&(n.windingOdd=t.windingOdd),t.xOffsets&&t.xOffsets.length){n.xOffsets=[];for(var r=0;r<t.xOffsets.length;++r)n.xOffsets[r]=e.json&&!isFinite(t.xOffsets[r])?String(t.xOffsets[r]):t.xOffsets[r]}if(t.yOffsets&&t.yOffsets.length)for(n.yOffsets=[],r=0;r<t.yOffsets.length;++r)n.yOffsets[r]=e.json&&!isFinite(t.yOffsets[r])?String(t.yOffsets[r]):t.yOffsets[r];return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.FontProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.family="",t.prototype.style=0,t.prototype.size=0,t.prototype.transform=null,t.prototype.fontProvided=!1,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.FontProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.family=t.string();break;case 2:r.style=t.int32();break;case 3:r.size=t.uint32();break;case 4:r.transform=f.org.webswing.directdraw.proto.TransformProto.decode(t,t.uint32());break;case 5:r.fontProvided=t.bool();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("family"))throw p.ProtocolError("missing required 'family'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.FontProto)return t;var e=new f.org.webswing.directdraw.proto.FontProto;switch(null!=t.family&&(e.family=String(t.family)),t.style){case"NORMAL":case 0:e.style=0;break;case"OBLIQUE":case 1:e.style=1;break;case"ITALIC":case 2:e.style=2;break;case"BOLDANDITALIC":case 3:e.style=3}if(null!=t.size&&(e.size=t.size>>>0),null!=t.transform){if("object"!==r(t.transform))throw TypeError(".org.webswing.directdraw.proto.FontProto.transform: object expected");e.transform=f.org.webswing.directdraw.proto.TransformProto.fromObject(t.transform)}return null!=t.fontProvided&&(e.fontProvided=Boolean(t.fontProvided)),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.family="",n.style=e.enums===String?"NORMAL":0,n.size=0,n.transform=null,n.fontProvided=!1),null!=t.family&&t.hasOwnProperty("family")&&(n.family=t.family),null!=t.style&&t.hasOwnProperty("style")&&(n.style=e.enums===String?f.org.webswing.directdraw.proto.FontProto.StyleProto[t.style]:t.style),null!=t.size&&t.hasOwnProperty("size")&&(n.size=t.size),null!=t.transform&&t.hasOwnProperty("transform")&&(n.transform=f.org.webswing.directdraw.proto.TransformProto.toObject(t.transform,e)),null!=t.fontProvided&&t.hasOwnProperty("fontProvided")&&(n.fontProvided=t.fontProvided),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.StyleProto=(e={},(n=Object.create(e))[e[0]="NORMAL"]=0,n[e[1]="OBLIQUE"]=1,n[e[2]="ITALIC"]=2,n[e[3]="BOLDANDITALIC"]=3,n),t}(),a.StrokeProto=function(){function t(t){if(this.dash=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}var e,n;return t.prototype.width=0,t.prototype.miterLimit=0,t.prototype.join=0,t.prototype.cap=0,t.prototype.dash=p.emptyArray,t.prototype.dashOffset=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.StrokeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.width=t.float();break;case 2:r.miterLimit=t.float();break;case 3:r.join=t.int32();break;case 4:r.cap=t.int32();break;case 5:if(r.dash&&r.dash.length||(r.dash=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.dash.push(t.float());else r.dash.push(t.float());break;case 6:r.dashOffset=t.float();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("width"))throw p.ProtocolError("missing required 'width'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.StrokeProto)return t;var e=new f.org.webswing.directdraw.proto.StrokeProto;switch(null!=t.width&&(e.width=Number(t.width)),null!=t.miterLimit&&(e.miterLimit=Number(t.miterLimit)),t.join){case"JOIN_MITER":case 0:e.join=0;break;case"JOIN_ROUND":case 1:e.join=1;break;case"JOIN_BEVEL":case 2:e.join=2}switch(t.cap){case"CAP_BUTT":case 0:e.cap=0;break;case"CAP_ROUND":case 1:e.cap=1;break;case"CAP_SQUARE":case 2:e.cap=2}if(t.dash){if(!Array.isArray(t.dash))throw TypeError(".org.webswing.directdraw.proto.StrokeProto.dash: array expected");e.dash=[];for(var n=0;n<t.dash.length;++n)e.dash[n]=Number(t.dash[n])}return null!=t.dashOffset&&(e.dashOffset=Number(t.dashOffset)),e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.dash=[]),e.defaults&&(n.width=0,n.miterLimit=0,n.join=e.enums===String?"JOIN_MITER":0,n.cap=e.enums===String?"CAP_BUTT":0,n.dashOffset=0),null!=t.width&&t.hasOwnProperty("width")&&(n.width=e.json&&!isFinite(t.width)?String(t.width):t.width),null!=t.miterLimit&&t.hasOwnProperty("miterLimit")&&(n.miterLimit=e.json&&!isFinite(t.miterLimit)?String(t.miterLimit):t.miterLimit),null!=t.join&&t.hasOwnProperty("join")&&(n.join=e.enums===String?f.org.webswing.directdraw.proto.StrokeProto.StrokeJoinProto[t.join]:t.join),null!=t.cap&&t.hasOwnProperty("cap")&&(n.cap=e.enums===String?f.org.webswing.directdraw.proto.StrokeProto.StrokeCapProto[t.cap]:t.cap),t.dash&&t.dash.length){n.dash=[];for(var r=0;r<t.dash.length;++r)n.dash[r]=e.json&&!isFinite(t.dash[r])?String(t.dash[r]):t.dash[r]}return null!=t.dashOffset&&t.hasOwnProperty("dashOffset")&&(n.dashOffset=e.json&&!isFinite(t.dashOffset)?String(t.dashOffset):t.dashOffset),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.StrokeJoinProto=(e={},(n=Object.create(e))[e[0]="JOIN_MITER"]=0,n[e[1]="JOIN_ROUND"]=1,n[e[2]="JOIN_BEVEL"]=2,n),t.StrokeCapProto=function(){var t={},e=Object.create(t);return e[t[0]="CAP_BUTT"]=0,e[t[1]="CAP_ROUND"]=1,e[t[2]="CAP_SQUARE"]=2,e}(),t}(),a.LinearGradientProto=function(){function t(t){if(this.colors=[],this.fractions=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.xStart=0,t.prototype.yStart=0,t.prototype.xEnd=0,t.prototype.yEnd=0,t.prototype.colors=p.emptyArray,t.prototype.fractions=p.emptyArray,t.prototype.repeat=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.LinearGradientProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.xStart=t.sint32();break;case 2:r.yStart=t.sint32();break;case 3:r.xEnd=t.sint32();break;case 4:r.yEnd=t.sint32();break;case 5:if(r.colors&&r.colors.length||(r.colors=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.colors.push(t.fixed32());else r.colors.push(t.fixed32());break;case 6:if(r.fractions&&r.fractions.length||(r.fractions=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.fractions.push(t.float());else r.fractions.push(t.float());break;case 7:r.repeat=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("xStart"))throw p.ProtocolError("missing required 'xStart'",{instance:r});if(!r.hasOwnProperty("yStart"))throw p.ProtocolError("missing required 'yStart'",{instance:r});if(!r.hasOwnProperty("xEnd"))throw p.ProtocolError("missing required 'xEnd'",{instance:r});if(!r.hasOwnProperty("yEnd"))throw p.ProtocolError("missing required 'yEnd'",{instance:r});if(!r.hasOwnProperty("repeat"))throw p.ProtocolError("missing required 'repeat'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.LinearGradientProto)return t;var e=new f.org.webswing.directdraw.proto.LinearGradientProto;if(null!=t.xStart&&(e.xStart=0|t.xStart),null!=t.yStart&&(e.yStart=0|t.yStart),null!=t.xEnd&&(e.xEnd=0|t.xEnd),null!=t.yEnd&&(e.yEnd=0|t.yEnd),t.colors){if(!Array.isArray(t.colors))throw TypeError(".org.webswing.directdraw.proto.LinearGradientProto.colors: array expected");e.colors=[];for(var n=0;n<t.colors.length;++n)e.colors[n]=t.colors[n]>>>0}if(t.fractions){if(!Array.isArray(t.fractions))throw TypeError(".org.webswing.directdraw.proto.LinearGradientProto.fractions: array expected");for(e.fractions=[],n=0;n<t.fractions.length;++n)e.fractions[n]=Number(t.fractions[n])}switch(t.repeat){case"NO_CYCLE":case 0:e.repeat=0;break;case"REFLECT":case 1:e.repeat=1;break;case"REPEAT":case 2:e.repeat=2}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.colors=[],n.fractions=[]),e.defaults&&(n.xStart=0,n.yStart=0,n.xEnd=0,n.yEnd=0,n.repeat=e.enums===String?"NO_CYCLE":0),null!=t.xStart&&t.hasOwnProperty("xStart")&&(n.xStart=t.xStart),null!=t.yStart&&t.hasOwnProperty("yStart")&&(n.yStart=t.yStart),null!=t.xEnd&&t.hasOwnProperty("xEnd")&&(n.xEnd=t.xEnd),null!=t.yEnd&&t.hasOwnProperty("yEnd")&&(n.yEnd=t.yEnd),t.colors&&t.colors.length){n.colors=[];for(var r=0;r<t.colors.length;++r)n.colors[r]=t.colors[r]}if(t.fractions&&t.fractions.length)for(n.fractions=[],r=0;r<t.fractions.length;++r)n.fractions[r]=e.json&&!isFinite(t.fractions[r])?String(t.fractions[r]):t.fractions[r];return null!=t.repeat&&t.hasOwnProperty("repeat")&&(n.repeat=e.enums===String?f.org.webswing.directdraw.proto.CyclicMethodProto[t.repeat]:t.repeat),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.RadialGradientProto=function(){function t(t){if(this.colors=[],this.fractions=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.xCenter=0,t.prototype.yCenter=0,t.prototype.xFocus=0,t.prototype.yFocus=0,t.prototype.radius=0,t.prototype.colors=p.emptyArray,t.prototype.fractions=p.emptyArray,t.prototype.repeat=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.RadialGradientProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.xCenter=t.sint32();break;case 2:r.yCenter=t.sint32();break;case 3:r.xFocus=t.sint32();break;case 4:r.yFocus=t.sint32();break;case 5:r.radius=t.sint32();break;case 6:if(r.colors&&r.colors.length||(r.colors=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.colors.push(t.fixed32());else r.colors.push(t.fixed32());break;case 7:if(r.fractions&&r.fractions.length||(r.fractions=[]),2==(7&o))for(i=t.uint32()+t.pos;t.pos<i;)r.fractions.push(t.float());else r.fractions.push(t.float());break;case 8:r.repeat=t.int32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("xCenter"))throw p.ProtocolError("missing required 'xCenter'",{instance:r});if(!r.hasOwnProperty("yCenter"))throw p.ProtocolError("missing required 'yCenter'",{instance:r});if(!r.hasOwnProperty("xFocus"))throw p.ProtocolError("missing required 'xFocus'",{instance:r});if(!r.hasOwnProperty("yFocus"))throw p.ProtocolError("missing required 'yFocus'",{instance:r});if(!r.hasOwnProperty("radius"))throw p.ProtocolError("missing required 'radius'",{instance:r});if(!r.hasOwnProperty("repeat"))throw p.ProtocolError("missing required 'repeat'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.RadialGradientProto)return t;var e=new f.org.webswing.directdraw.proto.RadialGradientProto;if(null!=t.xCenter&&(e.xCenter=0|t.xCenter),null!=t.yCenter&&(e.yCenter=0|t.yCenter),null!=t.xFocus&&(e.xFocus=0|t.xFocus),null!=t.yFocus&&(e.yFocus=0|t.yFocus),null!=t.radius&&(e.radius=0|t.radius),t.colors){if(!Array.isArray(t.colors))throw TypeError(".org.webswing.directdraw.proto.RadialGradientProto.colors: array expected");e.colors=[];for(var n=0;n<t.colors.length;++n)e.colors[n]=t.colors[n]>>>0}if(t.fractions){if(!Array.isArray(t.fractions))throw TypeError(".org.webswing.directdraw.proto.RadialGradientProto.fractions: array expected");for(e.fractions=[],n=0;n<t.fractions.length;++n)e.fractions[n]=Number(t.fractions[n])}switch(t.repeat){case"NO_CYCLE":case 0:e.repeat=0;break;case"REFLECT":case 1:e.repeat=1;break;case"REPEAT":case 2:e.repeat=2}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.colors=[],n.fractions=[]),e.defaults&&(n.xCenter=0,n.yCenter=0,n.xFocus=0,n.yFocus=0,n.radius=0,n.repeat=e.enums===String?"NO_CYCLE":0),null!=t.xCenter&&t.hasOwnProperty("xCenter")&&(n.xCenter=t.xCenter),null!=t.yCenter&&t.hasOwnProperty("yCenter")&&(n.yCenter=t.yCenter),null!=t.xFocus&&t.hasOwnProperty("xFocus")&&(n.xFocus=t.xFocus),null!=t.yFocus&&t.hasOwnProperty("yFocus")&&(n.yFocus=t.yFocus),null!=t.radius&&t.hasOwnProperty("radius")&&(n.radius=t.radius),t.colors&&t.colors.length){n.colors=[];for(var r=0;r<t.colors.length;++r)n.colors[r]=t.colors[r]}if(t.fractions&&t.fractions.length)for(n.fractions=[],r=0;r<t.fractions.length;++r)n.fractions[r]=e.json&&!isFinite(t.fractions[r])?String(t.fractions[r]):t.fractions[r];return null!=t.repeat&&t.hasOwnProperty("repeat")&&(n.repeat=e.enums===String?f.org.webswing.directdraw.proto.CyclicMethodProto[t.repeat]:t.repeat),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CyclicMethodProto=(o={},(i=Object.create(o))[o[0]="NO_CYCLE"]=0,i[o[1]="REFLECT"]=1,i[o[2]="REPEAT"]=2,i),a.PointsProto=function(){function t(t){if(this.points=[],t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.points=p.emptyArray,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.PointsProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:if(r.points&&r.points.length||(r.points=[]),2==(7&o))for(var i=t.uint32()+t.pos;t.pos<i;)r.points.push(t.sint32());else r.points.push(t.sint32());break;default:t.skipType(7&o)}}return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.PointsProto)return t;var e=new f.org.webswing.directdraw.proto.PointsProto;if(t.points){if(!Array.isArray(t.points))throw TypeError(".org.webswing.directdraw.proto.PointsProto.points: array expected");e.points=[];for(var n=0;n<t.points.length;++n)e.points[n]=0|t.points[n]}return e},t.toObject=function(t,e){e||(e={});var n={};if((e.arrays||e.defaults)&&(n.points=[]),t.points&&t.points.length){n.points=[];for(var r=0;r<t.points.length;++r)n.points[r]=t.points[r]}return n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a.CompositeProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.type=1,t.prototype.alpha=1,t.prototype.color=0,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.CompositeProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.type=t.int32();break;case 2:r.alpha=t.float();break;case 3:r.color=t.fixed32();break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("type"))throw p.ProtocolError("missing required 'type'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.CompositeProto)return t;var e=new f.org.webswing.directdraw.proto.CompositeProto;switch(t.type){case"CLEAR":case 1:e.type=1;break;case"SRC":case 2:e.type=2;break;case"DST":case 9:e.type=9;break;case"SRC_OVER":case 3:e.type=3;break;case"DST_OVER":case 4:e.type=4;break;case"SRC_IN":case 5:e.type=5;break;case"DST_IN":case 6:e.type=6;break;case"SRC_OUT":case 7:e.type=7;break;case"DST_OUT":case 8:e.type=8;break;case"SRC_ATOP":case 10:e.type=10;break;case"DST_ATOP":case 11:e.type=11;break;case"XOR":case 12:e.type=12;break;case"XOR_MODE":case 13:e.type=13}return null!=t.alpha&&(e.alpha=Number(t.alpha)),null!=t.color&&(e.color=t.color>>>0),e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.type=e.enums===String?"CLEAR":1,n.alpha=1,n.color=0),null!=t.type&&t.hasOwnProperty("type")&&(n.type=e.enums===String?f.org.webswing.directdraw.proto.CompositeProto.CompositeTypeProto[t.type]:t.type),null!=t.alpha&&t.hasOwnProperty("alpha")&&(n.alpha=e.json&&!isFinite(t.alpha)?String(t.alpha):t.alpha),null!=t.color&&t.hasOwnProperty("color")&&(n.color=t.color),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t.CompositeTypeProto=function(){var t={},e=Object.create(t);return e[t[1]="CLEAR"]=1,e[t[2]="SRC"]=2,e[t[9]="DST"]=9,e[t[3]="SRC_OVER"]=3,e[t[4]="DST_OVER"]=4,e[t[5]="SRC_IN"]=5,e[t[6]="DST_IN"]=6,e[t[7]="SRC_OUT"]=7,e[t[8]="DST_OUT"]=8,e[t[10]="SRC_ATOP"]=10,e[t[11]="DST_ATOP"]=11,e[t[12]="XOR"]=12,e[t[13]="XOR_MODE"]=13,e}(),t}(),a.TextureProto=function(){function t(t){if(t)for(var e=Object.keys(t),n=0;n<e.length;++n)null!=t[e[n]]&&(this[e[n]]=t[e[n]])}return t.prototype.image=null,t.prototype.anchor=null,t.decode=function(t,e){t instanceof d||(t=d.create(t));for(var n=void 0===e?t.len:t.pos+e,r=new f.org.webswing.directdraw.proto.TextureProto;t.pos<n;){var o=t.uint32();switch(o>>>3){case 1:r.image=f.org.webswing.directdraw.proto.ImageProto.decode(t,t.uint32());break;case 2:r.anchor=f.org.webswing.directdraw.proto.RectangleProto.decode(t,t.uint32());break;default:t.skipType(7&o)}}if(!r.hasOwnProperty("image"))throw p.ProtocolError("missing required 'image'",{instance:r});if(!r.hasOwnProperty("anchor"))throw p.ProtocolError("missing required 'anchor'",{instance:r});return r},t.fromObject=function(t){if(t instanceof f.org.webswing.directdraw.proto.TextureProto)return t;var e=new f.org.webswing.directdraw.proto.TextureProto;if(null!=t.image){if("object"!==r(t.image))throw TypeError(".org.webswing.directdraw.proto.TextureProto.image: object expected");e.image=f.org.webswing.directdraw.proto.ImageProto.fromObject(t.image)}if(null!=t.anchor){if("object"!==r(t.anchor))throw TypeError(".org.webswing.directdraw.proto.TextureProto.anchor: object expected");e.anchor=f.org.webswing.directdraw.proto.RectangleProto.fromObject(t.anchor)}return e},t.toObject=function(t,e){e||(e={});var n={};return e.defaults&&(n.image=null,n.anchor=null),null!=t.image&&t.hasOwnProperty("image")&&(n.image=f.org.webswing.directdraw.proto.ImageProto.toObject(t.image,e)),null!=t.anchor&&t.hasOwnProperty("anchor")&&(n.anchor=f.org.webswing.directdraw.proto.RectangleProto.toObject(t.anchor,e)),n},t.prototype.toJSON=function(){return this.constructor.toObject(this,u.util.toJSONOptions)},t}(),a),s),l),c),t.exports=f},370:function(t,e,n){"use strict";t.exports=n(9)},9:function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(144),r.BufferWriter=n(105),r.Reader=n(908),r.BufferReader=n(274),r.util=n(684),r.rpc=n(667),r.roots=n(236),r.configure=o,o()},908:function(t,e,n){"use strict";t.exports=l;var r,o=n(684),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function l(t){this.buf=t,this.pos=0,this.len=t.length}var c,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new l(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new l(t);throw Error("illegal buffer")},d=function(){return o.Buffer?function(t){return(l.create=function(t){return o.Buffer.isBuffer(t)?new r(t):u(t)})(t)}:u};function p(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},l.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},l.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},l.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},l._configure=function(t){r=t,l.create=d(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(l.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},274:function(t,e,n){"use strict";t.exports=i;var r=n(908);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(684);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},236:function(t){"use strict";t.exports={}},667:function(t,e,n){"use strict";e.Service=n(873)},873:function(t,e,n){"use strict";t.exports=o;var r=n(684);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},86:function(t,e,n){"use strict";t.exports=o;var r=n(684);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},684:function(t,e,n){"use strict";var r=e;function o(t,e,n){for(var r=Object.keys(e),o=0;o<r.length;++o)void 0!==t[r[o]]&&n||(t[r[o]]=e[r[o]]);return t}function i(t){function e(t,n){if(!(this instanceof e))return new e(t,n);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,e):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),n&&o(this,n)}return(e.prototype=Object.create(Error.prototype)).constructor=e,Object.defineProperty(e.prototype,"name",{get:function(){return t}}),e.prototype.toString=function(){return this.name+": "+this.message},e}r.asPromise=n(410),r.base64=n(941),r.EventEmitter=n(199),r.float=n(876),r.inquire=n(310),r.utf8=n(797),r.pool=n(195),r.LongBits=n(86),r.isNode=Boolean(void 0!==n.g&&n.g&&n.g.process&&n.g.process.versions&&n.g.process.versions.node),r.global=r.isNode&&n.g||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,r.emptyArray=Object.freeze?Object.freeze([]):[],r.emptyObject=Object.freeze?Object.freeze({}):{},r.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},r.isString=function(t){return"string"==typeof t||t instanceof String},r.isObject=function(t){return t&&"object"==typeof t},r.isset=r.isSet=function(t,e){var n=t[e];return!(null==n||!t.hasOwnProperty(e))&&("object"!=typeof n||(Array.isArray(n)?n.length:Object.keys(n).length)>0)},r.Buffer=function(){try{var t=r.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),r._Buffer_from=null,r._Buffer_allocUnsafe=null,r.newBuffer=function(t){return"number"==typeof t?r.Buffer?r._Buffer_allocUnsafe(t):new r.Array(t):r.Buffer?r._Buffer_from(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},r.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,r.Long=r.global.dcodeIO&&r.global.dcodeIO.Long||r.global.Long||r.inquire("long"),r.key2Re=/^true|false|0|1$/,r.key32Re=/^-?(?:0|[1-9][0-9]*)$/,r.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,r.longToHash=function(t){return t?r.LongBits.from(t).toHash():r.LongBits.zeroHash},r.longFromHash=function(t,e){var n=r.LongBits.fromHash(t);return r.Long?r.Long.fromBits(n.lo,n.hi,e):n.toNumber(Boolean(e))},r.merge=o,r.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},r.newError=i,r.ProtocolError=i("ProtocolError"),r.oneOfGetter=function(t){for(var e={},n=0;n<t.length;++n)e[t[n]]=1;return function(){for(var t=Object.keys(this),n=t.length-1;n>-1;--n)if(1===e[t[n]]&&void 0!==this[t[n]]&&null!==this[t[n]])return t[n]}},r.oneOfSetter=function(t){return function(e){for(var n=0;n<t.length;++n)t[n]!==e&&delete this[t[n]]}},r.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},r._configure=function(){var t=r.Buffer;t?(r._Buffer_from=t.from!==Uint8Array.from&&t.from||function(e,n){return new t(e,n)},r._Buffer_allocUnsafe=t.allocUnsafe||function(e){return new t(e)}):r._Buffer_from=r._Buffer_allocUnsafe=null}},144:function(t,e,n){"use strict";t.exports=d;var r,o=n(684),i=o.LongBits,a=o.base64,s=o.utf8;function l(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function y(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}d.create=p(),d.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(t,e,n){return this.tail=this.tail.next=new l(t,e,n),this.len+=e,this},h.prototype=Object.create(l.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},d.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},d.prototype.int32=function(t){return t<0?this._push(g,10,i.fromNumber(t)):this.uint32(t)},d.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},d.prototype.uint64=function(t){var e=i.from(t);return this._push(g,e.length(),e)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(g,e.length(),e)},d.prototype.bool=function(t){return this._push(f,1,t?1:0)},d.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(t){var e=i.from(t);return this._push(y,4,e.lo)._push(y,4,e.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},d.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};d.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(o.isString(t)){var n=d.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},d.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},d.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},d._configure=function(t){r=t,d.create=p(),r._configure()}},105:function(t,e,n){"use strict";t.exports=i;var r=n(144);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(684);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var n=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return __webpack_require__.d(e,{a:e}),e},__webpack_require__.d=function(t,e){for(var n in e)__webpack_require__.o(e,n)&&!__webpack_require__.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};return function(){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DirectDraw:function(){return t.t}});var t=__webpack_require__(755),e=__webpack_require__(83),n={};for(var r in e)["default","DirectDraw"].indexOf(r)<0&&(n[r]=function(t){return e[t]}.bind(0,r));__webpack_require__.d(__webpack_exports__,n)}(),__webpack_exports__}()},module.exports=r()},function(t,e,n){"use strict";t.exports=d;var r,o=n(154),i=o.LongBits,a=o.base64,s=o.utf8;function l(t,e,n){this.fn=t,this.len=e,this.next=void 0,this.val=n}function c(){}function u(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function d(){this.len=0,this.head=new l(c,0,0),this.tail=this.head,this.states=null}var p=function(){return o.Buffer?function(){return(d.create=function(){return new r})()}:function(){return new d}};function f(t,e,n){e[n]=255&t}function h(t,e){this.len=t,this.next=void 0,this.val=e}function g(t,e,n){for(;t.hi;)e[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;t.lo>127;)e[n++]=127&t.lo|128,t.lo=t.lo>>>7;e[n++]=t.lo}function y(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}d.create=p(),d.alloc=function(t){return new o.Array(t)},o.Array!==Array&&(d.alloc=o.pool(d.alloc,o.Array.prototype.subarray)),d.prototype._push=function(t,e,n){return this.tail=this.tail.next=new l(t,e,n),this.len+=e,this},h.prototype=Object.create(l.prototype),h.prototype.fn=function(t,e,n){for(;t>127;)e[n++]=127&t|128,t>>>=7;e[n]=t},d.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new h((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},d.prototype.int32=function(t){return t<0?this._push(g,10,i.fromNumber(t)):this.uint32(t)},d.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},d.prototype.uint64=function(t){var e=i.from(t);return this._push(g,e.length(),e)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(t){var e=i.from(t).zzEncode();return this._push(g,e.length(),e)},d.prototype.bool=function(t){return this._push(f,1,t?1:0)},d.prototype.fixed32=function(t){return this._push(y,4,t>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(t){var e=i.from(t);return this._push(y,4,e.lo)._push(y,4,e.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(t){return this._push(o.float.writeFloatLE,4,t)},d.prototype.double=function(t){return this._push(o.float.writeDoubleLE,8,t)};var v=o.Array.prototype.set?function(t,e,n){e.set(t,n)}:function(t,e,n){for(var r=0;r<t.length;++r)e[n+r]=t[r]};d.prototype.bytes=function(t){var e=t.length>>>0;if(!e)return this._push(f,1,0);if(o.isString(t)){var n=d.alloc(e=a.length(t));a.decode(t,n,0),t=n}return this.uint32(e)._push(v,e,t)},d.prototype.string=function(t){var e=s.length(t);return e?this.uint32(e)._push(s.write,e,t):this._push(f,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new l(c,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new l(c,0,0),this.len=0),this},d.prototype.ldelim=function(){var t=this.head,e=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=e,this.len+=n),this},d.prototype.finish=function(){for(var t=this.head.next,e=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,e,n),n+=t.len,t=t.next;return e},d._configure=function(t){r=t,d.create=p(),r._configure()}},function(t,e,n){"use strict";t.exports=l;var r,o=n(154),i=o.LongBits,a=o.utf8;function s(t,e){return RangeError("index out of range: "+t.pos+" + "+(e||1)+" > "+t.len)}function l(t){this.buf=t,this.pos=0,this.len=t.length}var c,u="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new l(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new l(t);throw Error("illegal buffer")},d=function(){return o.Buffer?function(t){return(l.create=function(t){return o.Buffer.isBuffer(t)?new r(t):u(t)})(t)}:u};function p(){var t=new i(0,0),e=0;if(!(this.len-this.pos>4)){for(;e<3;++e){if(this.pos>=this.len)throw s(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*e)>>>0,t}for(;e<4;++e)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*e)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(e=0,this.len-this.pos>4){for(;e<5;++e)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}else for(;e<5;++e){if(this.pos>=this.len)throw s(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*e+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function f(t,e){return(t[e-4]|t[e-3]<<8|t[e-2]<<16|t[e-1]<<24)>>>0}function h(){if(this.pos+8>this.len)throw s(this,8);return new i(f(this.buf,this.pos+=4),f(this.buf,this.pos+=4))}l.create=d(),l.prototype._slice=o.Array.prototype.subarray||o.Array.prototype.slice,l.prototype.uint32=(c=4294967295,function(){if(c=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)return c;if(c=(c|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)return c;if((this.pos+=5)>this.len)throw this.pos=this.len,s(this,10);return c}),l.prototype.int32=function(){return 0|this.uint32()},l.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},l.prototype.bool=function(){return 0!==this.uint32()},l.prototype.fixed32=function(){if(this.pos+4>this.len)throw s(this,4);return f(this.buf,this.pos+=4)},l.prototype.sfixed32=function(){if(this.pos+4>this.len)throw s(this,4);return 0|f(this.buf,this.pos+=4)},l.prototype.float=function(){if(this.pos+4>this.len)throw s(this,4);var t=o.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},l.prototype.double=function(){if(this.pos+8>this.len)throw s(this,4);var t=o.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},l.prototype.bytes=function(){var t=this.uint32(),e=this.pos,n=this.pos+t;if(n>this.len)throw s(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(e,n):e===n?new this.buf.constructor(0):this._slice.call(this.buf,e,n)},l.prototype.string=function(){var t=this.bytes();return a.read(t,0,t.length)},l.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw s(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw s(this)}while(128&this.buf[this.pos++]);return this},l.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},l._configure=function(t){r=t,l.create=d(),r._configure();var e=o.Long?"toLong":"toNumber";o.merge(l.prototype,{int64:function(){return p.call(this)[e](!1)},uint64:function(){return p.call(this)[e](!0)},sint64:function(){return p.call(this).zzDecode()[e](!1)},fixed64:function(){return h.call(this)[e](!0)},sfixed64:function(){return h.call(this)[e](!1)}})}},function(t,e){t.exports='<div data-id="copyBar" class="ws-clipboard" role="alert">\n\t<div data-id="contentBar" class="ws-clipboard-body">\n\t\t<div class="ws-clipboard-header">\n\t\t\t<h1 class="ws-clipboard-title">${clipboard.content}</h1>\n\t\t</div>\n\n\t\t<div class="ws-clipboard-item" data-id="text">\n\t\t\t<div>\n\t\t\t\t<div data-id="textarea" class="ws-clipboard-text-area"></div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<div class="ws-clipboard-item" data-id="more">\n\t\t\t<div data-id="image">\n\t\t\t\t<b>${clipboard.image}</b>\n\t\t\t</div>\n\t\t\t<div data-id="files">\n\t\t\t\t<b>${clipboard.files}</b>\n\t\t\t\t<div id="wsFileList" class="ws-clipboard-file-list"></div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div class="ws-clipboard-control">\n\t\t<div data-id="minimizedInfoBar" class="ws-btn-group">\n\t\t\t<button data-id="text" class="ws-btn ws-btn--xs ws-btn--selected ws-icon-docs"> ${clipboard.copy}</button>\n\t\t\t<button data-id="more" class="ws-btn ws-btn--xs ">${clipboard.more}</button>\n\t\t</div>\n\n\t\t<button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${clipboard.discard}</button>\n\t</div>\n</div>\n'},function(t,e){t.exports='<div data-id="pasteDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="pasteDialog-title" aria-describedby="pasteDialog-description">\n    <div class="ws-paste">\n        <div id="pasteDialog-title" data-id="title" class="ws-paste-header"></div>\n        <div class="ws-paste-content">\n            <div id="pasteDialog-description" data-id="message" class="ws-paste-message"></div>\n            <textarea data-id="textarea" class="ws-paste-textarea init-focus"></textarea>\n            <button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled" role="button">${clipboard.cancel}</button>\n        </div>\n    </div>\n</div>\n'},function(t,e){t.exports='<div data-id="playbackBar" class="ws-toolbar-container" role="toolbar">\n\t<div class="ws-playback">\n\t\t<div class="ws-playback-controls ws-btn-group">\n\t\t\t<button class="ws-btn ws-icon-play" data-id="play"></button>\n\t\t\t<button class="ws-btn ws-icon-stop" data-id="stop"></button>\n\t\t\t<button class="ws-btn ws-icon-to-end" data-id="step">+1</button>\n\t\t\t<button class="ws-btn ws-icon-to-end-alt" data-id="10step">+10</button>\n\t\t\t<button class="ws-btn ws-icon-to-end-alt" data-id="100step">+100</button>\n\t\t\t<button class="ws-btn ws-right ws-icon-back" data-id="reset"></button>\n\t\t</div>\n\t\t<div class="ws-playback-container">\n\t\t\t<div data-id="progress" class="ws-progress">\n\t\t\t\t<div style="width: 0%;" class="ws-progress-bar ws-playback-progress">\n\t\t\t\t\t<span class="ws-progress-text">Progress: <em><span data-id="current"></span>/<span data-id="total"></span></em></span>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>'},function(t,e){t.exports='<div data-id="mirrorBar" class="ws-toolbar-container" role="toolbar">\n\t<div class="ws-mirror">\n\t</div>\n</div>'},function(t,e){t.exports='<div data-id="windowSwitcher" class="ws-modal-container catch-focus" role="dialog" aria-label="${accessibility.switcher.title}" aria-describedby="switcher-description">\n\t<div id="switcher-description" style="display: none;">${accessibility.switcher.description}</div>\n\t<div id="switcher-modal-blocked-description" style="display: none;">${accessibility.switcher.modalBlocked.description}</div>\n\t<div class="ws-window-switcher">\n        <div data-id="title" class="ws-window-switcher-header">${accessibility.switcher.title}</div>\n        <div class="ws-window-switcher-content">\n        </div>\n        <button data-id="closeBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled">${accessibility.switcher.cancel}</button>\n    </div>\n</div>\n'},function(t,e){t.exports='<div data-id="commonDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="commonDialog-title" aria-describedby="commonDialog-description">\n    <div id="dialogModal" class="ws-dialog">\n        <div data-id="header" class="ws-header"></div>\n        <div id="ajaxProgress" class="ws-progress ws-hidden">\n            <div class="ws-spinner">\n                <div class="ws-spinner-dot-1"></div>\n                <div class="ws-spinner-dot-2"></div>\n            </div>\n        </div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>\n<div data-id="commonBar" class="ws-toolbar-container ws-commonbar" role="alert">\n    <div data-id="contentBar" class="ws-messagebar">\n        <div data-id="header" class="ws-header ws-title"></div>\n        <div data-id="content" class="ws-dialog-content"></div>\n    </div>\n</div>'},function(t,e){t.exports='<div data-id="networkBar" class="ws-toolbar-container" role="alert">\n    <div data-id="contentBar" class="ws-networkbar">\n        <div class="ws-toolbar-container">\n            <p>\n                <span data-id="message"></span>\n                <span class="ws-right">\n                     <a href="javascript:void(0)" data-id="hide">${dialog.networkMonitor.hide}</a>\n                </span>\n            </p>\n        </div>\n    </div>\n</div>'},function(t,e){t.exports='<div data-id="autoSaveBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="autoSaveBar-title" aria-describedby="autoSaveBar-description">\n\t<div class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="autoSaveBar-title" class="ws-files-title">${files.saveTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="autoSaveBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.saveName}\n\t\t\t\t</p>\n\t\t\t\t\n\t\t\t\t<input data-id="autoSaveInput" class="ws-form-field ws-form-underscore init-focus" placeholder="${files.saveNamePh}" type="text" tabindex="0">\n\t\t\t\t\n\t\t\t\t<div data-id="fileDialogErrorMessage" >\n\t\t\t\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="autoSaveButton" class="ws-files-btn" role="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-download-cloud ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.save}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="cancelAutoSaveButton" class="ws-files-btn" role="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n\n<div data-id="autoUploadBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="autoUploadBar-title" aria-describedby="autoUploadBar-description">\n\t<div  class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="autoUploadBar-title" class="ws-files-title">${files.openTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="autoUploadBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.openInst}\n\t\t\t\t</p>\n\n\t\t\t\t<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n\t\t\t\t\t<div data-id="progress" class="ws-progress">\n\t\t\t\t\t\t<div data-id="uploadProgress" style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t\t\t\t<span data-id="uploadProgress" class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div data-id="fileDialogErrorMessage" >\n\t\t\t\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<form data-id="autoFileupload" tabindex="-1" role="presentation">\n\t\t\t\t\t\t<input data-id="autoFileInput" id="webswingUploadBrowse" name="files[]" accept="" type="file" class="ws-files-btn--hidden" aria-hidden="true" tabindex="-1" />\n\n\t\t\t\t\t\t<button data-id="uploadAutoUploadButton" class="ws-files-btn init-focus" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t\t<span class="ws-icon-upload-cloud ws-files-btn-icon"></span>\n\t\t\t\t\t\t\t<span>${files.openBrowse}</span>\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</form>\n\t\t\t\t</li>\n\n\t\t\t\t<li class="ws-files-btn-panel">\n\t\t\t\t\t<button data-id="cancelAutoUploadButton" class="ws-files-btn" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>\n\n<div data-id="uploadBar" class="ws-filebar" role="alert">\n\t<div data-id="fileDropArea" class="ws-filebar-dropArea">\n\t\t<p class="ws-filebar-dropArea-label">${files.dnd}</p>\n\t</div>\n\t<div data-id="fileDialogTransferProgressBar" class="ws-progressbar-container">\n\t\t<div data-id="progress" class="ws-progress">\n\t\t\t<div data-id="uploadProgress" style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t<span data-id="uploadProgress" class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n\t<div data-id="fileDialogErrorMessage" >\n\t\t<div data-id="fileDialogErrorMessageContent" class="ws-message ws-message--error"></div>\n\t</div>\n\t<div data-id="fileDialogSuccessMessage" >\n\t\t<div data-id="fileDialogSuccessMessageContent" class="ws-message ws-message--success"></div>\n\t</div>\n\t\n\t<div class="ws-toolbar-container">\n\t\t<div data-id="fileActionButtonGroup" class="ws-btn-group">\n\t\t\t<button data-id="downloadSelectedButton" class="ws-btn ws-btn--xs ws-icon-download-cloud" title="${files.downloadTtip}"> ${files.download}</button>\n\t\t\t<div data-id="fileUploadBtn" class="ws-btn ws-btn--xs ws-filebar-upload ">\n\t\t\t\t<span><span class="ws-icon-upload-cloud"> </span>${files.upload}</span>\n\t\t\t</div>\n\t\t\t<button data-id="deleteSelectedButton" class="ws-btn ws-btn--xs ws-icon-trash-empty" title="${files.deleteTtip}"> ${files.delete}</button>\n\t\t</div>\n\t\t<form class="ws-filebar-uploadform" data-id="fileupload">\n\t\t\t<input accept="" data-id="fileInput" name="files[]" class="ws-filebar-inputupload" type="file">\n\t\t</form>\n\t\t<button data-id="cancelBtn" class="ws-btn ws-btn--xs ws-right ws-icon-cancel-circled"> ${files.cancel}</button>\n\t</div>\n</div>\n\n<div data-id="downloadLinkDialog" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="downloadLink-title" aria-describedby="downloadLink-description">\n    <div class="ws-downloadlink">\n        <div id="downloadLink-title" data-id="title" class="ws-downloadlink-header"></div>\n        <div class="ws-downloadlink-content">\n            <div id="downloadLink-description" data-id="message" class="ws-downloadlink-message"></div>\n            \n            <div class="ws-downloadlink-btnPanel">\n\t\t\t\t<button data-id="downloadLinkButton" class="ws-btn ws-btn--xs init-focus" role="button" tabindex="0"></button>\n\t\t\t\t<button data-id="cancelDownloadLinkButton" class="ws-btn ws-btn--xs ws-icon-cancel-circled" role="button" tabindex="0">${files.cancel}</button>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div data-id="directTransferDownloadBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="directTransferDownloadBar-title" aria-describedby="directTransferDownloadBar-description">\n\t<div  class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="directTransferDownloadBar-title" class="ws-files-title">${files.dtDownloadProgressTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="directTransferDownloadBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.dtDownloadProgressSingle}\n\t\t\t\t</p>\n\n\t\t\t\t<div data-id="dtDownloadProgressBar" class="ws-progressbar-container">\n\t\t\t\t\t<div data-id="progress" class="ws-progress">\n\t\t\t\t\t\t<div data-id="downloadProgress" style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t\t\t\t<span data-id="downloadProgress" class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div data-id="dtDownloadErrorMessage">\n\t\t\t\t\t<div data-id="dtDownloadErrorMessageContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li>\n\t\t\t\t\t<button data-id="dtCancelDownloadButton" class="ws-files-btn" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>'},function(t,e){t.exports='<div data-id="uploadDnDBar" class="ws-modal-container catch-focus" role="dialog" aria-labelledby="uploadDnDBar-title" aria-describedby="uploadDnDBar-description">\n\t<div class="ws-files">\n\t\t<div class="ws-files-header">\n\t\t\t<h2 id="uploadDnDBar-title" class="ws-files-title">${files.uploadDnDTitle}</h2>\n\t\t</div>\n\n\t\t<div class="ws-files-content">\n\t\t\t<div class="ws-files-content-inner">\n\t\t\t\t<p id="uploadDnDBar-description" class="ws-files-instructions">\n\t\t\t\t\t${files.uploadDnDProgress}\n\t\t\t\t</p>\n\n\t\t\t\t<div data-id="uploadDnDBar-progressContainer" class="ws-progressbar-container">\n\t\t\t\t\t<div data-id="uploadDnDBar-progress" class="ws-progress">\n\t\t\t\t\t\t<div data-id="uploadDnDBar-progressBar" style="width: 0%;" class="ws-progress-bar">\n\t\t\t\t\t\t\t<span data-id="uploadDnDBar-progressText" class="ws-progress-text">${files.progress} <em>0%</em></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div data-id="uploadDnDBar-error">\n\t\t\t\t\t<div data-id="uploadDnDBar-errorContent" class="ws-message ws-message--error"></div>\n\t\t\t\t</div>\n\t\t\t</div>\n\n\t\t\t<ul class="ws-files-btn-container" role="presentation">\n\t\t\t\t<li>\n\t\t\t\t\t<button data-id="uploadDnDBar-cancel" class="ws-files-btn" role="button" type="button" tabindex="0">\n\t\t\t\t\t\t<span class="ws-icon-cancel-circled ws-files-btn-icon"></span>\n\t\t\t\t\t\t<span>${files.cancel}</span>\n\t\t\t\t\t</button>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t</div>\n\t</div>\n</div>'},function(t,e){t.exports='<div data-id="touchBar" class="ws-toolbar-container touch-control" role="toolbar">\n\t<div data-id="contentBar" class="ws-touchbar">\n\t\t<div class="ws-toolbar-container">\n\t\t\t<div class="align-left">\n\t\t\t</div>\n\t\t\t<div class="align-center">\n\t\t\t</div>\n\t\t\t<div class="align-right">\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n<div id="ws-touch-effect" class="touch-control"></div>\n<div class="ws-drag-effect touch-control"></div>\n<div id="ws-canvas-scale" class="touch-control">\n\t<span class="scale-value"></span>\n\t<span class="scale-restore ws-icon-search"></span>\n</div>\n<div id="ws-toast" class="touch-control"></div>\n<img id="ws-cursor" class="default"></img>'},function(t,e){t.exports='<div data-id="taskbar" class="ws-taskbar" role="toolbar" draggable="false">\n\t<div class="ws-taskbar-button" draggable="false">\n\t\t<img class="ws-taskbar-img" draggable="false">\n\t</div>\n\t<div class="ws-taskbar-menu">\n\t\t<ul class="ws-taskbar-list">\n\t\t</ul>\n\t</div>\n</div>'},function(t,e,n){"use strict";var r=e;function o(){r.util._configure(),r.Writer._configure(r.BufferWriter),r.Reader._configure(r.BufferReader)}r.build="minimal",r.Writer=n(361),r.BufferWriter=n(383),r.Reader=n(362),r.BufferReader=n(384),r.util=n(154),r.rpc=n(385),r.roots=n(387),r.configure=o,o()},function(t,e,n){"use strict";t.exports=function(t,e){var n=new Array(arguments.length-1),r=0,o=2,i=!0;for(;o<arguments.length;)n[r++]=arguments[o++];return new Promise((function(o,a){n[r]=function(t){if(i)if(i=!1,t)a(t);else{for(var e=new Array(arguments.length-1),n=0;n<e.length;)e[n++]=arguments[n];o.apply(null,e)}};try{t.apply(e||null,n)}catch(t){i&&(i=!1,a(t))}}))}},function(t,e,n){"use strict";var r=e;r.length=function(t){var e=t.length;if(!e)return 0;for(var n=0;--e%4>1&&"="===t.charAt(e);)++n;return Math.ceil(3*t.length)/4-n};for(var o=new Array(64),i=new Array(123),a=0;a<64;)i[o[a]=a<26?a+65:a<52?a+71:a<62?a-4:a-59|43]=a++;r.encode=function(t,e,n){for(var r,i=null,a=[],s=0,l=0;e<n;){var c=t[e++];switch(l){case 0:a[s++]=o[c>>2],r=(3&c)<<4,l=1;break;case 1:a[s++]=o[r|c>>4],r=(15&c)<<2,l=2;break;case 2:a[s++]=o[r|c>>6],a[s++]=o[63&c],l=0}s>8191&&((i||(i=[])).push(String.fromCharCode.apply(String,a)),s=0)}return l&&(a[s++]=o[r],a[s++]=61,1===l&&(a[s++]=61)),i?(s&&i.push(String.fromCharCode.apply(String,a.slice(0,s))),i.join("")):String.fromCharCode.apply(String,a.slice(0,s))};r.decode=function(t,e,n){for(var r,o=n,a=0,s=0;s<t.length;){var l=t.charCodeAt(s++);if(61===l&&a>1)break;if(void 0===(l=i[l]))throw Error("invalid encoding");switch(a){case 0:r=l,a=1;break;case 1:e[n++]=r<<2|(48&l)>>4,r=l,a=2;break;case 2:e[n++]=(15&r)<<4|(60&l)>>2,r=l,a=3;break;case 3:e[n++]=(3&r)<<6|l,a=0}}if(1===a)throw Error("invalid encoding");return n-o},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,e,n){"use strict";function r(){this._listeners={}}t.exports=r,r.prototype.on=function(t,e,n){return(this._listeners[t]||(this._listeners[t]=[])).push({fn:e,ctx:n||this}),this},r.prototype.off=function(t,e){if(void 0===t)this._listeners={};else if(void 0===e)this._listeners[t]=[];else for(var n=this._listeners[t],r=0;r<n.length;)n[r].fn===e?n.splice(r,1):++r;return this},r.prototype.emit=function(t){var e=this._listeners[t];if(e){for(var n=[],r=1;r<arguments.length;)n.push(arguments[r++]);for(r=0;r<e.length;)e[r].fn.apply(e[r++].ctx,n)}return this}},function(t,e,n){"use strict";function r(t){return"undefined"!=typeof Float32Array?function(){var e=new Float32Array([-0]),n=new Uint8Array(e.buffer),r=128===n[3];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3]}function i(t,r,o){e[0]=t,r[o]=n[3],r[o+1]=n[2],r[o+2]=n[1],r[o+3]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],e[0]}function s(t,r){return n[3]=t[r],n[2]=t[r+1],n[1]=t[r+2],n[0]=t[r+3],e[0]}t.writeFloatLE=r?o:i,t.writeFloatBE=r?i:o,t.readFloatLE=r?a:s,t.readFloatBE=r?s:a}():function(){function e(t,e,n,r){var o=e<0?1:0;if(o&&(e=-e),0===e)t(1/e>0?0:2147483648,n,r);else if(isNaN(e))t(2143289344,n,r);else if(e>34028234663852886e22)t((o<<31|2139095040)>>>0,n,r);else if(e<11754943508222875e-54)t((o<<31|Math.round(e/1401298464324817e-60))>>>0,n,r);else{var i=Math.floor(Math.log(e)/Math.LN2);t((o<<31|i+127<<23|8388607&Math.round(e*Math.pow(2,-i)*8388608))>>>0,n,r)}}function n(t,e,n){var r=t(e,n),o=2*(r>>31)+1,i=r>>>23&255,a=8388607&r;return 255===i?a?NaN:o*(1/0):0===i?1401298464324817e-60*o*a:o*Math.pow(2,i-150)*(a+8388608)}t.writeFloatLE=e.bind(null,o),t.writeFloatBE=e.bind(null,i),t.readFloatLE=n.bind(null,a),t.readFloatBE=n.bind(null,s)}(),"undefined"!=typeof Float64Array?function(){var e=new Float64Array([-0]),n=new Uint8Array(e.buffer),r=128===n[7];function o(t,r,o){e[0]=t,r[o]=n[0],r[o+1]=n[1],r[o+2]=n[2],r[o+3]=n[3],r[o+4]=n[4],r[o+5]=n[5],r[o+6]=n[6],r[o+7]=n[7]}function i(t,r,o){e[0]=t,r[o]=n[7],r[o+1]=n[6],r[o+2]=n[5],r[o+3]=n[4],r[o+4]=n[3],r[o+5]=n[2],r[o+6]=n[1],r[o+7]=n[0]}function a(t,r){return n[0]=t[r],n[1]=t[r+1],n[2]=t[r+2],n[3]=t[r+3],n[4]=t[r+4],n[5]=t[r+5],n[6]=t[r+6],n[7]=t[r+7],e[0]}function s(t,r){return n[7]=t[r],n[6]=t[r+1],n[5]=t[r+2],n[4]=t[r+3],n[3]=t[r+4],n[2]=t[r+5],n[1]=t[r+6],n[0]=t[r+7],e[0]}t.writeDoubleLE=r?o:i,t.writeDoubleBE=r?i:o,t.readDoubleLE=r?a:s,t.readDoubleBE=r?s:a}():function(){function e(t,e,n,r,o,i){var a=r<0?1:0;if(a&&(r=-r),0===r)t(0,o,i+e),t(1/r>0?0:2147483648,o,i+n);else if(isNaN(r))t(0,o,i+e),t(2146959360,o,i+n);else if(r>17976931348623157e292)t(0,o,i+e),t((a<<31|2146435072)>>>0,o,i+n);else{var s;if(r<22250738585072014e-324)t((s=r/5e-324)>>>0,o,i+e),t((a<<31|s/4294967296)>>>0,o,i+n);else{var l=Math.floor(Math.log(r)/Math.LN2);1024===l&&(l=1023),t(4503599627370496*(s=r*Math.pow(2,-l))>>>0,o,i+e),t((a<<31|l+1023<<20|1048576*s&1048575)>>>0,o,i+n)}}}function n(t,e,n,r,o){var i=t(r,o+e),a=t(r,o+n),s=2*(a>>31)+1,l=a>>>20&2047,c=4294967296*(1048575&a)+i;return 2047===l?c?NaN:s*(1/0):0===l?5e-324*s*c:s*Math.pow(2,l-1075)*(c+4503599627370496)}t.writeDoubleLE=e.bind(null,o,0,4),t.writeDoubleBE=e.bind(null,i,4,0),t.readDoubleLE=n.bind(null,a,0,4),t.readDoubleBE=n.bind(null,s,4,0)}(),t}function o(t,e,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24}function i(t,e,n){e[n]=t>>>24,e[n+1]=t>>>16&255,e[n+2]=t>>>8&255,e[n+3]=255&t}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function s(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}t.exports=r(r)},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(t){}return null}module.exports=inquire},function(t,e,n){"use strict";var r=e;r.length=function(t){for(var e=0,n=0,r=0;r<t.length;++r)(n=t.charCodeAt(r))<128?e+=1:n<2048?e+=2:55296==(64512&n)&&56320==(64512&t.charCodeAt(r+1))?(++r,e+=4):e+=3;return e},r.read=function(t,e,n){if(n-e<1)return"";for(var r,o=null,i=[],a=0;e<n;)(r=t[e++])<128?i[a++]=r:r>191&&r<224?i[a++]=(31&r)<<6|63&t[e++]:r>239&&r<365?(r=((7&r)<<18|(63&t[e++])<<12|(63&t[e++])<<6|63&t[e++])-65536,i[a++]=55296+(r>>10),i[a++]=56320+(1023&r)):i[a++]=(15&r)<<12|(63&t[e++])<<6|63&t[e++],a>8191&&((o||(o=[])).push(String.fromCharCode.apply(String,i)),a=0);return o?(a&&o.push(String.fromCharCode.apply(String,i.slice(0,a))),o.join("")):String.fromCharCode.apply(String,i.slice(0,a))},r.write=function(t,e,n){for(var r,o,i=n,a=0;a<t.length;++a)(r=t.charCodeAt(a))<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&56320==(64512&(o=t.charCodeAt(a+1)))?(r=65536+((1023&r)<<10)+(1023&o),++a,e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128);return n-i}},function(t,e,n){"use strict";t.exports=function(t,e,n){var r=n||8192,o=r>>>1,i=null,a=r;return function(n){if(n<1||n>o)return t(n);a+n>r&&(i=t(r),a=0);var s=e.call(i,a,a+=n);return 7&a&&(a=1+(7|a)),s}}},function(t,e,n){"use strict";t.exports=o;var r=n(154);function o(t,e){this.lo=t>>>0,this.hi=e>>>0}var i=o.zero=new o(0,0);i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1};var a=o.zeroHash="\0\0\0\0\0\0\0\0";o.fromNumber=function(t){if(0===t)return i;var e=t<0;e&&(t=-t);var n=t>>>0,r=(t-n)/4294967296>>>0;return e&&(r=~r>>>0,n=~n>>>0,++n>4294967295&&(n=0,++r>4294967295&&(r=0))),new o(n,r)},o.from=function(t){if("number"==typeof t)return o.fromNumber(t);if(r.isString(t)){if(!r.Long)return o.fromNumber(parseInt(t,10));t=r.Long.fromString(t)}return t.low||t.high?new o(t.low>>>0,t.high>>>0):i},o.prototype.toNumber=function(t){if(!t&&this.hi>>>31){var e=1+~this.lo>>>0,n=~this.hi>>>0;return e||(n=n+1>>>0),-(e+4294967296*n)}return this.lo+4294967296*this.hi},o.prototype.toLong=function(t){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}};var s=String.prototype.charCodeAt;o.fromHash=function(t){return t===a?i:new o((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},o.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},o.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},o.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},o.prototype.length=function(){var t=this.lo,e=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0===n?0===e?t<16384?t<128?1:2:t<2097152?3:4:e<16384?e<128?5:6:e<2097152?7:8:n<128?9:10}},function(t,e,n){"use strict";t.exports=i;var r=n(361);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(154);function i(){r.call(this)}function a(t,e,n){t.length<40?o.utf8.write(t,e,n):e.utf8Write?e.utf8Write(t,n):e.write(t,n)}i._configure=function(){i.alloc=o._Buffer_allocUnsafe,i.writeBytesBuffer=o.Buffer&&o.Buffer.prototype instanceof Uint8Array&&"set"===o.Buffer.prototype.set.name?function(t,e,n){e.set(t,n)}:function(t,e,n){if(t.copy)t.copy(e,n,0,t.length);else for(var r=0;r<t.length;)e[n++]=t[r++]}},i.prototype.bytes=function(t){o.isString(t)&&(t=o._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(i.writeBytesBuffer,e,t),this},i.prototype.string=function(t){var e=o.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},i._configure()},function(t,e,n){"use strict";t.exports=i;var r=n(362);(i.prototype=Object.create(r.prototype)).constructor=i;var o=n(154);function i(t){r.call(this,t)}i._configure=function(){o.Buffer&&(i.prototype._slice=o.Buffer.prototype.slice)},i.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},i._configure()},function(t,e,n){"use strict";e.Service=n(386)},function(t,e,n){"use strict";t.exports=o;var r=n(154);function o(t,e,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(e),this.responseDelimited=Boolean(n)}(o.prototype=Object.create(r.EventEmitter.prototype)).constructor=o,o.prototype.rpcCall=function t(e,n,o,i,a){if(!i)throw TypeError("request must be specified");var s=this;if(!a)return r.asPromise(t,s,e,n,o,i);if(s.rpcImpl)try{return s.rpcImpl(e,n[s.requestDelimited?"encodeDelimited":"encode"](i).finish(),(function(t,n){if(t)return s.emit("error",t,e),a(t);if(null!==n){if(!(n instanceof o))try{n=o[s.responseDelimited?"decodeDelimited":"decode"](n)}catch(t){return s.emit("error",t,e),a(t)}return s.emit("data",n,e),a(null,n)}s.end(!0)}))}catch(t){return s.emit("error",t,e),void setTimeout((function(){a(t)}),0)}else setTimeout((function(){a(Error("already ended"))}),0)},o.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,e,n){"use strict";t.exports={}},function(t,e,n){"use strict";n.r(e);n(358);var r=n(1),o=n(13),i=n(109);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?d(t):e}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",login:"login.login",connect:"socket.connect",showDialog:"dialog.show",dialogs:"dialog.content",disposeIdentity:"identity.dispose",disposeBase:"base.dispose",disposeRender:"render.dispose",disposeDock:"dock.dispose",disposeCanvas:"canvas.dispose",disposeAccessible:"accessible.dispose",disposeTouch:"touch.dispose",disposeInput:"input.dispose",disposeSocket:"socket.dispose",disposeFileDialog:"files.close",disposeClipboard:"clipboard.dispose",disposePing:"ping.dispose",disposeTaskbar:"taskbar.dispose",disposeAudio:"audio.dispose",showPlaybackControls:"playback.showControls",externalApi:"external.api",setInstanceTab:"dock.setInstanceTab",canvasConfig:"canvas.canvasConfig",clearInstanceId:"socket.clearInstanceId"},h=i.commonProto.TabStateMsgInProto.TabStateTypeProto,g=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(u,t);var e,n,o,i=c(u);function u(t,e,n){var o,a,s,l;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this,t)).rootElement=e,o.options=n,a=d(o),l=function(){o.configure(o.options),Object(r.u)(o.api.cfg.connectionUrl+"rest/fetchTimeout").then((function(){o.init()}))},(s="ready")in a?Object.defineProperty(a,s,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[s]=l,o}return e=u,(n=[{key:"init",value:function(){var t=this;"function"==typeof this.api.cfg.onReady&&this.api.login((function(){t.api.cfg.onReady(t.api.externalApi())})),this.api.cfg.autoStart?this.api.start():this.api.showDialog(this.api.dialogs.readyDialog)}},{key:"provides",value:function(){var t=this;return{"webswing.config":this.defaultCtxConfig(),"webswing.start":this.start,"webswing.newSession":this.newSession,"webswing.reTrySession":this.reTrySession,"webswing.disconnect":this.disconnect,"webswing.setControl":this.setControl,"webswing.configure":this.configure,"webswing.isUndocked":function(){return t.api.cfg.undockedStart}}}},{key:"defaultCtxConfig",value:function(){return{rootElementWrapper:v(this.rootElement),rootElement:w(this.rootElement),autoStart:!1,autoReconnect:null,disableLogout:!1,syncClipboard:!1,args:null,connectionUrl:location.origin+location.pathname,mirrorConnectionUrl:null,mirror:!1,recordingPlayback:!1,typedArraysSupported:Object(r.v)(),recording:!1,debugPort:null,javaCallTimeout:3e3,documentBase:document.location.origin+document.location.pathname,ieVersion:Object(r.h)(),isMac:Object(r.i)(),clientId:null,browserId:null,viewId:null,hasControl:!1,mirrorMode:!1,canPaint:!1,virtualKB:!1,debugLog:!1,traceLog:!1,touchMode:!1,pingParams:{count:6,interval:5,maxLatency:500,notifyIf:3},windowsListener:{windowOpening:function(t){},windowOpened:function(t){},windowClosing:function(t){},windowClosed:function(t){},windowModalBlockedChanged:function(t){},windowUndocked:function(t){},windowDocked:function(t){}},filesListener:null,hideTouchBar:!1,undockedStart:!1,undockedInstanceId:null,directTransfer:!1,directDrawSupported:!0}}},{key:"start",value:function(){var t=this;"tid_"!==window.name.substr(0,4)&&(window.name="tid_"+Object(r.b)()),Object(r.d)()?this.api.login((function(){t.api.cfg.mirror?t.api.showDialog(t.api.dialogs.initializingMirrorDialog):t.api.showDialog(t.api.dialogs.initializingDialog),t.api.connect()}),(function(){t.api.showDialog(t.api.dialogs.disconnectedDialog)})):this.api.showDialog(this.api.dialogs.cookiesDisabledDialog)}},{key:"newSession",value:function(){this.api.cfg.undockedStart||(this.api.disconnect(),this.api.disposeIdentity(),this.api.clearInstanceId(),this.api.start())}},{key:"reTrySession",value:function(){this.api.disconnect(),this.api.start()}},{key:"disconnect",value:function(){this.api.disposeFileDialog(),this.api.disposeBase(),this.api.disposeRender(),this.api.disposeDock(),this.api.disposeInput(),this.api.disposeTouch(),this.api.canvasConfig.disposeOnDisconnect&&this.api.disposeCanvas(),this.api.disposeAccessible(),this.api.disposeAudio(),this.api.disposeSocket(),this.api.disposeClipboard(),this.api.disposePing(),this.api.disposeTaskbar()}},{key:"configure",value:function(t,e){var n,o,i,s=this.api.cfg;if(null!=t&&(s.autoStart=null!=t.autoStart?JSON.parse(t.autoStart):s.autoStart,s.autoReconnect=null!=t.autoReconnect?JSON.parse(t.autoReconnect):s.autoReconnect,s.disableLogout=null!=t.disableLogout?JSON.parse(t.disableLogout):s.disableLogout,s.syncClipboard=null!=t.syncClipboard?JSON.parse(t.syncClipboard):s.syncClipboard,s.securityToken=null!=t.securityToken?t.securityToken:s.securityToken,s.realm=null!=t.realm?t.realm:s.realm,s.args=null!=t.args?t.args:s.args,s.recording=null!=t.recording?JSON.parse(t.recording):s.recording,s.clientId=null!=t.clientId?t.clientId:s.clientId,s.mirror=null!=t.mirrorMode?JSON.parse(t.mirrorMode):s.mirror,s.connectionUrl=null!=t.connectionUrl?t.connectionUrl:s.connectionUrl,s.mirrorConnectionUrl=null!=t.mirrorConnectionUrl?t.mirrorConnectionUrl:s.mirrorConnectionUrl,s.debugPort=null!=t.debugPort?t.debugPort:s.debugPort,s.debugLog=null!=t.debugLog?JSON.parse(t.debugLog):s.debugLog,s.traceLog=null!=t.traceLog?JSON.parse(t.traceLog):s.traceLog,s.javaCallTimeout=null!=t.javaCallTimeout?parseInt(t.javaCallTimeout,10):s.javaCallTimeout,s.pingParams=null!=t.pingParams?t.pingParams:s.pingParams,"/"!==s.connectionUrl.substr(s.connectionUrl.length-1)&&(s.connectionUrl=s.connectionUrl+"/"),null!=s.mirrorConnectionUrl&&"/"!==s.mirrorConnectionUrl.substr(s.mirrorConnectionUrl.length-1)&&(s.mirrorConnectionUrl=s.mirrorConnectionUrl+"/"),null!=t.recordingPlayback&&(s.recordingPlayback=t.recordingPlayback,s.mirror=!0,s.mirrorMode=!0,this.api.showPlaybackControls()),s.onReady="function"==typeof t.onReady?t.onReady:s.onReady,s.windowsListener="object"===a(t.windowsListener)?t.windowsListener:s.windowsListener,s.windowsListener="object"===a(t.compositingWindowsListener)?t.compositingWindowsListener:s.windowsListener,s.filesListener="object"===a(t.filesListener)?t.filesListener:s.filesListener,s.hideTouchBar=null!=t.hideTouchBar?JSON.parse(t.hideTouchBar):s.hideTouchBar,s.directDrawSupported=null!=t.directDrawSupported?JSON.parse(t.directDrawSupported):s.typedArraysSupported&&!(s.ieVersion&&s.ieVersion<=10)),null!=(e=null!=e?e:(n=s.rootElementWrapper,o={},(i=n.querySelectorAll("webswing-param")).length>0&&i.forEach((function(t){var e=t.getAttribute("name"),n=t.getAttribute("value");null!==e&&(o[e]=n)})),o)))for(var l in s.params=[],e)"string"==typeof e[l]&&s.params.push({name:l,value:e[l]});Object(r.y)()&&(s.undockedStart=!0,this.api.cfg.undockedInstanceId=window.name.split("-")[1],this.api.setInstanceTab(this.api.cfg.undockedInstanceId,window.name,h.Disconnected,g.Undocked),function(){if(window.webswingInit){var t=window.webswingInit,e=10,n=10,r=t.left,o=t.top,i=t.width,a=t.height;if(!t.screenPosOverride){var s=window.outerHeight-window.innerHeight-8,l=window.outerWidth-window.innerWidth-8;o-=s,r-=l,e+=s,n+=l}var c=r-window.screenLeft,u=o-window.screenTop,d=i-window.innerWidth,p=a-window.innerHeight;(Math.abs(d)>10||Math.abs(p)>10)&&window.resizeBy(d,p),(Math.abs(c)>n||Math.abs(u)>e)&&window.moveBy(c,u),window.webswingInit=void 0}}())}},{key:"setControl",value:function(t){this.api.cfg.hasControl=!!t}}])&&s(e.prototype,n),o&&s(e,o),u}(o.b);function v(t){return t.classList.add("webswing-element"),t}function w(t){var e=t.querySelector(".webswing-element-content");if(!e){var n=Array.from(t.children);(e=document.createElement("div")).classList.add("webswing-element-content"),t.appendChild(e),n.forEach((function(t){e.appendChild(t)}))}return e}var b=n(32),m=n(39);function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function E(t,e){return(E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=M(t);if(e){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return j(this,n)}}function j(t,e){return!e||"object"!==O(e)&&"function"!=typeof e?x(t):e}function x(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function A(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var D={cfg:"webswing.config",disconnect:"webswing.disconnect",getInstanceId:"socket.instanceId",send:"socket.send",sendHandshake:"socket.sendHandshake",getDesktopSize:"canvas.getDesktopSize",processComponentTree:"canvas.processComponentTree",registerInput:"input.register",registerClipboard:"clipboard.register",updateClipboard:"clipboard.updateLocalData",sendInput:"input.sendInput",sendSimpleEvent:"socket.sendSimpleEvent",registerTouch:"touch.register",initCanvas:"canvas.init",touchBarConfig:"touch.touchBarConfig",logout:"login.logout",touchSession:"login.touchSession",getIdentity:"identity.get",getLocale:"translate.getLocale",showDialog:"dialog.show",showDialogBar:"dialog.showBar",hideDialog:"dialog.hide",hideDialogBar:"dialog.hideBar",dialogBarContent:"dialog.currentBar",currentDialog:"dialog.current",dialogs:"dialog.content",processFileDialogEvent:"files.process",handleDirectUpload:"files.handleDirectUpload",handleDirectDownload:"files.handleDirectDownload",closeFileDialog:"files.close",openLink:"files.link",print:"files.print",download:"files.download",redirect:"files.redirect",displayCopyBar:"clipboard.displayCopyBar",displayPasteDialog:"clipboard.displayPasteDialog",processJsLink:"jslink.process",playbackInfo:"playback.playbackInfo",handleActionEvent:"base.handleActionEvent",handleAccessible:"accessible.handleAccessible",handleAudio:"audio.handleAudio",isAccessiblityEnabled:"accessible.isEnabled",showWindowSwitcher:"accessible.showWindowSwitcher",manageFocusEvent:"focusManager.manageFocusEvent",resetDock:"dock.reset",onUndockedWindowResize:"dock.onUndockedWindowResize",onUndockedWindowClose:"dock.onUndockedWindowClose",onWindowFocus:"render.onWindowFocus",removeInstanceTab:"dock.removeInstanceTab",handleUndockEvent:"dock.handleUndockEvent",handleWindowEvent:"render.handleWindowEvent",queuePaintingRequest:"render.queuePaintingRequest",getPixels:"render.getPixels",repaint:"render.repaint",ack:"render.ack",resetRender:"render.resetState",processActionEvent:"render.processActionEvent",initTaskbar:"taskbar.init",sendTabsUpdate:"socket.sendTabsUpdate",disposeSocket:"socket.dispose",disposeCanvas:"canvas.dispose",newSession:"webswing.newSession",clearInstanceId:"socket.clearInstanceId"},C=b.appFrameProtoOut.LinkActionMsgOutProto.LinkActionTypeProto,F=b.appFrameProtoOut.SimpleEventMsgOutProto,B=m.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(a,t);var e,n,o,i=T(a);function a(){var t;S(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return A(x(t=i.call.apply(i,[this].concat(n))),"timer1",void 0),A(x(t),"timer3",void 0),A(x(t),"timerInstanceTabs",void 0),A(x(t),"warningTimeout",void 0),A(x(t),"registeredListeners",[]),A(x(t),"startNewSessionOnShutdown",!1),A(x(t),"undockStarted",!1),t}return e=a,(n=[{key:"provides",value:function(){var t=this;return{"base.continueSession":this.continueSession,"base.kill":this.kill,"base.handshake":this.handshake,"base.processMessage":this.processMessage,"base.dispose":this.dispose,"base.requestComponentTree":this.requestComponentTree,"base.handleActionEvent":this.handleActionEvent,"base.startNewSessionOnShutdown":function(){t.startNewSessionOnShutdown=!0}}}},{key:"startApplication",value:function(){this.initialize(null,!1),this.sendMessageEvent(B.requestConfig)}},{key:"startMirrorView",value:function(t){this.initialize(t,!0)}},{key:"initialize",value:function(t,e){var n=this;this.api.disposeCanvas(),this.api.initCanvas(),this.api.initTaskbar(),this.api.registerInput(),this.api.registerClipboard(),e||this.api.registerTouch(this.api.touchBarConfig),this.registerGlobalListener(window,"unload",(function(){return n.unloadEventHandler()})),e||this.registerGlobalListener(window,"hashchange",(function(){return n.handshake()})),window.addEventListener("storage",(function(t){return n.storageEventHandler(t)})),this.api.cfg.undockedStart&&this.registerGlobalListener(window,"resize",(function(){return n.api.onUndockedWindowResize()})),this.registerGlobalListener(window,"focus",(function(){return n.api.onWindowFocus()})),this.resetState(),this.api.cfg.clientId=t,this.api.cfg.canPaint=!0,this.api.cfg.hasControl=!e,this.api.cfg.mirrorMode=e,this.handshake(),this.api.showDialog(this.api.dialogs.startingDialog)}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"unloadEventHandler",value:function(){this.api.cfg.undockedStart&&this.api.onUndockedWindowClose(),this.api.removeInstanceTab(),this.dispose(),this.api.disposeSocket()}},{key:"continueSession",value:function(){var t=this;this.api.hideDialog(),this.api.cfg.canPaint=!0,this.handshake(),this.api.repaint(),this.api.ack();var e=this.api.dialogBarContent();this.api.showDialogBar(this.api.dialogs.continueOldSessionDialog);var n=this.api.dialogBarContent();n&&(n.focused=!1,window.setTimeout((function(){var n=t.api.dialogBarContent();n&&!n.focused&&(t.api.hideDialogBar(),e&&t.api.showDialogBar(e))}),5e3))}},{key:"resetState",value:function(){var t=this;this.api.resetRender(),this.api.cfg.clientId="",this.api.cfg.viewId=Object(r.b)(),this.api.cfg.hasControl=!1,this.api.cfg.mirrorMode=!1,this.api.cfg.canPaint=!1,this.api.cfg.browserId=this.api.getIdentity(),clearInterval(this.timer1),clearInterval(this.timer3),clearInterval(this.timerInstanceTabs),this.timer1=setInterval((function(){return t.api.sendInput()}),100),this.timer3=setInterval((function(){return t.servletHeartbeat()}),12e4),this.startNewSessionOnShutdown=!1,this.api.resetDock()}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"servletHeartbeat",value:function(){this.api.touchSession()}},{key:"kill",value:function(){this.api.cfg.hasControl&&this.sendMessageEvent(B.killSwing)}},{key:"handshake",value:function(){this.api.sendHandshake(this.getHandShake())}},{key:"dispose",value:function(){clearInterval(this.timer1),this.api.sendInput(),this.resetState(),this.api.closeFileDialog(),this.api.hideDialogBar();var t,e=P(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener)}}catch(t){e.e(t)}finally{e.f()}}},{key:"requestComponentTree",value:function(){this.sendMessageEvent(B.requestComponentTree),this.api.repaint()}},{key:"processMessage",value:function(t){var e=this;if(null!=t.playback&&this.api.playbackInfo(t),null==t.startApplication){if(!this.api.cfg.recordingPlayback){if(null!=t.event){if(t.event===F.shutDownAutoLogoutNotification)this.handleInstanceShutdown(t.eventData),!1===this.api.cfg.mirror&&this.api.logout();else if(t.event===F.shutDownNotification)this.startNewSessionOnShutdown&&!this.api.cfg.undockedStart?(this.startNewSessionOnShutdown=!1,this.api.newSession()):(this.api.currentDialog()!==this.api.dialogs.timedoutDialog&&this.api.showDialog(this.api.dialogs.stoppedDialog),this.handleInstanceShutdown(t.eventData));else if(t.event===F.shutDownGoodbyeUrlNotification)this.handleInstanceShutdown(t.eventData,!0);else if(t.event===F.applicationAlreadyRunning)this.api.showDialog(this.api.dialogs.applicationAlreadyRunning),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect();else if(t.event===F.tooManyClientsNotification)this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.showDialog(this.api.dialogs.tooManyClientsNotification),this.api.disconnect();else if(t.event===F.tooManyClientsPerUserNotification)this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.showDialog(this.api.dialogs.tooManyClientsPerUserNotification),this.api.disconnect();else if(t.event===F.reconnectInstanceNotFound){if(this.api.cfg.undockedStart){if(!this.undockStarted)return void window.close();this.api.showDialog(this.api.dialogs.undockedInstanceNotFound)}else this.api.showDialog(this.api.dialogs.reconnectInstanceNotFound);this.api.disconnect()}else if(t.event===F.instanceDetached){if(this.api.cfg.undockedStart){if(!this.undockStarted)return void window.close();this.api.showDialog(this.api.dialogs.undockedInstanceDetached)}else this.api.showDialog(this.api.dialogs.instanceDetached);this.api.disconnect()}else t.event===F.continueOldSession?this.continueSession():t.event===F.sessionStolenNotification?(this.api.cfg.canPaint=!1,this.api.showDialog(this.api.dialogs.sessionStolenNotification),this.api.removeInstanceTab(),this.api.disconnect()):t.event===F.unauthorizedAccess?(this.api.cfg.canPaint=!1,this.api.showDialog(this.api.dialogs.unauthorizedAccess),this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect()):t.event===F.sessionTimeoutWarning?(window.clearTimeout(this.warningTimeout),this.api.showDialogBar(this.api.dialogs.inactivityTimeoutWarningDialog),this.warningTimeout=window.setTimeout((function(){e.api.hideDialogBar()}),2e3)):t.event===F.sessionTimedOutNotification?(this.api.showDialog(this.api.dialogs.timedoutDialog),this.handleInstanceShutdown(t.eventData)):t.event===F.applicationBusy?null==this.api.currentDialog()&&this.api.showDialog(this.api.dialogs.applicationBusyDialog):t.event===F.instanceConnected&&this.api.cfg.undockedStart&&(this.undockStarted?this.continueSession():this.undockStarted=!0,this.api.repaint());return}null!=t.instanceConfig&&(this.api.cfg.directTransfer=t.instanceConfig.directTransferEnabled)}if(!1===this.api.cfg.mirrorMode&&!this.api.cfg.recordingPlayback){if(null!=t.jsRequest&&this.api.processJsLink(t.jsRequest),null!=t.pixelsRequest){var n=this.api.getPixels(t.pixelsRequest);this.api.send(n)}if(t.componentTree&&this.api.processComponentTree(t.componentTree),null!=t.linkAction&&(t.linkAction.action===C.url?this.api.openLink(t.linkAction.src):t.linkAction.action===C.print?this.api.print("file?id="+t.linkAction.src):t.linkAction.action===C.file?this.api.download("file?id="+t.linkAction.src):t.linkAction.action!==C.redirect||this.api.cfg.mirrorMode||this.api.redirect(t.linkAction.src)),null!=t.undockEvent&&this.api.handleUndockEvent(t.undockEvent),null!=t.windowEvent&&this.api.handleWindowEvent(t.windowEvent),null!=t.moveWindowTab){var r=t.moveWindowTab.tabId;this.api.cfg.undockedStart&&r===window.name&&window.moveTo(t.moveWindowTab.x,t.moveWindowTab.y)}}this.api.cfg.hasControl&&!this.api.cfg.recordingPlayback&&(null!=t.copyEvent&&(this.api.displayCopyBar(t.copyEvent),this.api.updateClipboard(t.copyEvent.text,t.copyEvent.html,t.copyEvent.img)),null!=t.pasteRequest&&this.api.displayPasteDialog(t.pasteRequest),null!=t.fileDialogEvent&&this.api.processFileDialogEvent(t.fileDialogEvent),null!=t.directUpload&&this.api.handleDirectUpload(t.directUpload),null!=t.directDownload&&this.api.handleDirectDownload(t.directDownload),t.windowSwitchList&&this.api.showWindowSwitcher(document.querySelector(".webswing-element-content"),t.windowSwitchList),null!=t.accessible&&this.api.handleAccessible(t.accessible,document.querySelector(".webswing-element-content")),null!=t.actionEvent&&this.api.processActionEvent(t.actionEvent)),t.audioEvent&&this.api.handleAudio(t.audioEvent),null!=t.focusEvent&&this.api.manageFocusEvent(t.focusEvent),this.api.cfg.canPaint&&this.api.queuePaintingRequest(t)}else this.api.cfg.mirror?this.startMirrorView(this.api.cfg.clientId):this.startApplication()}},{key:"storageEventHandler",value:function(t){if(t.key&&t.newValue&&t.key.startsWith("webswing_tabsupdate_")){if(this.api.cfg.mirror)return;if(this.api.getInstanceId()!==t.key.split("_")[2])return;var e=JSON.parse(t.newValue);e&&this.api.sendTabsUpdate({tabs:[e]})}}},{key:"handleInstanceShutdown",value:function(t,e){var n;this.api.removeInstanceTab(),this.api.clearInstanceId(),this.api.disconnect();var r=!0;if((null==t?void 0:t.data)&&t.data.length){var o,i=P(t.data);try{for(i.s();!(o=i.n()).done;){var a=o.value;"dontCloseTabId"===a.key&&a.value===window.name&&(r=!1),"url"===a.key&&(n=a.value)}}catch(t){i.e(t)}finally{i.f()}}this.api.cfg.undockedStart&&r?window.close():e&&n&&this.api.redirect(n)}},{key:"getHandShake",value:function(){var t={instanceId:this.api.getInstanceId(),browserId:this.api.cfg.browserId,viewId:this.api.cfg.viewId,currentDpr:Object(r.p)(),tabId:window.name,locale:this.api.getLocale(),timeZone:Object(r.r)(),mirrored:this.api.cfg.mirrorMode,directDrawSupported:this.api.cfg.directDrawSupported,dockingSupported:!this.api.cfg.ieVersion,touchMode:this.api.cfg.touchMode,accessiblityEnabled:this.api.isAccessiblityEnabled(),url:window.location.href};if(!this.api.cfg.mirrorMode){var e=this.api.getDesktopSize();t.documentBase=this.api.cfg.documentBase,t.params=this.api.cfg.params,t.desktopWidth=e.width,t.desktopHeight=e.height,t.userScreenWidth=window.screen.availWidth,t.userScreenHeight=window.screen.availHeight,t.userScreenX=window.screenX,t.userScreenY=window.screenY,t.browserOuterWidth=window.outerWidth,t.browserOuterHeight=window.outerHeight}return t}},{key:"handleActionEvent",value:function(t,e,n){}}])&&I(e.prototype,n),o&&I(e,o),a}(o.b),L=n(360);function W(t){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function U(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(t,e)||N(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=N(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function N(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function q(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function J(t,e,n){return e&&z(t.prototype,e),n&&z(t,n),t}function Y(t,e){return(Y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$(t);if(e){var o=$(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(t,e){return!e||"object"!==W(e)&&"function"!=typeof e?K(t):e}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $(t){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Q={getExternalApi:"external.api",cfg:"webswing.config",disconnect:"webswing.disconnect",send:"socket.send",getCanvas:"canvas.get",sendSimpleEvent:"socket.sendSimpleEvent",sendTimestamp:"socket.sendTimestamp",touchCursorChanged:"touch.cursorChanged",hideDialog:"dialog.hide",currentDialog:"dialog.current",showBar:"dialog.showBar",hideBar:"dialog.hideBar",currentBar:"dialog.currentBar",dialogs:"dialog.content",performAction:"render.performAction",handleActionEvent:"base.handleActionEvent",checkCanvasAccessibleInfo:"accessible.checkCanvasAccessibleInfo",handleWindowDockState:"dock.handleWindowDockState",checkUndockedModalBlocked:"dock.checkUndockedModalBlocked",undockWindow:"dock.undockWindow",dockWindow:"dock.dockWindow",checkPendingUndockEvents:"dock.checkPendingUndockEvents",hasPendingUndockEvent:"dock.hasPendingUndockEvent",paintDoneCallback:"render.paintDoneCallback",updateTaskbar:"taskbar.updateWindowStates",touchRefreshScale:"touch.refreshScale",updateMirrorTabList:"mirror.updateTabList",checkRenderedWindows:"dock.checkRenderedWindows",getTabOwnerCanvas:"dock.getTabOwnerCanvas",renderConfig:"render.renderConfig",checkUndockedSize:"dock.checkUndockedSize"},Z=m.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto,tt=m.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,et=b.appFrameProtoOut.WindowMsgOutProto.WindowTypeProto,nt=m.appFrameProtoIn.ActionEventMsgInProto.ActionEventTypeProto,rt=b.appFrameProtoOut.WindowMsgOutProto.DockModeProto,ot=b.appFrameProtoOut.WindowMsgOutProto.DockStateProto,it=b.appFrameProtoOut.WindowEventMsgOutProto.WindowSwingEventTypeProto,at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Y(t,e)}(n,t);var e=X(n);function n(){var t;q(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return V(K(t=e.call.apply(e,[this].concat(o))),"windowImageHolders",{}),V(K(t),"drawingLock",void 0),V(K(t),"drawingQ",[]),V(K(t),"internalFrameWrapperHolders",{}),V(K(t),"closedWindows",{}),V(K(t),"directDraw",void 0),V(K(t),"mirrorDirectDraw",{}),V(K(t),"tabHeartbeatWorker",void 0),V(K(t),"tabHeartbeatCleanupInterval",void 0),V(K(t),"findHiddenWindowsInterval",void 0),V(K(t),"dropTargets",{}),V(K(t),"lastDpr",1),V(K(t),"ready",(function(){t.directDraw=new L.DirectDraw({logTrace:t.api.cfg.traceLog,logDebug:t.api.cfg.debugLog,ieVersion:t.api.cfg.ieVersion}),t.resetHeartbeat()})),t}return J(n,[{key:"provides",value:function(){return{"render.dispose":this.dispose,"render.queuePaintingRequest":this.queuePaintingRequest,"render.paintDoneCallback":this.paintDoneCallback,"render.getPixels":this.getPixels,"render.repaint":this.repaint,"render.ack":this.ack,"render.resetState":this.resetState,"render.processActionEvent":this.processActionEvent,"render.getWindows":this.getWindows,"render.getRenderedWindows":this.getRenderedWindows,"render.getWindowById":this.getWindowById,"render.performAction":this.performAction,"render.closeWindow":this.closeWindow,"render.hasUndockedWindows":this.hasUndockedWindows,"render.onWindowFocus":this.onWindowFocus,"render.handleWindowEvent":this.handleWindowEvent,"render.undockHiddenWindows":this.undockHiddenWindows,"render.showDropTargets":this.showDropTargets,"render.renderConfig":this.renderConfig()}}},{key:"dispose",value:function(){for(var t in this.directDraw&&this.directDraw.dispose(),this.mirrorDirectDraw)t in this.mirrorDirectDraw&&this.mirrorDirectDraw[t].dispose();this.mirrorDirectDraw={},this.drawingQ=[],this.disposeTabHeartbeatWorker()}},{key:"resetState",value:function(){var t=this;for(var e in this.windowImageHolders={},this.internalFrameWrapperHolders={},this.closedWindows={},this.directDraw&&this.directDraw.dispose(),this.mirrorDirectDraw)e in this.mirrorDirectDraw&&this.mirrorDirectDraw[e].dispose();this.mirrorDirectDraw={},this.directDraw=new L.DirectDraw({logTrace:this.api.cfg.traceLog,logDebug:this.api.cfg.debugLog,ieVersion:this.api.cfg.ieVersion}),this.drawingQ=[],this.resetHeartbeat(),this.findHiddenWindowsInterval&&clearInterval(this.findHiddenWindowsInterval),this.findHiddenWindowsInterval=setInterval((function(){return t.findHiddenWindows()}),this.api.renderConfig.findHiddenWindowsPeriod)}},{key:"resetHeartbeat",value:function(){var t=this;this.tabHeartbeatCleanupInterval&&clearInterval(this.tabHeartbeatCleanupInterval),this.disposeTabHeartbeatWorker(),this.tabHeartbeatCleanupInterval=setInterval((function(){return t.cleanupTabHeartbeat()}),5e3),this.initTabHeartbeatWorker()}},{key:"initTabHeartbeatWorker",value:function(){var t,e=URL.createObjectURL(new Blob(["onmessage=(",st.toString(),")()"],{type:"application/javascript"}));this.tabHeartbeatWorker=new Worker(e),this.tabHeartbeatWorker.onmessage=function(t){t.data&&t.data.heartbeat&&localStorage.setItem("wthb_"+window.name,String((new Date).getTime()))},null===(t=this.tabHeartbeatWorker)||void 0===t||t.postMessage("startHeartbeat")}},{key:"disposeTabHeartbeatWorker",value:function(){this.tabHeartbeatWorker&&(this.tabHeartbeatWorker.postMessage("stopHeartbeat"),this.tabHeartbeatWorker.terminate(),this.tabHeartbeatWorker=void 0)}},{key:"queuePaintingRequest",value:function(t){this.drawingQ.push(t),this.drawingLock||this.processNextQueuedFrame()}},{key:"processNextQueuedFrame",value:function(){if(this.drawingLock=null,this.drawingQ.length>0){this.drawingLock=this.drawingQ.shift();try{this.processRequest(this.drawingLock)}catch(t){throw this.drawingLock=null,t}}else this.api.paintDoneCallback()}},{key:"paintDoneCallback",value:function(){}},{key:"processRequest",value:function(t){var e=this,n=null;(null!=t.windows&&t.windows.length>0&&(n=t.windows),null!=n&&this.api.currentDialog()!=this.api.dialogs.undockWaitingDialog&&this.api.hideDialog(),t.cursorChangeEvent&&null!=t.cursorChangeEvent&&this.api.cfg.hasControl&&!this.api.cfg.recordingPlayback)&&(this.findWindowElementsById(t.cursorChangeEvent.winId).forEach((function(n){var r=e.getCursorStyle(t.cursorChangeEvent);r&&null!=r&&(n.style.cursor=r)})),this.api.touchCursorChanged(t.cursorChangeEvent));if(null!=t.closedWindow&&this.closeWindowInternal(t.closedWindow.id),null!=t.closedTab&&this.closeTab(t.closedTab),null!=n){var r,o={},i=_(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.internalWindows){var s,l=_(a.internalWindows);try{for(l.s();!(s=l.n()).done;){o[s.value.id]=!0}}catch(t){l.e(t)}finally{l.f()}}o[a.id]=!0}}catch(t){i.e(t)}finally{i.f()}for(var c in this.windowImageHolders)if(this.windowImageHolders.hasOwnProperty(c)){var u=this.windowImageHolders[c];!o[c]&&u.element&&u.element.matches(":not(.ws-close-prevented)")&&this.closeWindowInternal(c)}n.reduce((function(r,o,i){return r.then((function(){return e.renderWindow(o,n.length-i-1,t.directDraw)})).catch((function(t){return e.errorHandler(t)}))}),Promise.resolve()).then((function(){var n=[];for(var r in e.internalFrameWrapperHolders)if(e.internalFrameWrapperHolders.hasOwnProperty(r)){var o=e.internalFrameWrapperHolders[r];o.matches(":empty")&&(o.remove(),n.push(r))}for(var i=0,a=n;i<a.length;i++){var s=a[i];delete e.internalFrameWrapperHolders[s]}e.api.checkUndockedModalBlocked(),e.api.checkPendingUndockEvents(),e.api.checkRenderedWindows(),e.api.checkUndockedSize(),e.ack(t),e.api.updateTaskbar(e.windowImageHolders),(e.api.cfg.mirror||e.api.cfg.recordingPlayback)&&e.api.updateMirrorTabList(),e.processNextQueuedFrame()})).catch((function(t){return e.errorHandler(t)})),this.api.checkCanvasAccessibleInfo(),this.api.touchRefreshScale()}else this.processNextQueuedFrame()}},{key:"repaint",value:function(){this.sendMessageEvent(tt.repaint)}},{key:"ack",value:function(t){this.sendMessageEvent(tt.paintAck),t&&null!=t&&this.api.sendTimestamp({startTimestamp:t.startTimestamp,sendTimestamp:t.sendTimestamp,renderingTime:""+((new Date).getTime()-t.receivedTimestamp)})}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"closeTab",value:function(t){if(t===window.name){var e=this.api.getTabOwnerCanvas(!0);e&&(e.preventTocClose=!0),window.close()}}},{key:"closeWindow",value:function(t){this.api.send({window:{id:t,eventType:Z.close}}),this.closedWindows[t]=!0}},{key:"closeWindowInternal",value:function(t){var e=this.windowImageHolders[t];if(e){var n=new lt(e.id);this.windowClosing(e,n);try{e.windowClosing(n)}catch(t){console.error(t)}e.htmlWindow&&n.isDefaultPrevented()?e.element.classList.add("ws-close-prevented"):(e.element.remove(),this.dropTargets[t]&&delete this.dropTargets[t],delete this.windowImageHolders[t]),this.windowClosed(e);try{e.windowClosed()}catch(t){console.error(t)}this.api.cfg.mirror&&(e.tabId&&e.dockState==ot.undocked&&this.mirrorDirectDraw&&this.mirrorDirectDraw[e.tabId]&&(this.mirrorDirectDraw[e.tabId].dispose(),delete this.mirrorDirectDraw[e.tabId]),this.api.updateMirrorTabList())}this.api.updateTaskbar(this.windowImageHolders),delete this.closedWindows[t]}},{key:"shouldWindowRender",value:function(t){if(this.api.cfg.mirrorMode)return!0;var e=t.tabId;if(t.type!==et.basic){var n=this.getNonBasicWindowCanvasOwner(t);null!=n&&(e=n.tabId)}return e===window.name}},{key:"isGoingToBeUndocked",value:function(t){var e=t.dockState;if(t.type!==et.basic){var n=this.getNonBasicWindowCanvasOwner(t);null!=n&&(e=n.dockState)}return e===ot.toBeUndocked}},{key:"getNonBasicWindowCanvasOwner",value:function(t){switch(t.type){case et.internalWrapper:case et.html:if(t.ownerId&&this.windowImageHolders[t.ownerId]&&null!=this.windowImageHolders[t.ownerId]&&!this.windowImageHolders[t.ownerId].htmlWindow)return this.windowImageHolders[t.ownerId];break;case et.internalHtml:case et.internal:var e=t.ownerId;if(e&&this.internalFrameWrapperHolders[e]){var n=this.internalFrameWrapperHolders[e].getAttribute("data-ownerid");if(n&&this.windowImageHolders[n]&&!this.windowImageHolders[n].htmlWindow)return this.windowImageHolders[n]}}return null}},{key:"renderWindow",value:function(t,e,n){return this.closedWindows[t.id]?Promise.resolve():n?this.renderDirectDrawComposedWindow(t,e):this.renderPngDrawComposedWindow(t,e)}},{key:"renderPngDrawComposedWindow",value:function(t,e){if(!this.windowImageHolders[t.id]){if(t.type===et.basic){var n=document.createElement("canvas");n.classList.add("webswing-canvas"),this.windowImageHolders[t.id]=new ct(t.id,t.tabId,t.ownerId,this.getOwnerParents(t.ownerId),n,!1,t.name,t.title,t.classType,t.minimized,t.resizable,t.focused,this),this.windowImageHolders[t.id].dockMode=t.dockMode,this.windowImageHolders[t.id].dockState=t.dockState,this.initComposedElement(t,n)}t.type===et.html&&this.initializeHtmlWindow(t)}var r=this.windowImageHolders[t.id];if(r.htmlWindow)this.shouldWindowRender(t)?(r.element||this.initializeHtmlWindow(t),this.handleWindowModalityAndBounds(t,r,e,!0)):r.disposeInternal();else{if(this.api.handleWindowDockState(t,r),this.shouldWindowRender(t)){this.handleWindowModalityAndBounds(t,r,e,!0),this.handleWindowStateAndTitle(t.state,t.minimized,t.focused,t.title,r,t.dockState);var o=this.windowImageHolders[t.id].element;return this.lastDpr!=t.dpr&&(this.lastDpr=t.dpr,o.width=t.width*t.dpr,o.height=t.height*t.dpr,o.style.width=t.width+"px",o.style.height=t.height+"px"),this.renderPngDrawWindowInternal(t,o.getContext("2d"))}var i=this.getInternalFrameWrappersByOwnerWinId(t.id);if(i&&i.length){var a,s=_(i);try{for(s.s();!(a=s.n()).done;){var l=a.value;for(var c in l.ifw.remove(),delete this.internalFrameWrapperHolders[l.id],this.windowImageHolders)this.windowImageHolders[c].ownerId===l.id&&this.windowImageHolders[c].disposeInternal()}}catch(t){s.e(t)}finally{s.f()}}}return Promise.resolve()}},{key:"renderPngDrawWindowInternal",value:function(t,e){var n=this;return t.content?t.content.reduce((function(o,i){return o.then((function(){return new Promise((function(o,a){if(null!=i){var s=new Image,l=function(){e.save(),e.drawImage(s,i.positionX,i.positionY),e.restore(),s.onload=null,s.src="",null!=s.clearAttributes&&s.clearAttributes(),n.drawInternalWindows(t.internalWindows,!0),n.handleDropComponents(t.id,t.dropComponents),o()};s.onload=function(){n.api.cfg.ieVersion&&n.api.cfg.ieVersion<=10?window.setTimeout(l,20):l()},s.src=Object(r.n)(i.base64Content)}}))}),n.errorHandler)}),Promise.resolve()):(this.drawInternalWindows(t.internalWindows,!0),this.handleDropComponents(t.id,t.dropComponents),Promise.resolve())}},{key:"renderDirectDrawComposedWindow",value:function(t,e){var n=this;return new Promise((function(o,i){var a;if(t.type!==et.basic)a=new Promise((function(t,e){t(void 0)}));else{var s=n.windowImageHolders[t.id]?n.windowImageHolders[t.id].element:void 0,l=n.getDirectDrawInstance(t.tabId);l&&(a=null!=t.directDraw&&n.shouldWindowRender(t)?"string"==typeof t.directDraw?l.draw64(t.directDraw,t.dpr||Object(r.m)(),s):l.drawBin(t.directDraw,t.dpr||Object(r.m)(),s):l.drawEmpty(t.width||0,t.height||0,t.dpr||Object(r.m)(),s))}a?a.then((function(r){var i=r;n.windowImageHolders[t.id]||(t.type===et.basic&&i&&(i.classList.add("webswing-canvas"),n.windowImageHolders[t.id]=new ct(t.id,t.tabId,t.ownerId,n.getOwnerParents(t.ownerId),i,!1,t.name,t.title,t.classType,t.minimized,t.resizable,t.focused,n),n.windowImageHolders[t.id].dockMode=t.dockMode,n.windowImageHolders[t.id].dockState=t.dockState,n.initComposedElement(t,i)),t.type===et.html&&n.initializeHtmlWindow(t));var a=n.windowImageHolders[t.id],s=n.shouldWindowRender(t);if(a.htmlWindow)s?(a.element||n.initializeHtmlWindow(t),n.handleWindowModalityAndBounds(t,a,e,!1)):a.disposeInternal();else if(n.api.handleWindowDockState(t,a),s)n.handleWindowModalityAndBounds(t,a,e,!1),n.handleWindowStateAndTitle(t.state,t.minimized,t.focused,t.title,a,t.dockState),n.drawInternalWindows(t.internalWindows,!1),n.handleDropComponents(t.id,t.dropComponents);else{var l=n.getInternalFrameWrappersByOwnerWinId(t.id);if(l&&l.length){var c,u=_(l);try{for(u.s();!(c=u.n()).done;){var d=c.value;for(var p in d.ifw.remove(),delete n.internalFrameWrapperHolders[d.id],n.windowImageHolders)n.windowImageHolders[p].ownerId===d.id&&n.windowImageHolders[p].disposeInternal()}}catch(t){u.e(t)}finally{u.f()}}}o()}),(function(t){i(t)})):o()}))}},{key:"getDirectDrawInstance",value:function(t){return this.api.cfg.mirror?(this.mirrorDirectDraw[t]||(this.mirrorDirectDraw[t]=new L.DirectDraw({logTrace:this.api.cfg.traceLog,logDebug:this.api.cfg.debugLog,ieVersion:this.api.cfg.ieVersion})),this.mirrorDirectDraw[t]):this.directDraw}},{key:"initializeHtmlWindow",value:function(t){if(this.shouldWindowRender(t)){if(!this.windowImageHolders[t.id]){var e=document.createElement("div");e.classList.add("webswing-html-canvas"),this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),e,t.name,this)}var n=this.windowImageHolders[t.id].element;if(!n){var r=document.createElement("div");r.classList.add("webswing-html-canvas"),n=r,this.windowImageHolders[t.id].element=n}this.initComposedElement(t,n)}else this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),null,t.name,this)}},{key:"initComposedElement",value:function(t,e){var n=this.shouldWindowRender(t)&&!this.isGoingToBeUndocked(t);e.setAttribute("data-id",t.id),e.style.position="absolute",t.ownerId&&e.setAttribute("data-ownerid",t.ownerId),n&&this.windowOpening(this.windowImageHolders[t.id]);var r=null;t.ownerId&&this.windowImageHolders[t.ownerId]&&(r=this.windowImageHolders[t.ownerId]),r&&r.isRelocated()?(r.element.parentElement.appendChild(e),n&&this.windowOpened(this.windowImageHolders[t.id])):(this.api.cfg.rootElement.appendChild(e),n&&this.windowOpened(this.windowImageHolders[t.id])),this.api.cfg.mirrorMode||n&&this.performActionInternal({actionName:"",eventType:nt.init,data:"",windowId:t.id})}},{key:"handleWindowModalityAndBounds",value:function(t,e,n,o){var i=e.element;i&&(e.htmlWindow&&i.matches(".ws-close-prevented")&&(this.windowOpening(e),i.style.display="",i.classList.remove("ws-close-prevented"),this.windowOpened(e),this.api.cfg.mirrorMode||this.performActionInternal({actionName:"",eventType:nt.init,data:"",windowId:t.id})),o&&t.type===et.basic&&(Math.abs(i.clientWidth-t.width)>=1||Math.abs(i.clientHeight-t.height)>=1||this.lastDpr!=t.dpr)&&(i.style.width=t.width+"px",i.style.height=t.height+"px",i.getAttribute("width")!==String(t.width*t.dpr)&&i.setAttribute("width",String(t.width*t.dpr)),i.getAttribute("height")!==String(t.height*t.dpr)&&i.setAttribute("height",String(t.height*t.dpr))),i.classList.contains("ws-minimized")||(i.style.zIndex=String(100+n+1),i.style.width=t.width+"px",i.style.height=t.height+"px"),i.style.display="",i.matches(".modal-blocked")!==t.modalBlocked&&(i.classList.toggle("modal-blocked",t.modalBlocked),this.windowModalBlockedChanged(e)),Object(r.z)(i.parentNode)&&!e.ignoreNextPositioning&&(i.style.left=t.posX+"px",i.style.top=t.posY+"px",e.validatePositionAndSize(t.posX,t.posY)),e.ignoreNextPositioning=!1)}},{key:"handleWindowStateAndTitle",value:function(t,e,n,r,o,i){if(o.title=r,o.tabId===window.name&&o.dockState===ot.undocked&&i!==ot.toBeUndocked&&(document.title=o.title||""),o.minimized=e||!1,o.focused=n||!1,null!=t){if(o.state=t,6!==t||this.api.cfg.mirrorMode||!o.element.parentNode)return;var a=o.element.parentNode.getBoundingClientRect(),s=o.element.getBoundingClientRect();Math.round(s.width)===Math.round(a.width)&&Math.round(s.height)===Math.round(a.height)&&0===s.x&&0===s.y||o.setBounds(0,0,Math.round(a.width),Math.round(a.height))}}},{key:"drawInternalWindows",value:function(t,e){if(t&&null!=t&&0!==t.length){for(var n=[],r=t.length-1;r>=0;r--){var o=t[r];o.type===et.internalWrapper?this.handleInternalWrapperWindow(o):o.type!==et.internal&&o.type!==et.internalHtml||n.push(o)}for(var i=[],a=0;a<n.length;a++){var s=n[a];s.type===et.internal?this.handleInternalWindow(s,a,i,e):s.type===et.internalHtml&&(this.handleInternalHtmlWindow(s,a),i.push(s))}}}},{key:"handleInternalWrapperWindow",value:function(t){var e=null;t.ownerId&&this.windowImageHolders[t.ownerId]&&(e=this.windowImageHolders[t.ownerId]);var n=this.internalFrameWrapperHolders[t.id];if(n&&null!=n||((n=document.createElement("div")).classList.add("ws-internal-frames-wrapper"),n.id="wrapper-"+t.id,e&&e.isRelocated()?e.element.parentNode.appendChild(n):this.api.cfg.rootElement.appendChild(n),this.internalFrameWrapperHolders[t.id]=n),t.ownerId&&(n.setAttribute("data-ownerid",t.ownerId),e)){var r=e.element;n.style.zIndex=r.style.zIndex,n.style.left=t.posX+"px",n.style.top=t.posY+"px",n.style.width=t.width+"px",n.style.height=t.height+"px"}}},{key:"handleInternalWindow",value:function(t,e,n,o){var i=this.internalFrameWrapperHolders[t.ownerId];if(i&&null!=i){var a;void 0===this.windowImageHolders[t.id]||null==this.windowImageHolders[t.id]?((a=document.createElement("canvas")).classList.add("webswing-canvas"),a.classList.add("internal"),this.windowImageHolders[t.id]=new ct(t.id,t.tabId,t.ownerId,this.getOwnerParents(t.ownerId),a,!0,t.name,t.title,t.classType,t.minimized,t.resizable,t.focused,this),a.setAttribute("data-id",t.id),a.style.position="absolute",t.ownerId&&a.setAttribute("data-ownerid",t.ownerId),i.appendChild(a)):(a=this.windowImageHolders[t.id].element).parentElement!==i&&i.appendChild(a);var s=i.offsetTop,l=i.offsetLeft;if(a.style.zIndex=String(100+e+1),a.style.left=t.posX-l+"px",a.style.top=t.posY-s+"px",a.style.width=t.width+"px",a.style.height=t.height+"px",a.setAttribute("width",String(t.width*Object(r.m)())),a.setAttribute("height",String(t.height*Object(r.m)())),a.matches(".modal-blocked")!==t.modalBlocked&&a.classList.toggle("modal-blocked",t.modalBlocked),n.length>0){var c=i.dataset.ownerid;if(c&&this.windowImageHolders[c]&&this.windowImageHolders[c].element){var u,d=this.windowImageHolders[c].element,p=a.getContext("2d"),f={top:d.offsetTop,left:d.offsetLeft},h=_(n);try{for(h.s();!(u=h.n()).done;){var g=u.value,y=this.findWindowIntersection(t,g);if(y&&y.x2-y.x1>0&&y.y2-y.y1>0){var v=Object(r.m)(),w=Object(r.p)(),b=y.x2-y.x1,m=y.y2-y.y1,O=y.x1-f.left,P=y.y1-f.top,k=b,S=m,I=t.posX<y.x1?y.x1-t.posX:0,E=t.posY<y.y1?y.y1-t.posY:0,T=b,j=m;o?p.drawImage(d,O*w,P*w,k*w,S*w,I*v,E*v,T*v,j*v):p.drawImage(d,O*v,P*v,k*v,S*v,I*v,E*v,T*v,j*v)}}}catch(t){h.e(t)}finally{h.f()}}}}}},{key:"handleInternalHtmlWindow",value:function(t,e){var n=this.internalFrameWrapperHolders[t.ownerId];if(n&&null!=n){var r,o=!1,i=this.shouldWindowRender(t)&&!this.isGoingToBeUndocked(t);this.windowImageHolders[t.id]&&this.windowImageHolders[t.id].element?(r=this.windowImageHolders[t.id].element)&&r.matches(".ws-close-prevented")&&(o=!0,this.windowOpening(this.windowImageHolders[t.id]),r.classList.remove("ws-close-prevented"),r.style.display=""):((r=document.createElement("div")).classList.add("webswing-html-canvas"),this.windowImageHolders[t.id]=new ut(t.id,t.ownerId,this.getOwnerParents(t.ownerId),r,t.name,this),o=!0,r.setAttribute("data-id",t.id),r.style.position="absolute",t.ownerId&&r.setAttribute("data-ownerid",t.ownerId),i&&this.windowOpening(this.windowImageHolders[t.id]),n.appendChild(r)),o&&i&&(this.windowOpened(this.windowImageHolders[t.id]),this.api.cfg.mirrorMode||this.performActionInternal({actionName:"",eventType:nt.init,data:"",windowId:t.id}));var a=n.offsetTop,s=n.offsetLeft;r&&(r.style.zIndex=String(100+e+1),r.style.left=t.posX-s+"px",r.style.top=t.posY-a+"px",r.style.width=t.width+"px",r.style.height=t.height+"px",r.setAttribute("width",String(t.width)),r.setAttribute("height",String(t.height)),r.style.display="",r.matches(".modal-blocked")!==t.modalBlocked&&r.classList.toggle("modal-blocked",t.modalBlocked))}}},{key:"handleDropComponents",value:function(t,e){this.dropTargets[t]=null!=e?e:[]}},{key:"showDropTargets",value:function(t){if(t)for(var e in this.dropTargets){var n=this.windowImageHolders[e];if(n&&n.element&&this.dropTargets[e]&&0!=this.dropTargets[e].length){var r,o=_(this.dropTargets[e]);try{for(o.s();!(r=o.n()).done;){var i=r.value;if(null==this.api.cfg.rootElement.querySelector('.ws-drop-target[data-id="'+i.id+'"]')){var a=document.createElement("div");a.classList.add("ws-drop-target"),a.setAttribute("data-id",i.id),a.style.left=i.posX+"px",a.style.top=i.posY+"px",a.style.width=i.width+"px",a.style.height=i.height+"px",a.style.zIndex=n.element.style.zIndex,this.api.cfg.rootElement.appendChild(a)}}}catch(t){o.e(t)}finally{o.f()}}}else this.api.cfg.rootElement.querySelectorAll(".ws-drop-target").forEach((function(t){t.remove()}))}},{key:"cleanupTabHeartbeat",value:function(){for(var t in localStorage)if(t in localStorage&&t.startsWith("wthb_")){var e=localStorage.getItem(t);if(!e)continue;parseInt(e)<(new Date).getTime()-6e4&&localStorage.removeItem(t)}}},{key:"handleWindowEvent",value:function(t){var e=this.getWindowById(t.windowId);if(e)switch(t.event){case it.activate:this.handleWindowActivate(e)}}},{key:"handleWindowActivate",value:function(t){if(t instanceof ct){var e=t;e.tabId!=window.name&&(this.isWindowAlive(e,3e3)?window.open("",e.tabId):this.undockHiddenWindow(e))}}},{key:"isWindowAlive",value:function(t,e){if(t.tabId===window.name)return!0;var n=localStorage.getItem("wthb_"+t.tabId);return!!n&&!(parseInt(n)<(new Date).getTime()-e)}},{key:"findHiddenWindows",value:function(){if(!this.api.cfg.mirror&&!this.api.cfg.recordingPlayback){var t=this.getWindows(!0);if(t&&t.length&&this.api.cfg.canPaint){var e,n=!1,r=_(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;if(!o.internal&&!this.isWindowAlive(o,this.api.renderConfig.findHiddenWindowsThreshold)){n=!0;break}}}catch(t){r.e(t)}finally{r.f()}n?null==this.api.currentBar()&&this.api.showBar(this.api.dialogs.hiddenWindowsNotification):this.api.currentBar()==this.api.dialogs.hiddenWindowsNotification&&this.api.hideBar()}else this.api.currentBar()==this.api.dialogs.hiddenWindowsNotification&&this.api.hideBar()}}},{key:"undockHiddenWindows",value:function(){var t=this.getWindows(!0);if(t&&t.length){var e,n=_(t);try{for(n.s();!(e=n.n()).done;){var r=e.value;r.internal||(this.isWindowAlive(r,this.api.renderConfig.findHiddenWindowsThreshold)||this.undockHiddenWindow(r))}}catch(t){n.e(t)}finally{n.f()}}}},{key:"undockHiddenWindow",value:function(t){if(t.element){t.element.style.visibility="hidden",t.element.style.display="inline-block";var e=t.element.getBoundingClientRect();t.element.style.visibility="visible",t.element.style.display="none",this.api.undockWindow(t.id,window.name,!0,t.element,e.left,e.top,e.width,e.height,null,null)}}},{key:"findWindowIntersection",value:function(t,e){var n=this,r=U([{x1:t.posX,y1:t.posY,x2:t.posX+t.width,y2:t.posY+t.height},{x1:e.posX,y1:e.posY,x2:e.posX+e.width,y2:e.posY+e.height}].map((function(t){return{x:[t.x1,t.x2].sort(n.sortNumber),y:[t.y1,t.y2].sort(n.sortNumber)}})),2),o=r[0],i=r[1];return!(i.x[0]>o.x[1]||i.x[1]<o.x[0]||i.y[0]>o.y[1]||i.y[1]<o.y[0])&&{x1:Math.max(o.x[0],i.x[0]),y1:Math.max(o.y[0],i.y[0]),x2:Math.min(o.x[1],i.x[1]),y2:Math.min(o.y[1],i.y[1])}}},{key:"sortNumber",value:function(t,e){return t-e}},{key:"findWindowElementsById",value:function(t){var e=[];for(var n in this.windowImageHolders[t]&&e.push(this.windowImageHolders[t].element),this.internalFrameWrapperHolders)if(this.internalFrameWrapperHolders.hasOwnProperty(n)){var r=this.internalFrameWrapperHolders[n];r.dataset.ownerid===t&&e.push(r)}return e}},{key:"validateAndPositionWindow",value:function(t,e,n){if(!t.htmlWindow&&!this.api.cfg.mirrorMode){var r=!1,o=t.element.parentNode.getBoundingClientRect(),i=t.element.getBoundingClientRect();e>o.width-40&&(e=Math.max(0,o.width-40),r=!0),n>o.height-40&&(n=Math.max(0,o.height-40),r=!0),e<-1*(i.width-40)&&(e=-1*(i.width-40),r=!0),n<0&&(n=0,r=!0),t.tabId&&t.tabId===window.name&&t.dockState===ot.undocked&&(0==i.x&&0==i.y||(e=0,n=0,r=!0)),r&&(t.element.style.left=e+"px",t.element.style.top=n+"px",t.setLocation(e,n))}}},{key:"getOwnerParents",value:function(t){if(!t||null==t)return[];var e=this.windowImageHolders[t];if(!e||null==e)return[];var n=e.parents.slice();return n.push(t),n}},{key:"hasUndockedWindows",value:function(){var t=this.getWindows(!0);if(t&&t.length){var e,n=_(t);try{for(n.s();!(e=n.n()).done;){if(e.value.dockState===ot.undocked)return!0}}catch(t){n.e(t)}finally{n.f()}}return!1}},{key:"getCursorStyle",value:function(t){return this.api.cfg.ieVersion?t.curFile?"url('"+this.api.cfg.connectionUrl+"file?id="+t.curFile+"'), auto":t.cursor:null!=t.b64img?"url("+Object(r.n)(t.b64img)+") "+t.x+" "+t.y+" , auto":t.cursor}},{key:"errorHandler",value:function(t){throw this.drawingLock=null,t}},{key:"getWindows",value:function(t){var e=[];for(var n in this.windowImageHolders)t&&this.windowImageHolders[n].htmlWindow||e.push(this.windowImageHolders[n]);return e}},{key:"getRenderedWindows",value:function(t){var e=[];for(var n in this.windowImageHolders)if(n in this.windowImageHolders){var r=this.windowImageHolders[n];if(t&&r.htmlWindow)continue;if(!r.element)continue;if(r.element.classList.contains("ws-render-blocked"))continue;e.push(r)}return e}},{key:"getWindowById",value:function(t){return this.windowImageHolders[t]}},{key:"getInternalFrameWrappersByOwnerWinId",value:function(t){var e=[];for(var n in this.internalFrameWrapperHolders)if(this.internalFrameWrapperHolders.hasOwnProperty(n)){var r=this.internalFrameWrapperHolders[n];r.dataset.ownerid===t&&e.push({id:n,ifw:r})}return e}},{key:"onWindowFocus",value:function(){var t,e=0;if(document.querySelectorAll("canvas.webswing-canvas:not(.ws-render-blocked)").forEach((function(n){var r=n,o=Number(r.style.zIndex);o>e&&(e=o,t=r.dataset.id)})),t){var n=this.getWindowById(t);n&&n.requestFocus()}}},{key:"getPixels",value:function(t){var e=document.createElement("canvas");e.width=t.w,e.height=t.h;var n=e.getContext("2d"),r=this.getWindows(!0);r.sort((function(t,e){return t.element.style.zIndex>e.element.style.zIndex?1:t.element.style.zIndex<e.element.style.zIndex?-1:0}));var o,i=_(r);try{for(i.s();!(o=i.n()).done;){var a=o.value;if(!a.htmlWindow){var s=a.element.getBoundingClientRect();if(s.left>t.x+t.w||s.top>t.y+t.h||t.x>s.left+s.width||t.y>s.top+s.height)continue;var l=Math.max(t.x,s.left),c=Math.max(t.y,s.top),u=Math.min(t.x+t.w-l,s.left+s.width-l),d=Math.min(t.y+t.h-c,s.top+s.height-c);n.putImageData(a.element.getContext("2d").getImageData(l-s.left,c-s.top,u,d),l-t.x,c-t.y)}}}catch(t){i.e(t)}finally{i.f()}var p=e.toDataURL("image/png");return{pixelsResponse:{correlationId:t.correlationId,pixels:p}}}},{key:"performAction",value:function(t){this.performActionInternal(Object(r.j)({eventType:nt.user},t))}},{key:"performActionInternal",value:function(t){this.api.send({action:{actionName:t.actionName,eventType:t.eventType,data:t.data||"",binaryData:t.binaryData||null,windowId:t.windowId||""}})}},{key:"processActionEvent",value:function(t){try{t.windowId&&this.windowImageHolders[t.windowId]?this.windowImageHolders[t.windowId].handleActionEvent(t.actionName,t.data,t.binaryData):this.api.handleActionEvent(t.actionName,t.data,t.binaryData)}catch(t){console.error(t)}}},{key:"windowOpening",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowOpening&&this.api.cfg.windowsListener.windowOpening(t)}catch(t){console.error(t)}}},{key:"windowOpened",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowOpened&&this.api.cfg.windowsListener.windowOpened(t)}catch(t){console.error(t)}}},{key:"windowClosing",value:function(t,e){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowClosing&&this.api.cfg.windowsListener.windowClosing(t,e)}catch(t){console.error(t)}}},{key:"windowClosed",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowClosed&&this.api.cfg.windowsListener.windowClosed(t)}catch(t){console.error(t)}}},{key:"windowModalBlockedChanged",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowModalBlockedChanged&&this.api.cfg.windowsListener.windowModalBlockedChanged(t)}catch(t){console.error(t)}}},{key:"getApi",value:function(){return this.api}},{key:"renderConfig",value:function(){return{findHiddenWindowsPeriod:3e3,findHiddenWindowsThreshold:5e3}}}]),n}(o.b);function st(){var t;function e(){postMessage({heartbeat:!0},void 0)}return function(n){"startHeartbeat"===n.data&&(e(),t=setInterval(e,1e3)),"stopHeartbeat"===n.data&&t&&(clearInterval(t),t=null)}}var lt=function t(e){var n=this;q(this,t),this.id=e,V(this,"defaultPrevented",void 0),V(this,"preventDefault",(function(){n.defaultPrevented=!0})),V(this,"isDefaultPrevented",(function(){return n.defaultPrevented})),this.defaultPrevented=!1},ct=function(){function t(e,n,r,o,i,a,s,l,c,u,d,p,f){var h=this;q(this,t),this.id=e,this.tabId=n,this.ownerId=r,this.parents=o,this.element=i,this.internal=a,this.name=s,this.title=l,this.classType=c,this.minimized=u,this.resizable=d,this.focused=p,this.renderModule=f,V(this,"htmlWindow",!1),V(this,"state",0),V(this,"dockMode",rt.none),V(this,"dockState",ot.docked),V(this,"preventTocClose",!1),V(this,"isUndocking",!1),V(this,"ignoreNextPositioning",!1),V(this,"validatePositionAndSize",void 0),V(this,"webswingInstance",void 0),this.webswingInstance=f.getApi().getExternalApi(),this.validatePositionAndSize=function(t,e){f.validateAndPositionWindow(h,t,e)}}return J(t,[{key:"disposeInternal",value:function(){this.element.remove()}},{key:"isInParentHierarchy",value:function(t){if(!this.parents||0===this.parents.length)return!1;var e,n=_(this.parents);try{for(n.s();!(e=n.n()).done;){if(e.value===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"isModalBlocked",value:function(){return this.element.classList.contains("modal-blocked")}},{key:"getDockMode",value:function(){return this.dockMode}},{key:"getDockState",value:function(){return this.dockState}},{key:"setBounds",value:function(t,e,n,r){this.renderModule.getApi().send({window:{id:this.id,x:Math.floor(t),y:Math.floor(e),width:Math.floor(n),height:Math.floor(r)}})}},{key:"setLocation",value:function(t,e){this.renderModule.getApi().send({window:{id:this.id,x:Math.floor(t),y:Math.floor(e)}})}},{key:"setSize",value:function(t,e){this.renderModule.getApi().send({window:{id:this.id,width:Math.floor(t),height:Math.floor(e)}})}},{key:"detach",value:function(){if(this.element.parentNode)return this.element.parentNode.removeChild(this.element);console.error("Cannot detach window, it is not attached to any parent!")}},{key:"attach",value:function(t,e){this.element.parentNode?console.error("Cannot attach window, it is still attached to another parent!"):t&&(t.append(this.element),e&&this.setLocation(e.x,e.y))}},{key:"undock",value:function(){if(this.dockMode!==rt.none&&this.dockState!==ot.undocked){var t=this.element.getBoundingClientRect();this.renderModule.getApi().undockWindow(this.id,this.tabId,!1,this.element,Math.floor(t.x),Math.floor(t.y),Math.floor(t.width),Math.floor(t.height),null,null)}}},{key:"dock",value:function(){this.renderModule.getApi().dockWindow(this)}},{key:"toggleDock",value:function(){this.dockState===ot.docked?this.undock():this.dock()}},{key:"maximize",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:Z.maximize}})}},{key:"setUndecorated",value:function(t){t?this.renderModule.getApi().send({window:{id:this.id,eventType:Z.undecorate}}):this.renderModule.getApi().send({window:{id:this.id,eventType:Z.decorate}})}},{key:"isRelocated",value:function(){return this.element.parentElement!==this.renderModule.getApi().cfg.rootElement}},{key:"close",value:function(){this.renderModule.closeWindow(this.id)}},{key:"requestFocus",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:Z.focus}})}},{key:"restore",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:Z.restore}})}},{key:"toFront",value:function(){this.renderModule.getApi().send({window:{id:this.id,eventType:Z.toFront}})}},{key:"performAction",value:function(t){this.renderModule.performAction(Object(r.j)({windowId:this.id},t))}},{key:"handleActionEvent",value:function(t,e,n){}},{key:"windowClosing",value:function(t){}},{key:"windowClosed",value:function(){}}]),t}(),ut=function(){function t(e,n,r,o,i,a){q(this,t),this.id=e,this.ownerId=n,this.parents=r,this.element=o,this.name=i,this.renderModule=a,V(this,"htmlWindow",!0),V(this,"internal",!1),V(this,"dockMode",rt.none),V(this,"dockState",void 0),V(this,"ignoreNextPositioning",!1),V(this,"webswingInstance",void 0),this.webswingInstance=a.getApi().getExternalApi()}return J(t,[{key:"disposeInternal",value:function(){this.element&&(this.element.remove(),this.element=null)}},{key:"validatePositionAndSize",value:function(t,e){this.renderModule.validateAndPositionWindow(this,t,e)}},{key:"isInParentHierarchy",value:function(t){if(!this.parents||0===this.parents.length)return!1;var e,n=_(this.parents);try{for(n.s();!(e=n.n()).done;){if(e.value===t)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"isModalBlocked",value:function(){return!!this.element&&this.element.classList.contains("modal-blocked")}},{key:"performAction",value:function(t){this.renderModule.performAction(Object(r.j)({windowId:this.id},t))}},{key:"dispose",value:function(){this.element&&this.element.remove(),delete this.renderModule.windowImageHolders[this.id],this.renderModule.repaint()}},{key:"handleActionEvent",value:function(t,e,n){}},{key:"windowClosing",value:function(t){}},{key:"windowClosed",value:function(){}}]),t}(),dt=n(64);function pt(t){return(pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=bt(t);if(e){var o=bt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(t,e){return!e||"object"!==pt(e)&&"function"!=typeof e?wt(t):e}function wt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bt(t){return(bt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot={cfg:"webswing.config",processMessage:"base.processMessage",showDialog:"dialog.show",showBar:"dialog.showBar",hideDialog:"dialog.hide",currentDialog:"dialog.current",dialogs:"dialog.content",reTrySession:"webswing.reTrySession",startPing:"ping.start",disposePing:"ping.dispose",repaint:"render.repaint",setInstanceTab:"dock.setInstanceTab"},Pt=i.commonProto.TabStateMsgInProto.TabStateTypeProto,kt=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,St=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gt(t,e)}(a,t);var e,n,o,i=yt(a);function a(){var t;ft(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return mt(wt(t=i.call.apply(i,[this].concat(n))),"maxMessageSize",null),mt(wt(t),"chunkOverhead",null),mt(wt(t),"maxRetries",1),mt(wt(t),"retryNumber",0),mt(wt(t),"socketOpen",!1),mt(wt(t),"socket",void 0),mt(wt(t),"instanceId",void 0),mt(wt(t),"responseHandlers",{}),mt(wt(t),"connectionInfo",void 0),mt(wt(t),"lastPartialId",null),mt(wt(t),"partialMsg",null),t}return e=a,(n=[{key:"provides",value:function(){return{"socket.connect":this.connect,"socket.send":this.send,"socket.sendHandshake":this.sendHandshake,"socket.sendTimestamp":this.sendTimestamp,"socket.sendPlaybackCommand":this.sendPlaybackCommand,"socket.sendSimpleEvent":this.sendSimpleEvent,"socket.sendTabsUpdate":this.sendTabsUpdate,"socket.instanceId":this.getInstanceId,"socket.awaitResponse":this.awaitResponse,"socket.dispose":this.dispose,"socket.clearInstanceId":this.clearInstanceId,"socket.getConnectionInfo":this.getConnectionInfo}}},{key:"connect",value:function(){this.connectWebSocket()}},{key:"dispose",value:function(){this.socket&&(this.socket.onclose=null,this.socketOpen=!1,this.socket.close(1e3,"Disconnecting instance.")),this.socket=void 0,this.connectionInfo=void 0}},{key:"send",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create(),n=m.appFrameProtoIn.AppFrameMsgInProto.fromObject(t),r=m.appFrameProtoIn.AppFrameMsgInProto.encode(n).finish();e.appFrameMsgIn=r,this.sendAppFrame(e)}},{key:"sendHandshake",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.handshake=t,this.sendAppFrame(e)}},{key:"sendTimestamp",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.timestamps=[t],this.sendAppFrame(e)}},{key:"sendSimpleEvent",value:function(t){this.send({simpleEvents:[t]})}},{key:"sendPlaybackCommand",value:function(t){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.playback=t,this.sendAppFrame(e)}},{key:"sendTabsUpdate",value:function(t){if(!this.api.cfg.mirror){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();e.tabs=t,this.sendAppFrame(e)}}},{key:"sendHeartbeat",value:function(){this.send({heartbeat:{}})}},{key:"sendLoginHandshake",value:function(){if(!this.api.cfg.mirror||this.api.cfg.recordingPlayback){var t=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();t.loginHandshake={token:Object(r.s)(),securitySuffix:Object(r.q)()},this.sendAppFrame(t)}else this.sendPlainSocketMessage(JSON.stringify({auth:!0,token:Object(r.s)(),securitySuffix:Object(r.q)()}))}},{key:"sendPlainSocketMessage",value:function(t){this.socket&&null!=this.socket&&this.socketOpen&&this.socket.send(Uint8Array.from(t,(function(t){return t.charCodeAt(0)})))}},{key:"awaitResponse",value:function(t,e,n,r){var o=this;this.send(e),this.responseHandlers[n]=t,setTimeout((function(){null!=o.responseHandlers[n]&&(delete o.responseHandlers[n],t(new Error("Java call timed out after "+r+" ms.")))}),r)}},{key:"getInstanceId",value:function(){return this.instanceId}},{key:"clearInstanceId",value:function(){this.instanceId=void 0}},{key:"getConnectionInfo",value:function(){var t,e;return{serverId:null===(t=this.connectionInfo)||void 0===t?void 0:t.serverId,sessionPoolId:null===(e=this.connectionInfo)||void 0===e?void 0:e.sessionPoolId,tabId:window.name,instanceId:this.instanceId}}},{key:"sendAppFrame",value:function(t){if(this.socket&&null!=this.socket)if(this.socketOpen){var e=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.encode(t).finish();this.sendAppFrameInternal(e)}else{var n=this.api.currentDialog();if(n===this.api.dialogs.sessionStolenNotification||n===this.api.dialogs.disconnectedDialog||n===this.api.dialogs.reconnectingDialog||n===this.api.dialogs.startingDialog||n===this.api.dialogs.initializingDialog)return;this.api.showDialog(this.api.dialogs.disconnectedDialog)}}},{key:"sendAppFrameInternal",value:function(t){var e=this;if(this.socket)switch(this.socket.readyState){case this.socket.OPEN:this.sendMessage(t);break;case this.socket.CONNECTING:setTimeout((function(){e.sendAppFrameInternal(t)}),10)}}},{key:"sendMessage",value:function(t){if(this.socket)if(null!=this.maxMessageSize&&null!=this.chunkOverhead&&t.length>this.maxMessageSize)for(var e=this.maxMessageSize-this.chunkOverhead,n=this.splitToChunks(t,e),o=Object(r.b)(),i=0;i<n.length;i++){var a=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.create();a.partialPayload={partial:n[i],partialId:o,last:i==n.length-1};var s=dt.serverBrowserFrameProto.BrowserToServerFrameMsgInProto.encode(a).finish();this.socket.send(It(s))}else this.socket.send(It(t))}},{key:"splitToChunks",value:function(t,e){for(var n=[],r=0;r<t.length;){var o=t.subarray(r,Math.min(r+e,t.length));n.push(o),r+=o.length}return n}},{key:"connectWebSocket",value:function(){var t=this,e=Object(r.l)(this.api.cfg.connectionUrl);this.api.cfg.mirror&&this.api.cfg.mirrorConnectionUrl&&(e=Object(r.l)(this.api.cfg.mirrorConnectionUrl));var n=e.replace(/(http)(s)?\:\/\//,"ws$2://"),o=n+"async/swing-bin";this.api.cfg.recordingPlayback&&(o=n+"async/swing-play"),this.api.cfg.recordingPlayback&&(o=this.appendParam(o,"file="+encodeURIComponent(this.api.cfg.recordingPlayback))),null!=this.api.cfg.args&&(o=this.appendParam(o,"X-webswing-args="+encodeURIComponent(this.api.cfg.args))),null!=this.api.cfg.recording&&(o=this.appendParam(o,"X-webswing-recording="+encodeURIComponent(this.api.cfg.recording))),null!=this.api.cfg.debugPort&&(o=this.appendParam(o,"X-webswing-debugPort="+encodeURIComponent(this.api.cfg.debugPort))),this.api.cfg.mirror&&(o=this.appendParam(o,"X-webswing-instanceId="+encodeURIComponent(this.api.cfg.clientId))),this.api.cfg.undockedStart&&this.api.cfg.undockedInstanceId&&(o=this.appendParam(o,"X-webswing-undockedInstanceId="+encodeURIComponent(this.api.cfg.undockedInstanceId))),this.socket=new WebSocket(o),this.socket.binaryType="arraybuffer",this.socket.onopen=function(){t.socketOpen=!0,t.sendLoginHandshake(),t.api.repaint(),t.api.startPing()},this.socket.onmessage=function(e){t.retryNumber=0;var n=(new Date).getTime();try{var r=t.decodeResponse(e.data);if(null==r)return;var o={};if(null!=r.connectionInfo&&(t.connectionInfo=r.connectionInfo,console.log("Connected to:\n\tserver ["+r.connectionInfo.serverId+"]\n\tsession pool ["+r.connectionInfo.sessionPoolId+"]\n\tinstance ["+t.instanceId+"]\n\ttab ["+window.name+"]")),r.appFrameMsgOut&&null!=r.appFrameMsgOut){var i=b.appFrameProtoOut.AppFrameMsgOutProto.decode(r.appFrameMsgOut);if(null!=(o=b.appFrameProtoOut.AppFrameMsgOutProto.toObject(i)).instanceId&&(t.instanceId=o.instanceId,t.api.setInstanceTab(t.instanceId,window.name,Pt.Connected,t.api.cfg.undockedStart?kt.Undocked:kt.Primary)),null!=o.heartbeat&&t.sendHeartbeat(),null!=o.instanceConfig&&(t.maxMessageSize=o.instanceConfig.websocketMaxMessageSize,t.chunkOverhead=o.instanceConfig.websocketMessageChunkOverhead),null!=o.javaResponse&&null!=o.javaResponse.correlationId){var a=o.javaResponse.correlationId;if(null!=t.responseHandlers[a]){var s=t.responseHandlers[a];delete t.responseHandlers[a],s(o.javaResponse)}}o.receivedTimestamp=n}t.api.processMessage(o)}catch(t){return void console.error(t.stack)}},this.socket.onclose=function(e){if(t.socketOpen=!1,t.api.disposePing(),t.api.currentDialog()!==t.api.dialogs.stoppedDialog&&t.api.currentDialog()!==t.api.dialogs.timedoutDialog&&t.api.currentDialog()!==t.api.dialogs.sessionStolenNotification&&t.api.currentDialog()!=t.api.dialogs.popupsBlockedDialog){var n=Object(r.s)(),o=!n||null==n||!n.length,i=1e3===e.code;t.retryNumber>=t.maxRetries||o||i?(t.api.hideDialog(),t.api.showDialog(t.api.dialogs.disconnectedDialog),t.retryNumber=0):(t.api.showDialog(t.api.dialogs.reconnectingDialog),t.retryNumber++,t.api.reTrySession())}},this.socket.onerror=function(){t.api.showDialog(t.api.dialogs.connectionErrorDialog)}}},{key:"appendParam",value:function(t,e){return t+(-1==t.indexOf("?")?"?":"&")+e}},{key:"decodeResponse",value:function(t){if(1===t.byteLength)return{};var e=new Uint8Array(t),n=dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.decode(e),r=dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.toObject(n),o=r.partialPayload;if(null==o||null==o.partial||null==o.partialId)return r;if(o.partialId!==this.lastPartialId&&(this.partialMsg=null,this.lastPartialId=o.partialId),null==this.partialMsg)this.partialMsg=o.partial;else{var i=new Uint8Array(this.partialMsg.length+o.partial.length);i.set(this.partialMsg),i.set(o.partial,this.partialMsg.length),this.partialMsg=i}if(o.last){var a=dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.decode(this.partialMsg),s=dt.serverBrowserFrameProto.ServerToBrowserFrameMsgOutProto.toObject(a);return this.partialMsg=null,this.lastPartialId=null,s}return null}}])&&ht(e.prototype,n),o&&ht(e,o),a}(o.b);function It(t){return t.buffer.slice(t.byteOffset,t.byteLength+t.byteOffset)}function Et(t){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function jt(t,e){return(jt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function xt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Dt(t);if(e){var o=Dt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mt(this,n)}}function Mt(t,e){return!e||"object"!==Et(e)&&"function"!=typeof e?At(t):e}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dt(t){return(Dt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ct={cfg:"webswing.config",start:"webswing.start",disconnect:"webswing.disconnect",showDialog:"dialog.show",dialogs:"dialog.content"},Ft=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jt(t,e)}(i,t);var e,n,r,o=xt(i);function i(t,e){var n,r,a,s;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),(n=o.call(this,t)).util=e,r=At(n),s=void 0,(a="user")in r?Object.defineProperty(r,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):r[a]=s,n.init(),n}return e=i,(n=[{key:"provides",value:function(){return{"login.login":this.login,"login.logout":this.logout,"login.touchSession":this.touchSession,"login.user":this.getUser}}},{key:"login",value:function(t,e,n){var r,o=this;try{r=window.top.location.href}catch(t){r=window.location.href}var i={securityToken:this.api.cfg.securityToken,realm:this.api.cfg.realm,successUrl:r};this.util.webswingLogin(this.api.cfg.connectionUrl,(function(){return o.api.showDialog(o.api.dialogs.emptyMessage)}),i,(function(e,r){n||localStorage.setItem("webswingLogin",Date.now().toString()),o.user=r,null!=t&&t()}),e)}},{key:"logout",value:function(t,e){var n=this,r=this.api.showDialog(this.api.dialogs.logingOut);this.util.webswingLogout(this.api.cfg.connectionUrl,r,(function(){n.api.disconnect(),n.api.start()}),(function(){n.api.showDialog(n.api.dialogs.disconnectedDialog)}),t,e)}},{key:"touchSession",value:function(t){var e=this;this.util.refreshLogin(this.api.cfg.connectionUrl,(function(n,r){n||r||e.logout(t)}))}},{key:"getUser",value:function(){return this.user}},{key:"init",value:function(){var t=this;window.addEventListener("storage",(function(e){return t.tabEvent(e)}))}},{key:"tabEvent",value:function(t){("webswingLogout"===t.key||"webswingLogin"===t.key)&&this.touchSession(!0)}}])&&Tt(e.prototype,n),r&&Tt(e,r),i}(o.b);function Bt(t){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Lt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Nt(t);if(e){var o=Nt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _t(this,n)}}function _t(t,e){return!e||"object"!==Bt(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Nt(t){return(Nt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wt(t,e)}(a,t);var e,n,o,i=Ut(a);function a(){return Rt(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"provides",value:function(){return{"identity.get":this.get,"identity.dispose":this.dispose}}},{key:"get",value:function(){var t=localStorage.getItem("webswingID");return null!=t||(t=Object(r.b)(),localStorage.setItem("webswingID",t)),t}},{key:"dispose",value:function(){localStorage.removeItem("webswingID")}}])&&Lt(e.prototype,n),o&&Lt(e,o),a}(o.b);function qt(t){return(qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zt(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Jt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jt(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Jt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gt(t,e){return(Gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Qt(t);if(e){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $t(this,n)}}function $t(t,e){return!e||"object"!==qt(e)&&"function"!=typeof e?Vt(t):e}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qt(t){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Zt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var te={cfg:"webswing.config",external:"external.api",send:"socket.send",awaitResponse:"socket.awaitResponse"},ee=b.appFrameProtoOut.JsEvalRequestMsgOutProto.JsEvalRequestTypeProto,ne="__webswing_jslink_id",re=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gt(t,e)}(a,t);var e,n,o,i=Kt(a);function a(){var t;Yt(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Zt(Vt(t=i.call.apply(i,[this].concat(n))),"referenceCache",{}),Zt(Vt(t),"ready",(function(){t.referenceCache.instanceObject=t.api.external()})),t}return e=a,(n=[{key:"provides",value:function(){return{"jslink.process":this.process}}},{key:"process",value:function(t){var e=this,n={};try{if(null==t.evalString)return;if(t.type===ee.eval){var r=(0,eval)(t.evalString);n=this.buildResponse(r,t.correlationId)}else if(t.type===ee.call){var o=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window,i=this.decodeParams(t),a=o[t.evalString].apply(o,i);n=this.buildResponse(a,t.correlationId)}else if(t.type===ee.setMember||t.type===ee.setSlot){var s=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window,l=this.decodeParams(t);s[t.evalString]=null!=l?l[0]:null,n=this.buildResponse(null,t.correlationId)}else if(t.type===ee.getMember||t.type===ee.getSlot){var c=null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window;n=this.buildResponse(c[t.evalString],t.correlationId)}else t.type===ee.deleteMember&&(delete(null!=t.thisObjectId?this.referenceCache[t.thisObjectId]:window)[t.evalString],n=this.buildResponse(null,t.correlationId));null!=t.garbageIds&&t.garbageIds.forEach((function(t){delete e.referenceCache[t]})),this.api.send(n)}catch(e){throw n=this.buildResponse(e,t.correlationId),this.api.send(n),e}}},{key:"buildResponse",value:function(t,e){var n={jsResponse:this.serializeObject(t)};return n.jsResponse.correlationId=e,n}},{key:"serializeObject",value:function(t){var e={};return null==t?(e.value=null,e):"[object Error]"===Object.prototype.toString.call(t)?(e.error=t.toString(),e):(e.value={},"number"==typeof t||"string"==typeof t||"boolean"==typeof t?e.value.primitive=JSON.stringify(t):t instanceof oe?e.value.javaObject={id:t.id}:(null==t[ne]&&(t[ne]=Object(r.b)(),this.referenceCache[t[ne]]=t),e.value.jsObject={id:t[ne]}),e)}},{key:"decodeParams",value:function(t){var e=[],n=t.params;if(null!=n){var r,o=zt(n);try{for(o.s();!(r=o.n()).done;){var i=r.value;e.push(this.decodeJsParam(i))}}catch(t){o.e(t)}finally{o.f()}}return e}},{key:"decodeJsParam",value:function(t){if(null!=t.primitive)return JSON.parse(t.primitive);if(null!=t.jsObject&&null!=t.jsObject.id)return this.referenceCache[t.jsObject.id];if(null!=t.javaObject)return new oe(t.javaObject,this,this.api);if(null!=t.array){var e,n=[],r=zt(t.array);try{for(r.s();!(e=r.n()).done;){var o=e.value;n.push(this.decodeJsParam(o))}}catch(t){r.e(t)}finally{r.f()}return n}return null}}])&&Xt(e.prototype,n),o&&Xt(e,o),a}(o.b),oe=function t(e,n,o){if(Yt(this,t),Zt(this,"id",void 0),this.id=e.id,null!=e.methods){var i,a=zt(e.methods);try{for(a.s();!(i=a.n()).done;){var s=i.value;this[s]=function(t){return function(){var i=arguments;return new Promise((function(a,s){for(var l=Object(r.b)(),c=[],u=0;u<i.length;u++){var d=n.serializeObject(i[u]);c[u]=d.value}var p={javaRequest:{correlationId:l,objectId:e.id,method:t,params:c}};o.awaitResponse((function(t){"[object Error]"===Object.prototype.toString.call(t)?s(t):null!=t.error?s(new Error(t.error)):null!=t.value&&a(n.decodeJsParam(t.value))}),p,l,o.cfg.javaCallTimeout)}))}}(s)}}catch(t){a.e(t)}finally{a.f()}}},ie=n(363),ae=n.n(ie),se=n(364),le=n.n(se);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return de(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return de(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function de(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pe(t,e,n,r,o,i,a){try{var s=t[i](a),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(r,o)}function fe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function he(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=be(t);if(e){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(t,e){return!e||"object"!==ce(e)&&"function"!=typeof e?we(t):e}function we(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function me(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Oe={cfg:"webswing.config",send:"socket.send",focusDefault:"focusManager.focusDefault",translate:"translate.translate"},Pe=m.appFrameProtoIn.ClipboardEventMsgInProto.ClipboardEventMsgTypeProto,ke=window,Se=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ge(t,e)}(a,t);var e,n,o,i=ye(a);function a(){var t;fe(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return me(we(t=i.call.apply(i,[this].concat(n))),"html",void 0),me(we(t),"pasteHtml",void 0),me(we(t),"copyBar",void 0),me(we(t),"pasteDialog",void 0),me(we(t),"hasClipboardReadPerm",!1),me(we(t),"isClipboardSyncSupported",!0),me(we(t),"clipboardReadPermAsks",5),me(we(t),"textData",void 0),me(we(t),"htmlData",void 0),me(we(t),"imgData",void 0),me(we(t),"syncListener",null),me(we(t),"ready",(function(){t.html=t.api.translate(ae.a),t.pasteHtml=t.api.translate(le.a)})),t}return e=a,(n=[{key:"provides",value:function(){return{"clipboard.register":this.register,"clipboard.cut":this.cut,"clipboard.copy":this.copy,"clipboard.paste":this.paste,"clipboard.updateLocalData":this.updateLocalData,"clipboard.displayCopyBar":this.displayCopyBar,"clipboard.displayPasteDialog":this.displayPasteDialog,"clipboard.dispose":this.dispose}}},{key:"register",value:function(){var t=this;this.syncListener=function(){return t.syncClipboard()},window.addEventListener("focus",this.syncListener)}},{key:"dispose",value:function(){this.close(),this.syncListener&&window.removeEventListener("focus",this.syncListener)}},{key:"requestClipboardPermission",value:function(){var t=this;return new Promise((function(){navigator.permissions.query({name:"clipboard-read"}).then((function(e){t.hasClipboardReadPerm="granted"==e.state||"prompt"==e.state})).catch((function(){return t.clipboardSyncFail()}))}))}},{key:"clipboardSyncFail",value:function(){console.warn("Automatic clipboard synchronization is not supported, because navigator.clipboard.read() is not supported by your browser.\n To use this feature you can use Google Chrome instead for example."),this.isClipboardSyncSupported=!1}},{key:"syncClipboard",value:function(){var t,e,n,o=this;this.api.cfg.syncClipboard&&(this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11?(t=ke.clipboardData.getData("Text"),e=t,t==this.textData&&e==this.htmlData||(this.sendSyncEvent(t,e),this.updateLocalData(t,e))):this.hasClipboardReadPerm?navigator.clipboard.read().then(function(){var i,a=(i=regeneratorRuntime.mark((function i(a){var s,l,c,u,d,p,f;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:l=ue(a),i.prev=1,l.s();case 3:if((c=l.n()).done){i.next=47;break}s=c.value,u=ue(s.types),i.prev=6,u.s();case 8:if((d=u.n()).done){i.next=37;break}return p=d.value,i.next=12,s.getType(p);case 12:if(null!=(f=i.sent)){i.next=15;break}return i.abrupt("continue",35);case 15:if(0!==p.indexOf("image")){i.next=25;break}return i.t0=r.n,i.t1=Uint8Array,i.next=20,f.arrayBuffer();case 20:i.t2=i.sent,i.t3=new i.t1(i.t2),n=(0,i.t0)(i.t3),i.next=35;break;case 25:if("text/plain"!=p){i.next=31;break}return i.next=28,f.text();case 28:t=i.sent,i.next=35;break;case 31:if("text/html"!=p){i.next=35;break}return i.next=34,f.text();case 34:e=i.sent;case 35:i.next=8;break;case 37:i.next=42;break;case 39:i.prev=39,i.t4=i.catch(6),u.e(i.t4);case 42:return i.prev=42,u.f(),i.finish(42);case 45:i.next=3;break;case 47:i.next=52;break;case 49:i.prev=49,i.t5=i.catch(1),l.e(i.t5);case 52:return i.prev=52,l.f(),i.finish(52);case 55:t==o.textData&&e==o.htmlData&&n==o.imgData||(o.sendSyncEvent(t,e,n),o.updateLocalData(t,e,n));case 56:case"end":return i.stop()}}),i,null,[[1,49,52,55],[6,39,42,45]])})),function(){var t=this,e=arguments;return new Promise((function(n,r){var o=i.apply(t,e);function a(t){pe(o,n,r,a,s,"next",t)}function s(t){pe(o,n,r,a,s,"throw",t)}a(void 0)}))});return function(t){return a.apply(this,arguments)}}()):this.isClipboardSyncSupported&&this.requestClipboardPermission().then((function(){(o.hasClipboardReadPerm||o.clipboardReadPermAsks-- >=0)&&o.syncClipboard()})).catch((function(){return o.clipboardSyncFail()})))}},{key:"updateLocalData",value:function(t,e,n){this.textData=t,this.htmlData=e,n instanceof Uint8Array?this.imgData=Object(r.n)(n):this.imgData=n}},{key:"paste",value:function(t,e){var n=this;if(this.api.cfg.hasControl){var r=function(){var r="",o="";if(n.api.cfg.ieVersion&&n.api.cfg.ieVersion<=11)r=ke.clipboardData.getData("Text"),o=r;else{var i=t.clipboardData;if(r=null==i?void 0:i.getData("text/plain"),o=null==i?void 0:i.getData("text/html"),null!=(null==i?void 0:i.items))for(var a=0;a<i.items.length;a++)if(0===i.items[a].type.indexOf("image")){var s=i.items[a],l=new FileReader;l.onload=function(t){var i;n.sendPasteEvent(e,r,o,null===(i=t.target)||void 0===i?void 0:i.result)};var c=s.getAsFile();return c&&l.readAsDataURL(c),{v:void 0}}}n.sendPasteEvent(e,r,o)}();if("object"===ce(r))return r.v}}},{key:"sendPasteEvent",value:function(t,e,n,r){this.api.send({clipboardEvent:{type:Pe.paste,special:!!t,text:null!=e&&0!==e.length?e:void 0,html:null!=n&&0!==n.length?n:void 0,img:null!=r?r:void 0}})}},{key:"sendSyncEvent",value:function(t,e,n){(t||e||n)&&this.api.send({clipboardEvent:{type:Pe.sync,text:null!=t&&0!==t.length?t:void 0,html:null!=e&&0!==e.length?e:void 0,img:null!=n?n:void 0}})}},{key:"cut",value:function(t){this.copy(t,!0)}},{key:"copy",value:function(t,e){if(null==this.copyBar){var n;this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11?ke.clipboardData.setData("Text",""):null===(n=t.clipboardData)||void 0===n||n.setData("text/plain",""),this.api.send({clipboardEvent:{type:!0===e?Pe.cut:Pe.copy}})}else{var o=this.copyBar.wsEventData;if(this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11){var i=ke.clipboardData;null!=(null==o?void 0:o.text)&&(t.preventDefault(),i.setData("Text",o.text)),this.close()}else{var a,s;if((t=t.originalEvent||t).preventDefault(),null!=(null==o?void 0:o.text)&&(null===(a=t.clipboardData)||void 0===a||a.setData("text/plain",o.text)),null==(null==o?void 0:o.html)||this.api.cfg.ieVersion||null===(s=t.clipboardData)||void 0===s||s.setData("text/html",o.html),null!=(null==o?void 0:o.img)&&Object(r.f)())try{var l=Object(r.n)(o.img);r.a.fetch(l).then((function(t){return t.blob()})).then((function(t){return navigator.clipboard.write([new ClipboardItem({"image/png":t})])}))}catch(t){console.error("Failed copying image to clipboard: "+t)}this.close()}}}},{key:"displayCopyBar",value:function(t){var e=this;null!=this.copyBar&&this.close();var n=document.querySelector(".webswing-element-content");n.insertAdjacentHTML("beforeend",this.html),this.copyBar=n.querySelector('div[data-id="copyBar"]'),this.copyBar.wsEventData=t;var o=this.copyBar.querySelector('button[data-id="closeBtn"]');null==o||o.addEventListener("click",(function(){e.close()})),Object(r.C)(this.copyBar);var i=function(t,n){var r,o,i,a,s,l;null===(r=e.copyBar)||void 0===r||null===(o=r.querySelector(".ws-btn--selected"))||void 0===o||o.classList.remove("ws-btn--selected"),null===(i=e.copyBar)||void 0===i||null===(a=i.querySelector(".ws-clipboard-item--active"))||void 0===a||a.classList.remove("ws-clipboard-item--active"),t.classList.add("ws-btn--selected"),null===(s=e.copyBar)||void 0===s||null===(l=s.querySelector('div[data-id="'+n+'"]'))||void 0===l||l.classList.add("ws-clipboard-item--active")},a=this.copyBar.querySelector('button[data-id="text"]');if(Object(r.w)())a.textContent="Copy to clipboard";else if(this.api.cfg.isMac){var s=document.createElement("p");s.textContent="Copy to clipboard with CMD+C",a.after(s),a.remove(),a=s}if(null!=t.text&&0!==t.text.length||null!=t.html&&0!==t.html.length){var l=this.copyBar.querySelector('div[data-id="textarea"]');null!=t.text&&0!==t.text.length?l.insertAdjacentHTML("beforeend",'<pre class="ws-clipboard-text-pre">'+t.text+"</pre>"):l.innerHTML='<iframe class="ws-clipboard-text-iframe" src="data:text/html;charset=utf-8,'+encodeURIComponent(t.html?t.html:"")+'"></iframe>',a.addEventListener("mouseenter",(function(){i(a,"text"),e.maximize()}))}if(a.addEventListener("click",(function(){if(Object(r.w)()){var t=document.createElement("textarea");try{t.setAttribute("readonly","false"),t.setAttribute("contenteditable","true"),t.style.position="fixed",t.value=" ",document.body.appendChild(t),t.focus(),t.select();var e=document.createRange();e.selectNodeContents(t);var n=window.getSelection();null==n||n.removeAllRanges(),null==n||n.addRange(e),t.setSelectionRange(0,t.value.length),document.execCommand("copy")}finally{document.body.removeChild(t)}}else document.execCommand("copy")})),null!=t.files&&0!==t.files.length||null!=t.img){if(null!=t.files&&0!==t.files.length){var c,u=this.copyBar.querySelector("#wsFileList"),d=ue(t.files);try{for(d.s();!(c=d.n()).done;){var p=c.value,f=document.createElement("a");0===p.indexOf("#")?(f=document.createElement("span")).innerHTML=p.substring(1):(f.innerHTML=p,f.addEventListener("click",(function(t){e.api.send({clipboardEvent:{type:Pe.getFileFromClipboard,file:t.currentTarget.innerHTML}})}))),null==u||u.appendChild(f),u.insertAdjacentHTML("beforeend","<br/>")}}catch(t){d.e(t)}finally{d.f()}}else{var h;null===(h=this.copyBar.querySelector('div[data-id="files"]'))||void 0===h||h.remove()}if(null!=t.img){var g=Object(r.n)(t.img);this.copyBar.querySelector('div[data-id="image"]').insertAdjacentHTML("beforeend",'<a target="_blank" download="clipboard.png" href="'+g+'"><img src="'+g+'" id="wsCopyImage" class="ws-clipboard-img-thumb"></a>')}else{var y;null===(y=this.copyBar.querySelector('div[data-id="image"]'))||void 0===y||y.remove()}var v=this.copyBar.querySelector('button[data-id="more"]');v.addEventListener("mouseenter",(function(){i(v,"more"),e.maximize()}))}else this.copyBar.querySelector('button[data-id="more"]').remove();if(Object(r.t)(this.copyBar.querySelector('div[data-id="contentBar"]')),null!=t.text&&0!==t.text.length||null!=t.html&&0!==t.html.length||Object(r.f)()&&null!=t.img)this.copyBar.addEventListener("mouseleave",(function(){return e.minimize()}));else if(null!=t.files&&0!==t.files.length||null!=t.img){var w=this.copyBar.querySelector('button[data-id="more"]');i(w,"more"),a.remove(),w.remove(),this.maximize()}else this.close()}},{key:"minimize",value:function(){var t,e,n=null===(t=this.copyBar)||void 0===t?void 0:t.querySelector('div[data-id="contentBar"]');null!=this.copyBar&&(null===(e=this.copyBar.querySelector(".ws-btn--selected"))||void 0===e||e.classList.remove("ws-btn--selected"),Object(r.t)(n),this.copyBar.minimized=!0),this.api.focusDefault()}},{key:"maximize",value:function(){var t,e=null===(t=this.copyBar)||void 0===t?void 0:t.querySelector('div[data-id="contentBar"]');null!=this.copyBar&&(Object(r.C)(e),this.copyBar.minimized=!1)}},{key:"close",value:function(){null!=this.copyBar&&(Object(r.t)(this.copyBar),this.copyBar.remove(),this.copyBar=void 0),this.api.focusDefault()}},{key:"displayPasteDialog",value:function(t){var e,n,r,o=this;null!=this.pasteDialog&&this.closePasteDialog();var i=document.querySelector(".webswing-element-content");i.insertAdjacentHTML("beforeend",this.pasteHtml),this.pasteDialog=i.querySelector('div[data-id="pasteDialog"]'),(null===(e=this.pasteDialog)||void 0===e?void 0:e.querySelector('div[data-id="title"]')).innerHTML=this.api.translate(t.title?t.title:""),(null===(n=this.pasteDialog)||void 0===n?void 0:n.querySelector('div[data-id="message"]')).innerHTML=this.api.translate(t.message?t.message:"");var a=null===(r=this.pasteDialog)||void 0===r?void 0:r.querySelector('textarea[data-id="textarea"]');a.focus(),a.addEventListener("paste",(function(t){return t.preventDefault(),t.stopPropagation(),o.paste(t,!1),o.closePasteDialog(),!1}));var s=this.pasteDialog.querySelector('button[data-id="closeBtn"]');null==s||s.addEventListener("click",(function(){o.api.send({clipboardEvent:{type:Pe.paste}}),o.closePasteDialog()}))}},{key:"closePasteDialog",value:function(){null!=this.pasteDialog&&(Object(r.C)(this.pasteDialog),this.pasteDialog.remove(),this.pasteDialog=void 0),this.api.focusDefault()}}])&&he(e.prototype,n),o&&he(e,o),a}(o.b),Ie=n(365),Ee=n.n(Ie);function Te(t){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Me(t,e){return(Me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ae(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Fe(t);if(e){var o=Fe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return De(this,n)}}function De(t,e){return!e||"object"!==Te(e)&&"function"!=typeof e?Ce(t):e}function Ce(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fe(t){return(Fe=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Re={cfg:"webswing.config",sendPlaybackCommand:"socket.sendPlaybackCommand",disconnect:"webswing.disconnect",start:"webswing.start"},Le=dt.serverBrowserFrameProto.PlaybackCommandMsgInProto.PlaybackCommandProto,We=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Me(t,e)}(i,t);var e,n,r,o=Ae(i);function i(){var t;je(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Be(Ce(t=o.call.apply(o,[this].concat(n))),"playbackBar",void 0),Be(Ce(t),"ready",(function(){t.api.cfg.recordingPlayback&&t.showControls()})),t}return e=i,(n=[{key:"provides",value:function(){return{"playback.playbackInfo":this.playbackInfo,"playback.showControls":this.showControls}}},{key:"playbackInfo",value:function(t){if(null!=this.playbackBar&&null!=t.playback){var e,n=t.playback;e=n.current&&n.total?parseInt(""+n.current/n.total*100,10):0,this.playbackBar.querySelector(".ws-progress-bar").style.width=e+"%",this.playbackBar.querySelector('span[data-id="current"]').innerHTML=n.current?n.current+"":"0",this.playbackBar.querySelector('span[data-id="total"]').innerHTML=n.total?n.total+"":"0"}}},{key:"showControls",value:function(){var t,e,n,r,o,i=this,a=document.querySelector(".playback-bar-placeholder");if(!a)return console.error("Placeholder for playback bar not found!"),(a=document.createElement("div")).classList.add("playback-bar-placeholder"),void this.api.cfg.rootElementWrapper.insertAdjacentElement("beforebegin",a);a.insertAdjacentHTML("afterbegin",Ee.a),this.playbackBar=document.querySelector('div[data-id="playbackBar"]'),this.playbackBar.querySelector('button[data-id="reset"]').addEventListener("click",(function(){i.sendCommand(Le.reset),i.api.disconnect(),i.api.start()})),null===(t=this.playbackBar.querySelector('button[data-id="play"]'))||void 0===t||t.addEventListener("click",(function(){i.sendCommand(Le.play)})),null===(e=this.playbackBar.querySelector('button[data-id="stop"]'))||void 0===e||e.addEventListener("click",(function(){i.sendCommand(Le.stop)})),null===(n=this.playbackBar.querySelector('button[data-id="step"]'))||void 0===n||n.addEventListener("click",(function(){i.sendCommand(Le.step)})),null===(r=this.playbackBar.querySelector('button[data-id="10step"]'))||void 0===r||r.addEventListener("click",(function(){i.sendCommand(Le.step10)})),null===(o=this.playbackBar.querySelector('button[data-id="100step"]'))||void 0===o||o.addEventListener("click",(function(){i.sendCommand(Le.step100)})),this.playbackBar.style.display=""}},{key:"sendCommand",value:function(t){this.api.sendPlaybackCommand({command:t})}}])&&xe(e.prototype,n),r&&xe(e,r),i}(o.b),Ue=n(366),_e=n.n(Ue);function Ne(t){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function He(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return qe(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qe(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qe(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Je(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ye(t,e){return(Ye=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$e(t);if(e){var o=$e(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ge(this,n)}}function Ge(t,e){return!e||"object"!==Ne(e)&&"function"!=typeof e?Ke(t):e}function Ke(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $e(t){return($e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Qe={cfg:"webswing.config",getWindows:"render.getWindows"},Ze=b.appFrameProtoOut.WindowMsgOutProto.DockStateProto,tn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ye(t,e)}(i,t);var e,n,r,o=Xe(i);function i(){var t;ze(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ve(Ke(t=o.call.apply(o,[this].concat(n))),"mirrorBar",void 0),Ve(Ke(t),"activeTab",void 0),Ve(Ke(t),"focusedTab",void 0),Ve(Ke(t),"ready",(function(){(t.api.cfg.mirror||t.api.cfg.recordingPlayback)&&t.showControls()})),t}return e=i,(n=[{key:"provides",value:function(){return{"mirror.updateTabList":this.updateTabList}}},{key:"updateTabList",value:function(){var t=this;if(this.mirrorBar||this.showControls(),this.mirrorBar){var e,n={},r={},o={};this.mirrorBar.querySelectorAll("div.ws-mirror-tab").forEach((function(t){n[t.getAttribute("data-id")]=!0,r[t.getAttribute("data-id")]=!0}));var i,a=He(this.api.getWindows(!0));try{for(a.s();!(i=a.n()).done;){var s=i.value;s.tabId&&(r[s.tabId]&&delete r[s.tabId],n[s.tabId]?s.dockState==Ze.undocked&&(this.mirrorBar.querySelector("div[data-id="+s.tabId+"]").textContent=s.title||"(untitled)"):(o[s.tabId]||(o[s.tabId]={title:"Primary"}),s.dockState==Ze.undocked&&(o[s.tabId].title=s.title||"(untitled)"))),s.focused&&(e=s.tabId)}}catch(t){a.e(t)}finally{a.f()}for(var l in r){var c;this.activeTab==l&&(this.activeTab=void 0),null===(c=this.mirrorBar.querySelector("div[data-id="+l+"]"))||void 0===c||c.remove()}var u=function(e){var n=document.createElement("div");n.classList.add("ws-mirror-tab"),n.setAttribute("data-id",e),n.textContent=o[e].title,n.addEventListener("click",(function(){t.selectTab(n),t.updateCanvasStates()})),t.mirrorBar.insertAdjacentElement("beforeend",n)};for(var d in o)u(d);if(!this.activeTab){var p=this.mirrorBar.querySelectorAll("div.ws-mirror-tab");p.length&&this.selectTab(p.item(0))}e&&(this.focusTab(e),this.api.cfg.recordingPlayback&&this.selectTabId(e)),this.updateCanvasStates(),this.mirrorBar.querySelectorAll("div.ws-mirror-tab").length>1?this.mirrorBar.style.display="flex":this.mirrorBar.style.display="none"}}},{key:"focusTab",value:function(t){this.mirrorBar.querySelectorAll("div.ws-mirror-tab").forEach((function(t){t.classList.remove("focused")}));var e=this.mirrorBar.querySelector("div.ws-mirror-tab[data-id="+t+"]");e&&e.classList.add("focused")}},{key:"selectTabId",value:function(t){var e=this.mirrorBar.querySelector("div[data-id="+t+"]");e&&this.selectTab(e)}},{key:"selectTab",value:function(t){var e=t.getAttribute("data-id");this.activeTab=e,this.mirrorBar.querySelectorAll("div.ws-mirror-tab").forEach((function(t){t.classList.remove("active")})),t.classList.add("active")}},{key:"updateCanvasStates",value:function(){var t,e=He(this.api.getWindows(!0));try{for(e.s();!(t=e.n()).done;){var n=t.value;n.tabId!==this.activeTab?n.element.classList.add("ws-render-mirror-blocked"):n.element.classList.remove("ws-render-mirror-blocked")}}catch(t){e.e(t)}finally{e.f()}}},{key:"showControls",value:function(){var t=document.querySelector(".mirror-bar-placeholder");if(!t)return console.error("Placeholder for mirror bar not found!"),(t=document.createElement("div")).classList.add("mirror-bar-placeholder"),void this.api.cfg.rootElementWrapper.insertAdjacentElement("beforebegin",t);t.insertAdjacentHTML("afterbegin",_e.a),this.mirrorBar=document.querySelector('div[data-id="mirrorBar"] .ws-mirror')}}])&&Je(e.prototype,n),r&&Je(e,r),i}(o.b),en=n(108);function nn(t){return(nn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rn(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return on(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return on(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function on(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function an(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ln(t,e){return(ln=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pn(t);if(e){var o=pn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return un(this,n)}}function un(t,e){return!e||"object"!==nn(e)&&"function"!=typeof e?dn(t):e}function dn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pn(t){return(pn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var hn={cfg:"webswing.config",sendTimestamp:"socket.sendTimestamp",showWarning:"dialog.showNetworkBar",hideWarning:"dialog.hideNetworkBar",dialogContent:"dialog.content"},gn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ln(t,e)}(a,t);var e,n,o,i=cn(a);function a(){var t;an(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return fn(dn(t=i.call.apply(i,[this].concat(n))),"intervalHandle",void 0),fn(dn(t),"worker",void 0),fn(dn(t),"ping",void 0),fn(dn(t),"severity",void 0),fn(dn(t),"mute",void 0),fn(dn(t),"count",6),fn(dn(t),"interval",5),fn(dn(t),"maxLatency",500),fn(dn(t),"notifyIf",3),fn(dn(t),"ready",(function(){var e=t.api.cfg.pingParams;null!=e&&(t.count=e.count||t.count,t.interval=e.interval||t.interval,t.maxLatency=e.maxLatency||t.maxLatency,t.notifyIf=e.notifyIf||t.notifyIf)})),t}return e=a,(n=[{key:"provides",value:function(){return{"ping.mutePingWarning":this.mutePingWarning,"ping.start":this.start,"ping.dispose":this.dispose}}},{key:"mutePingWarning",value:function(t){this.mute=t}},{key:"start",value:function(){var t=this;if(!this.worker){this.mute=0,this.ping=yn(this.count);var e=Object(r.l)(this.api.cfg.connectionUrl),n=URL.createObjectURL(new Blob(["onmessage=(",vn.toString(),')("'+e+'",'+this.interval+")"],{type:"application/javascript"}));this.worker=new Worker(n),this.worker.onmessage=function(e){var n,r=JSON.parse(e.data);null===(n=t.ping)||void 0===n||n.push(r),"ok"===r.result&&(t.api.sendTimestamp({ping:r.latency}),2===t.severity&&(t.ping=yn(t.count))),t.evaluateNetworkStatus()},this.intervalHandle=setInterval((function(){var e;null===(e=t.worker)||void 0===e||e.postMessage("doPing")}),1e3*this.interval)}}},{key:"dispose",value:function(){null!=this.worker&&(this.worker.terminate(),this.worker=void 0),null!=this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=null)}},{key:"evaluateNetworkStatus",value:function(){var t=null,e=0,n=0;if(this.ping){var r,o=rn(this.ping);try{for(o.s();!(r=o.n()).done;){var i=r.value;"error"===i.result||"timeout"===i.result?(e++,n++):i.latency>this.maxLatency&&e++}}catch(t){o.e(t)}finally{o.f()}}n===this.count?(t=this.api.dialogContent.networkOfflineWarningDialog,this.severity=2):e>=this.notifyIf?(t=this.api.dialogContent.networkSlowWarningDialog,this.severity=1):this.severity=0,null!=t&&this.severity!==this.mute?this.api.showWarning(t):this.api.hideWarning()}}])&&sn(e.prototype,n),o&&sn(e,o),a}(o.b);function yn(t){var e=new Array;return e.push=function(){return this.length>=t&&this.shift(),Array.prototype.push.apply(this,arguments)},e}function vn(t,e){var n=1e3*e;function r(t,e){var n={result:t,latency:e};postMessage(JSON.stringify(n),void 0)}return function(e){var o,i;"doPing"===e.data&&(o=(new Date).getTime(),(i=new XMLHttpRequest).addEventListener("load",(function(){r("ok",(new Date).getTime()-o)})),i.addEventListener("error",(function(){r("error",(new Date).getTime()-o)})),i.addEventListener("timeout",(function(){r("timeout",(new Date).getTime()-o)})),i.open("GET",t+"rest/ping"),i.timeout=n,i.send())}}function wn(t){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function On(t,e){return(On=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pn(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sn(t);if(e){var o=Sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return kn(this,n)}}function kn(t,e){return!e||"object"!==wn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function Sn(t){return(Sn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var In={start:"webswing.start",disconnect:"webswing.disconnect",configure:"webswing.configure",kill:"base.kill",setControl:"webswing.setControl",repaint:"render.repaint",instanceId:"socket.instanceId",requestComponentTree:"base.requestComponentTree",getWindows:"render.getWindows",getRenderedWindows:"render.getRenderedWindows",getWindowById:"render.getWindowById",performAction:"render.performAction",logout:"login.logout",getConnectionInfo:"socket.getConnectionInfo",isUndocked:"webswing.isUndocked",getFilesManager:"files.getExternalManager"},En=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&On(t,e)}(i,t);var e,n,r,o=Pn(i);function i(){return bn(this,i),o.apply(this,arguments)}return e=i,(n=[{key:"provides",value:function(){return{"external.api":this.getApi}}},{key:"getApi",value:function(){return this.api}}])&&mn(e.prototype,n),r&&mn(e,r),i}(o.b),Tn=n(367),jn=n.n(Tn);function xn(t){return(xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mn(t){return function(t){if(Array.isArray(t))return An(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return An(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return An(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function An(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Dn(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Dn(Object(n),!0).forEach((function(e){Nn(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Dn(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Fn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Rn(t,e){return(Rn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ln(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=_n(t);if(e){var o=_n(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wn(this,n)}}function Wn(t,e){return!e||"object"!==xn(e)&&"function"!=typeof e?Un(t):e}function Un(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _n(t){return(_n=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hn={cfg:"webswing.config",send:"socket.send",translate:"translate.translate",sendHandshake:"base.handshake",closeWindow:"render.closeWindow",focusDefault:"focusManager.focusDefault"},qn=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rn(t,e)}(a,t);var e,n,o,i=Ln(a);function a(){var t;Fn(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Nn(Un(t=i.call.apply(i,[this].concat(n))),"switcherHtml",void 0),Nn(Un(t),"enabled",!1),Nn(Un(t),"ariaBusyTimeout",void 0),Nn(Un(t),"windowSwitcher",null),Nn(Un(t),"ready",(function(){window.localStorage&&("true"===localStorage.getItem("accessibilityEnabled")&&t.toggle(!0));t.switcherHtml=t.api.translate(jn.a)})),t}return e=a,(n=[{key:"provides",value:function(){return{"accessible.dispose":this.dispose,"accessible.toggle":this.toggle,"accessible.isEnabled":this.isEnabled,"accessible.handleAccessible":this.handleAccessible,"accessible.showWindowSwitcher":this.showWindowSwitcher,"accessible.checkCanvasAccessibleInfo":this.checkCanvasAccessibleInfo}}},{key:"toggle",value:function(t){this.enabled=!this.enabled,this.api.sendHandshake(),this.enabled?t||(localStorage.setItem("accessibilityEnabled","true"),this.init()):(localStorage.setItem("accessibilityEnabled","false"),this.destroy())}},{key:"init",value:function(){var t=this,e=document.querySelector(".webswing-element-content");setTimeout((function(){e.querySelectorAll("#ws-aria-live-log")[0]&&(e.querySelectorAll("#ws-aria-live-log")[0].textContent=t.api.translate("accessibility.turnedOn"))}),30)}},{key:"dispose",value:function(){this.removeAllAriaElements()}},{key:"destroy",value:function(){var t=document.querySelector(".webswing-element-content");Vn(t)&&(Vn(t).textContent=this.api.translate("accessibility.turnedOff")),this.removeAllAriaElements(),this.api.focusDefault()}},{key:"removeAllAriaElements",value:function(){var t;null===(t=document.querySelectorAll(".aria-element, .aria-parent"))||void 0===t||t.forEach((function(t){t.remove()}))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"handleAccessible",value:function(t,e){var n=this;if(this.enabled){null!=this.ariaBusyTimeout&&clearTimeout(this.ariaBusyTimeout);var o=250;"textbox"===t.role&&(o=1),this.ariaBusyTimeout=setTimeout((function(){var o,i,a=Cn(Cn({},t),{},{rootElement:e});switch(n.ariaBusyTimeout=void 0,a.role){case"button":zn(a);break;case"decorationbutton":!function(t,e){t.role="button",t.text=e,zn(t)}(a,n.api.translate(a.text||""));break;case"checkbox":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),Yn(r,t)}(a);break;case"menuitemcheckbox":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitemcheckbox"),r.classList.remove("focusable");var o=document.createElement("div");o.classList.add("aria-element","focusable"),o.setAttribute("tabindex","0"),o.id="aria-menuitemcheckbox",o.setAttribute("role","menuitemcheckbox"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),o.setAttribute("aria-haspopup",String(!1)),o.setAttribute("aria-setsize",t.size.toString()),o.setAttribute("aria-posinset",t.position.toString()),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,o),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"combobox":!function(t){var e,n=t.id,r=Qn("div","aria-element-"+n,["aria-element","aria-id","new","focusable"]),o=Gn(n,t.rootElement)||r;if(o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-controls","aria-listbox"),o.setAttribute("aria-haspopup","listbox"),o.setAttribute("aria-expanded",String(null!=t.states&&-1!==t.states.indexOf("EXPANDED"))),o.querySelectorAll("#aria-listbox").length?(e=o.querySelector("#aria-listbox")).innerHTML="":((e=document.createElement("ul")).setAttribute("role","listbox"),e.id="aria-listbox",e.style.listStyleType="none",o.appendChild(e)),null!=t.size&&t.size>0){var i=document.createElement("li");i.setAttribute("role","option"),i.id="aria-option",i.textContent=t.value,i.setAttribute("aria-selected",String(!0)),i.setAttribute("aria-setsize",String(t.size)),i.setAttribute("aria-posinset",String(t.position)),e.appendChild(i),o.setAttribute("aria-activedescendant","aria-option")}Yn(o,t)}(a);break;case"progressbar":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuetext",String(t.val)),r.setAttribute("aria-valuenow",String(t.val)),r.setAttribute("aria-label",t.text),Yn(r,t)}(a);break;case"radio":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-setsize",String(t.size)),r.setAttribute("aria-posinset",String(t.position)),r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),Yn(r,t)}(a);break;case"menuitemradio":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitemradio"),r.removeAttribute("focusable");var o=Qn("div","aria-menuitemradio",["aria-element","focusable"]);o.setAttribute("role","menuitemradio"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-checked",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))),o.setAttribute("aria-haspopup","false"),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,o),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"scrollbar":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuenow",String(t.val)),null!=t.states&&-1!==t.states.indexOf("VERTICAL")?r.setAttribute("aria-orientation","vertical"):null!=t.states&&-1!==t.states.indexOf("HORIZONTAL")&&r.setAttribute("aria-orientation","horizontal"),Yn(r,t)}(a);break;case"slider":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-valuemin",String(t.min)),r.setAttribute("aria-valuemax",String(t.max)),r.setAttribute("aria-valuetext",String(t.val)),r.setAttribute("aria-valuenow",String(t.val)),r.setAttribute("aria-label",t.text),Yn(r,t)}(a);break;case"label":!function(t){Vn(t.rootElement).textContent=t.text}(a);break;case"tooltip":!function(t){var e=t.text;e&&0!==e.length||(e=t.description),e&&e.length>0&&(Vn(t.rootElement).textContent=e)}(a);break;case"tab":case"tablist":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","tab"),r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),null!=t.size&&t.size>0&&(r.setAttribute("aria-setsize",String(t.size)),r.setAttribute("aria-posinset",String(t.position))),r.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,r),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"list":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE"))),Yn(r,t)}(a);break;case"listitem":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","listbox"),r.setAttribute("aria-owns","aria-listitem"),r.classList.remove("focusable"),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Qn("div","aria-listitem",["aria-element","focusable"]);o.setAttribute("role","option"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,o),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"treeitem":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","tree"),r.setAttribute("aria-owns","aria-treeitem"),r.classList.remove("focusable"),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Qn("div","aria-treeitem",["aria-element","focusable"]);o.setAttribute("role","treeitem"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),o.setAttribute("aria-expanded",String(null!=t.states&&-1!==t.states.indexOf("EXPANDED"))),o.setAttribute("aria-level",String(t.level)),o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,o),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"gridcell":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","grid"),r.setAttribute("aria-owns","aria-chrow aria-row"),r.removeAttribute("focusable"),r.setAttribute("aria-rowcount",String(t.rowcount)),r.setAttribute("aria-colcount",String(t.colcount)),r.setAttribute("aria-multiselectable",String(null!=t.states&&-1!==t.states.indexOf("MULTISELECTABLE")));var o=Qn("div","aria-chrow",["aria-element","focusable"]);o.setAttribute("role","row"),o.setAttribute("aria-owns","aria-columnheader");var i=Qn("div","aria-columnheader",["aria-element","focusable"]);i.setAttribute("role","columnheader"),i.setAttribute("aria-label",t.columnheader),i.textContent=t.columnheader,i.setAttribute("aria-colindex",String(t.colindex));var a=Qn("div","aria-row",["aria-element","focusable"]);a.setAttribute("role","row"),a.setAttribute("aria-owns","aria-cell");var s=Qn("div","aria-cell",["aria-element","focusable"]);s.setAttribute("role","gridcell"),s.setAttribute("aria-label",t.text),s.textContent=t.text,s.setAttribute("aria-selected",String(null!=t.states&&-1!==t.states.indexOf("SELECTED"))),s.setAttribute("aria-readonly",String(null!=t.states&&-1===t.states.indexOf("EDITABLE"))),s.setAttribute("aria-colindex",String(t.colindex)),s.setAttribute("aria-rowindex",String(t.rowindex)),s.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",o.appendChild(i),r.appendChild(o),a.appendChild(s),r.appendChild(a),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,s),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"textbox":!function(t){var e,n=t.id;if(null!=t.states&&-1===t.states.indexOf("SINGLE_LINE")){var r=Qn("textarea","aria-element-"+n,["aria-element","aria-id","new","focusable"]);(e=Gn(n,t.rootElement)||r).setAttribute("aria-multiline","true"),e.value=t.text}else{var o=Qn("input","aria-element-"+n,["aria-element","aria-id","new","focusable"]);o.setAttribute("spellcheck","false"),o.setAttribute("autocomplete","off"),t.password?(o.setAttribute("type","password"),e=Gn(n,t.rootElement)||o):(o.setAttribute("type","text"),e=Gn(n,t.rootElement)||o),e.setAttribute("aria-multiline","false");var i=" ";t.text&&t.text.length&&(i=t.text),e.value=i}t.rows&&(e.setAttribute("rows",String(t.rows)),e.style.lineHeight=t.rowheight+"px"),null!=t.selstart&&t.selstart>=0&&e.setSelectionRange(t.selstart,t.selend),e.setAttribute("aria-readonly",String(null!=t.states&&-1===t.states.indexOf("EDITABLE"))),Yn(e,t)}(a);break;case"img":!function(t){var e=t.text;e&&0!==e.length||(e=t.description);var n=t.id,r=Qn("div","aria-element-"+n,["aria-element","aria-id","new","focusable"]),o=Gn(n,t.rootElement)||r;o.setAttribute("aria-label",e),Yn(o,t)}(a);break;case"menuitem":!function(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;r.setAttribute("role","menu"),r.setAttribute("aria-owns","aria-menuitem"),r.removeAttribute("focusable");var o=Qn("div","aria-menuitem",["aria-element","focusable"]);o.setAttribute("role","menuitem"),o.setAttribute("aria-label",t.text),o.textContent=t.text,o.setAttribute("aria-setsize",String(t.size)),o.setAttribute("aria-posinset",String(t.position)),o.setAttribute("aria-disabled",String(null!=t.states&&-1===t.states.indexOf("ENABLED"))),r.innerHTML="",r.appendChild(o),r.style.width=t.width+"px",r.style.height=t.height+"px",r.style.top=t.screenY+"px",r.style.left=t.screenX+"px",Kn(t,o),r.matches(".new")&&Xn(r,t.rootElement)}(a);break;case"menu":case"tree":case"menubar":case"table":case"panel":case"alertdialog":case"dialog":default:Jn(a)}e.querySelectorAll(".aria-element.aria-id.new").length>0&&(null===(i=e.querySelectorAll(".aria-element.aria-id:not(.new)"))||void 0===i||i.forEach((function(t){t.remove()}))),null===(o=e.querySelectorAll(".aria-element.aria-id.new"))||void 0===o||o.forEach((function(t){t.classList.remove("new")})),function(t){var e=t.hierarchy,n=t.rootElement.querySelector(".aria-element.aria-id");if(e&&0!==e.length){for(var o=t.rootElement.querySelectorAll(".aria-parent"),i=0;i<e.length;i++){var a=e[i],s=void 0;if(o.length<=i)s=n;else{var l=o[i];if($n(l,a))continue;(s=l.children[0])&&Object(r.D)(l)}var c=document.createElement("div");c.classList.add("aria-parent"),c.id="aria-parent-"+a.id,s&&Object(r.E)(c,s),(c=t.rootElement.querySelector("#aria-parent-"+a.id))&&(c.setAttribute("role",a.role),c.setAttribute("aria-label",a.text),null!=a.size&&(c.setAttribute("aria-setsize",a.size.toString()),c.setAttribute("aria-posinset",a.position.toString())))}if(o.length>=i)for(;i<o.length;i++)Object(r.D)(o[i])}else{if(!n)return;for(;n&&n.parentElement&&(null===(u=n.parentElement)||void 0===u?void 0:u.classList.contains("aria-parent"));){var u;Object(r.D)(n.parentElement),n=t.rootElement.querySelector(".aria-element.aria-id")}}}(a),n.api.focusDefault()}),o)}}},{key:"showWindowSwitcher",value:function(t,e){var n=this;null==this.windowSwitcher&&(t.insertAdjacentHTML("beforeend",this.switcherHtml||""),this.windowSwitcher=t.querySelector('[data-id="windowSwitcher"]'));var o,i=this.windowSwitcher.querySelector(".ws-window-switcher-content");i&&(i.innerHTML="");for(var a=0;a<e.length;a++){var s=e[a],l=document.createElement("div"),c=document.createElement("input");c.setAttribute("type","radio"),c.setAttribute("name","windowSwitcher"),c.setAttribute("id","windowSwitcher-"+a),c.dataset.winid=s.id;var u=void 0;s.modalBlocked?(c.setAttribute("aria-describedby","switcher-modal-blocked-description"),(u=document.createElement("span")).setAttribute("aria-hidden","true"),u.textContent=this.api.translate("accessibility.switcher.modalBlocked")):c.addEventListener("keyup",(function(t){return n.switcherRadioKeyHandler(t)})),0===a&&(o=c,c.checked=!0);var d=document.createElement("label");d.setAttribute("for","windowSwitcher-"+a),s.title?d.textContent=s.title:d.textContent=this.api.translate("accessibility.switcher.untitled"),l.appendChild(c),l.appendChild(d),u&&l.appendChild(u),null==i||i.appendChild(l)}o&&o.focus({preventScroll:!0});var p=this.windowSwitcher.querySelector('button[data-id="closeBtn"]');null==p||p.addEventListener(Object(r.w)()?"touchend":"click",(function(){n.hideWindowSwitcher()}))}},{key:"switcherRadioKeyHandler",value:function(t){var e,n=(null===(e=this.windowSwitcher)||void 0===e?void 0:e.querySelector("input[type=radio]:checked")).dataset.winid;13===t.keyCode?(this.switchWindow(n),this.hideWindowSwitcher()):88===t.keyCode&&(this.closeWindow(n),this.hideWindowSwitcher())}},{key:"hideWindowSwitcher",value:function(){null!=this.windowSwitcher&&(this.windowSwitcher.style.display="none",this.windowSwitcher.remove(),this.windowSwitcher=null),this.api.focusDefault()}},{key:"switchWindow",value:function(t){this.api.send({events:[{focus:{windowId:t}}]})}},{key:"closeWindow",value:function(t){this.api.closeWindow(t)}},{key:"checkCanvasAccessibleInfo",value:function(){var t=this,e=this.isEnabled(),n=e?".webswing-element-content canvas.accessibility-off":".webswing-element-content canvas:not(.accessibility-off)",r=e?".webswing-element-content.accessibility-off":".webswing-element-content:not(.accessibility-off)";document.querySelectorAll(r).forEach((function(n){t.setRootElementAccessibleInfo(n,e)})),document.querySelectorAll(n).forEach((function(n){t.setCanvasAccessibleInfo(n,e)}))}},{key:"setRootElementAccessibleInfo",value:function(t,e){e?(t.removeAttribute("aria-label"),t.classList.remove("accessibility-off")):(t.setAttribute("aria-label",this.api.translate("accessibility.turnOn")),t.classList.add("accessibility-off"))}},{key:"setCanvasAccessibleInfo",value:function(t,e){e?(t.removeAttribute("aria-label"),t.removeAttribute("role"),t.classList.remove("accessibility-off")):(t.setAttribute("role","img"),t.setAttribute("aria-label",this.api.translate("accessibility.turnOn")),t.classList.add("accessibility-off"))}}])&&Bn(e.prototype,n),o&&Bn(e,o),a}(o.b);function zn(t){var e=t.id,n=document.createElement("button");n.classList.add("aria-element","aria-id","new","focusable"),n.setAttribute("tabindex","0"),n.id="aria-element-"+e;var r=Gn(e,t.rootElement)||n;r.setAttribute("aria-label",t.text),r.textContent=t.text,t.toggle?r.setAttribute("aria-pressed",String(null!=t.states&&-1!==t.states.indexOf("CHECKED"))):r.removeAttribute("aria-pressed"),Yn(r,t)}function Jn(t){var e=t.id,n=Qn("div","aria-element-"+e,["aria-element","aria-id","new","focusable"]),r=Gn(e,t.rootElement)||n;t.text&&(r.setAttribute("aria-label",t.text),r.textContent=t.text),Yn(r,t)}function Yn(t,e){t.setAttribute("role",e.role),t.setAttribute("aria-disabled",String(null!=e.states&&-1===e.states.indexOf("ENABLED"))),t.style.width=e.width+"px",t.style.height=e.height+"px",t.style.top=e.screenY+"px",t.style.left=e.screenX+"px",Kn(e,t),t.matches(".new")&&Xn(t,e.rootElement)}function Xn(t,e){var n=e.querySelectorAll(".aria-parent");n&&n.length?n[n.length-1].appendChild(t):e.appendChild(t)}function Gn(t,e){if(t){var n=e.querySelector("#aria-element-"+t);if(n)return n}return null}function Kn(t,e){var n=function(t){if(0===t.querySelectorAll("#ws-aria-describedby").length){var e=document.createElement("span");e.id="ws-aria-describedby",t.appendChild(e)}return t.querySelector("#ws-aria-describedby")}(t.rootElement);t.tooltip||t.description?(n.textContent=t.description||t.tooltip,e.setAttribute("aria-describedby","aria-describedby")):(e.removeAttribute("aria-describedby"),n.textContent="")}function $n(t,e){return t.getAttribute("id")==="aria-parent-"+e.id&&t.getAttribute("role")===e.role&&t.getAttribute("aria-label")===e.text&&(null==e.size||t.getAttribute("aria-setsize")===String(e.size)&&t.getAttribute("aria-posinset")===String(e.position))}function Vn(t){return 0===t.querySelectorAll("#ws-aria-live-log").length&&t.insertAdjacentHTML("beforeend",'<div id="ws-aria-live-log" aria-live="assertive" role="log" data-id="access" tabindex="-1" />'),t.querySelector("#ws-aria-live-log")}function Qn(t,e,n){var r,o=document.createElement(t);(null==n?void 0:n.length)&&(r=o.classList).add.apply(r,Mn(n));return o.setAttribute("tabindex","0"),o.id=e,o}function Zn(t){return(Zn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function er(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function nr(t,e){return(nr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ir(t);if(e){var o=ir(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return or(this,n)}}function or(t,e){return!e||"object"!==Zn(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ar={cfg:"webswing.config",touchInputFocusLost:"touch.inputFocusLost",touchCorrectPosition:"touch.correctPosition",updateFocusedHtmlCanvas:"input.updateFocusedHtmlCanvas",getCanvas:"canvas.get"},sr=b.appFrameProtoOut.FocusEventMsgOutProto.FocusEventTypeProto,lr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nr(t,e)}(a,t);var e,n,o,i=rr(a);function a(){return tr(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"provides",value:function(){return{"focusManager.manageFocusEvent":this.manageFocusEvent,"focusManager.focusInput":this.focusInput,"focusManager.focusDefault":this.focusDefault}}},{key:"manageFocusEvent",value:function(t){this.manageFocusEventRetry(t,0)}},{key:"focusInput",value:function(t){this.api.cfg.touchMode||(Object(r.h)()&&Object(r.h)()<=11&&t.blur(),this.isFocusManaged()||(t.value=" ",this.focusWithPreventScroll(t,!0),t.select()))}},{key:"focusDefault",value:function(){var t=document.activeElement;if(!(t&&t.matches(".catch-focus")||Object(r.A)(t,".catch-focus").length)){var e=document.querySelectorAll(".webswing-element-content .aria-element.focusable");if(e.length)e[0].focus({preventScroll:!0});else{var n=document.querySelectorAll(".ws-input-hidden")[0],o=!0;n&&(!this.api.cfg.touchMode||n.classList.contains("focused-with-caret")&&n.classList.contains("editable"))||(o=!1),o?(this.api.updateFocusedHtmlCanvas(n),this.focusWithPreventScroll(n)):(document.body.focus(),this.api.cfg.touchMode&&this.api.touchCorrectPosition())}}}},{key:"isFocusManaged",value:function(){var t=document.activeElement;return document.querySelectorAll(".webswing-element-content .aria-element.focusable").length>0||t&&(null==t?void 0:t.matches(".catch-focus"))||Object(r.A)(t,".catch-focus").length}},{key:"manageFocusEventRetry",value:function(t,e){var n=this;document.querySelectorAll(".ws-input-hidden")[0]?this.doManageFocusEvent(t):e<4&&setTimeout((function(){n.manageFocusEventRetry(t,e+1)}),50)}},{key:"doManageFocusEvent",value:function(t){var e=document.querySelectorAll(".ws-input-hidden")[0];e.classList.remove("editable"),e.classList.remove("focused-with-caret"),(t.type===sr.focusWithCarretGained||t.type===sr.focusPasswordGained)&&t.x+t.w>0&&t.y+t.h>0?(t.type===sr.focusPasswordGained?e.type="password":e.type="text",this.updateInputPosition(e,t),e.classList.add("focused-with-caret"),t.editable&&e.classList.add("editable")):(this.updateInputPosition(e),e.value="",this.api.touchInputFocusLost()),this.focusDefault()}},{key:"focusWithPreventScroll",value:function(t,e){if(t){var n=t.style.position,o=t.style.left,i=t.style.top;Object(r.h)()&&Object(r.h)()<=11&&(t.style.position="fixed",t.style.left="0px",t.style.top="0px"),t.focus({preventScroll:!0}),e&&t.select(),Object(r.h)()&&Object(r.h)()<=11&&(t.style.position=n,t.style.left=o,t.style.top=i)}}},{key:"updateInputPosition",value:function(t,e){if(this.api.cfg.touchMode){if(t.style.left="0px",t.style.top="0px",null!=e){var n=e.x+e.w,r=e.y+e.h,o=Math.min(Math.max(e.y+e.caretY,e.y),r),i=Math.min(Math.max(e.x+e.caretX,e.x),n);t.style.top=o+"px",t.style.left=i+"px",t.style.height=e.caretH+"px"}}else if(null==e)t.style.top="",t.style.left="",t.style.height="";else{var a=e.x+e.w,s=e.y+e.h;t.style.top=Math.min(Math.max(e.y+e.caretY,e.y),s)+"px",t.style.left=Math.min(Math.max(e.x+e.caretX,e.x),a)+"px",t.style.height=e.caretH+"px"}}}])&&er(e.prototype,n),o&&er(e,o),a}(o.b);function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ur(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function pr(t,e){return(pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function fr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=yr(t);if(e){var o=yr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return hr(this,n)}}function hr(t,e){return!e||"object"!==cr(e)&&"function"!=typeof e?gr(t):e}function gr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yr(t){return(yr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function vr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var wr={cfg:"webswing.config",sendHandshake:"base.handshake",repaint:"render.repaint",touchBarEnabled:"touch.touchBarEnabled",validateTaskbarPosition:"taskbar.validatePosition"},br=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pr(t,e)}(a,t);var e,n,o,i=fr(a);function a(){var t;ur(this,a);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return vr(gr(t=i.call.apply(i,[this].concat(n))),"canvas",void 0),vr(gr(t),"resizeCheck",void 0),vr(gr(t),"lastRootWidth",0),vr(gr(t),"lastRootHeight",0),vr(gr(t),"lastUserScreenWidth",0),vr(gr(t),"lastUserScreenHeight",0),vr(gr(t),"lastUserScreenX",0),vr(gr(t),"lastUserScreenY",0),vr(gr(t),"touchWidth",0),vr(gr(t),"touchHeight",0),vr(gr(t),"realDpr",Object(r.p)()),vr(gr(t),"dpr",Object(r.m)()),vr(gr(t),"ready",(function(){t.init()})),t}return e=a,(n=[{key:"provides",value:function(){return{"canvas.init":this.init,"canvas.dispose":this.dispose,"canvas.get":this.get,"canvas.width":this.width,"canvas.height":this.height,"canvas.getDesktopSize":this.getDesktopSize,"canvas.processComponentTree":this.processComponentTree,"canvas.canvasConfig":this.canvasConfig()}}},{key:"init",value:function(){var t,e,n,o,i=this;null==this.canvas&&((null===(t=this.api.cfg.rootElement.parentElement)||void 0===t?void 0:t.dataset.touchWidth)&&(this.touchWidth=Number(null===(n=this.api.cfg.rootElement.parentElement)||void 0===n?void 0:n.dataset.touchWidth)),(null===(e=this.api.cfg.rootElement.parentElement)||void 0===e?void 0:e.dataset.touchHeight)&&(this.touchHeight=Number(null===(o=this.api.cfg.rootElement.parentElement)||void 0===o?void 0:o.dataset.touchHeight)),this.api.cfg.rootElement.insertAdjacentHTML("beforeend",'<canvas role="presentation" aria-hidden="true" data-id="canvas" style="display:block; width:'+this.width()+"px;height:"+this.height()+'px;" width="'+this.width()*this.dpr+'" height="'+this.height()*this.dpr+'" tabindex="-1"/>'),this.api.cfg.rootElement.insertAdjacentHTML("beforeend",'<input role="presentation" aria-hidden="true" data-id="input-handler" class="ws-input-hidden" type="text" autocorrect="off" autocapitalize="none" autocomplete="off" value="" />'),this.canvas=this.api.cfg.rootElement.querySelector('[data-id="canvas"]'),this.canvas.classList.add("webswing-canvas"),this.canvas.style.width="0",this.canvas.style.height="0",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.position="absolute",this.lastRootWidth=this.width(),this.lastRootHeight=this.height(),this.lastUserScreenWidth=window.screen.availWidth,this.lastUserScreenHeight=window.screen.availHeight,this.lastUserScreenX=window.screenX,this.lastUserScreenY=window.screenY,this.api.cfg.rootElement.setAttribute("role","application"));null==this.resizeCheck&&(this.resizeCheck=setInterval((function(){if(!i.api.cfg.mirror&&!i.api.cfg.touchMode){var t=i.realDpr!==Object(r.p)(),e=i.lastRootWidth!==i.width()||i.lastRootHeight!==i.height(),n=i.lastUserScreenWidth!==window.screen.availWidth||i.lastUserScreenHeight!==window.screen.availHeight,o=i.lastUserScreenX!==window.screenX||i.lastUserScreenY!==window.screenY;e||n||t?(i.lastRootWidth=i.width(),i.lastRootHeight=i.height(),i.lastUserScreenWidth=window.screen.availWidth,i.lastUserScreenHeight=window.screen.availHeight,i.dpr=Object(r.m)(),i.realDpr=Object(r.p)(),i.api.sendHandshake(),i.api.validateTaskbarPosition()):o&&i.api.sendHandshake(),o&&(i.lastUserScreenX=window.screenX,i.lastUserScreenY=window.screenY)}}),500))}},{key:"dispose",value:function(){var t,e,n;null!=this.canvas&&(this.canvas=void 0),null===(t=this.api.cfg.rootElement.querySelector("canvas"))||void 0===t||t.remove(),null===(e=document.querySelectorAll(".webswing-canvas, .webswing-html-canvas, .ws-internal-frames-wrapper, .ws-drop-target"))||void 0===e||e.forEach((function(t){t.remove()})),null===(n=this.api.cfg.rootElement.querySelector("input.ws-input-hidden"))||void 0===n||n.remove(),null!=this.resizeCheck&&(clearInterval(this.resizeCheck),this.resizeCheck=void 0)}},{key:"width",value:function(){return this.api.cfg.touchMode&&0!==this.touchWidth?this.touchWidth:Math.floor(this.api.cfg.rootElement.clientWidth)}},{key:"height",value:function(){return this.api.cfg.touchMode&&0!==this.touchHeight?this.touchHeight:Math.floor(this.api.cfg.rootElement.clientHeight)}},{key:"get",value:function(){return null!=this.canvas&&null==this.resizeCheck||this.init(),this.canvas}},{key:"processComponentTree",value:function(t){}},{key:"getDesktopSize",value:function(){return{width:this.width(),height:this.height()}}},{key:"canvasConfig",value:function(){return{disposeOnDisconnect:!0}}}])&&dr(e.prototype,n),o&&dr(e,o),a}(o.b),mr=n(368),Or=n.n(mr),Pr=n(369),kr=n.n(Pr);function Sr(t){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ir(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Er(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Er(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Er(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Tr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xr(t,e){return(xr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Mr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Cr(t);if(e){var o=Cr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ar(this,n)}}function Ar(t,e){return!e||"object"!==Sr(e)&&"function"!=typeof e?Dr(t):e}function Dr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cr(t){return(Cr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Fr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Br={cfg:"webswing.config",kill:"base.kill",newSession:"webswing.newSession",reTrySession:"webswing.reTrySession",logout:"login.logout",translate:"translate.translate",mutePingWarning:"ping.mutePingWarning",switchMode:"touch.switchMode",focusDefault:"focusManager.focusDefault",startNewSessionOnShutdown:"base.startNewSessionOnShutdown",clearInstanceId:"socket.clearInstanceId",undockHiddenWindows:"render.undockHiddenWindows"},Rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&xr(t,e)}(a,t);var e,n,o,i=Mr(a);function a(){var t;Tr(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Fr(Dr(t=i.call.apply(i,[this].concat(n))),"dialogMap",{}),Fr(Dr(t),"barMap",{}),Fr(Dr(t),"networkBar",void 0),Fr(Dr(t),"reconnectTimer",null),Fr(Dr(t),"reconnectInterval",null),Fr(Dr(t),"reconnectStart",void 0),t}return e=a,(n=[{key:"provides",value:function(){return{"dialog.show":this.show,"dialog.hide":this.hide,"dialog.current":this.current,"dialog.content":this.configuration(),"dialog.currentBar":this.currentBar,"dialog.showBar":this.showBar,"dialog.hideBar":this.hideBar,"dialog.showNetworkBar":this.showNetworkBar,"dialog.hideNetworkBar":this.hideNetworkBar,"dialog.showOverlay":this.showOverlay,"dialog.hideOverlay":this.hideOverlay}}},{key:"configuration",value:function(){var t=this;return{emptyMessage:this.messageDialog("dialog.emptyMessage",!0),logingOut:this.messageDialog("dialog.logingOut"),readyDialog:this.messageDialog("dialog.readyDialog"),initializingDialog:this.messageDialog("dialog.initializingDialog",!0),initializingMirrorDialog:this.messageDialog("dialog.initializingMirrorDialog",!0),startingDialog:this.messageDialog("dialog.startingDialog",!0),reconnectingDialog:this.messageDialog("dialog.reconnectingDialog",!0),applicationBusyDialog:this.messageDialog("dialog.applicationBusyDialog",!0),undockWaitingDialog:this.messageDialog("dialog.undockWaitingDialog",!0),unauthorizedAccess:this.retryMessageDialog("dialog.unauthorizedAccess"),applicationAlreadyRunning:this.retryMessageDialog("dialog.applicationAlreadyRunning"),sessionStolenNotification:this.retryMessageDialog("dialog.sessionStolenNotification"),disconnectedDialog:this.retryMessageDialog("dialog.disconnectedDialog",!0),connectionErrorDialog:this.retryMessageDialog("dialog.connectionErrorDialog",!0),tooManyClientsNotification:this.retryMessageDialog("dialog.tooManyClientsNotification",!0),tooManyClientsPerUserNotification:this.retryMessageDialog("dialog.tooManyClientsPerUserNotification",!0),stoppedDialog:this.finalMessageDialog("dialog.stoppedDialog"),timedoutDialog:this.finalMessageDialog("dialog.timedoutDialog"),cookiesDisabledDialog:this.messageDialog("dialog.cookiesDisabledDialog"),popupsBlockedDialog:this.messageDialog("dialog.popupsBlockedDialog"),continueOldSessionDialog:{header:'<span class="ws-message--neutral">${dialog.continueH} <span data-id="dialogHide" class="ws-icon-cancel-circled ws-right"></span></span>',content:'<p data-id="continueMsg">${dialog.continueC1}<a href="javascript:void(0)" data-id="restartLink">${dialog.continueC2}</a></p>',events:{restartLink_click:function(){Object(r.w)()||(t.api.kill(),t.api.startNewSessionOnShutdown())},restartLink_touchend:function(){Object(r.w)()&&(t.api.kill(),t.api.startNewSessionOnShutdown())},dialogHide_click:function(){Object(r.w)()||t.hideBar()},dialogHide_touchend:function(){Object(r.w)()&&t.hideBar()},continueMsg_mouseenter:function(){var e=t.getBar();e&&e.currentContentBar&&(e.currentContentBar.focused=!0)},continueMsg_mouseleave:function(){var e=t.getBar();e&&e.currentContentBar&&(e.currentContentBar.focused=!1)}}},longPollingWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.longPollingH}</span>',content:"<p>${dialog.longPollingC} </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.longPollingB}',action:function(){t.hideBar()}}]},inactivityTimeoutWarningDialog:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.inactivityTimeoutH}</span>',content:"<p>${dialog.inactivityTimeoutC}  </p>",buttons:[{label:'<span class="ws-icon-cancel-circled"></span>  ${dialog.inactivityTimeoutB}',action:function(){t.hideBar()}}]},networkOfflineWarningDialog:{content:'<span class="ws-message--error"><span class="ws-icon-warn"></span>${dialog.networkMonitor.offline}</span>',severity:2},networkSlowWarningDialog:{content:'<span class="ws-message--warning"><span class="ws-icon-warn"></span>${dialog.networkMonitor.warn}</span>',severity:1},touchSwitchModeMouseDialog:{content:'<p><span class="ws-message--neutral">${dialog.touchSwitchMode.mouse}</span> <span class="ws-right"><a href="javascript:void(0)" data-id="barHide">${dialog.touchSwitchMode.cancelButton}</a></span></p>',buttons:[{label:"${dialog.touchSwitchMode.switchButton}",action:function(){t.hideBar(),t.api.switchMode(!0,!1)}}],events:{barHide_click:function(){t.hideBar(),t.api.switchMode(!1,!0)}}},touchSwitchModeTouchDialog:{content:'<p><span class="ws-message--neutral">${dialog.touchSwitchMode.touch}</span> <span class="ws-right"><a href="javascript:void(0)" data-id="barHide">${dialog.touchSwitchMode.cancelButton}</a></span></p>',buttons:[{label:"${dialog.touchSwitchMode.switchButton}",action:function(){t.hideBar(),t.api.switchMode(!0,!1)}}],events:{barHide_click:function(){t.hideBar(),t.api.switchMode(!1,!0)}}},undockedInstanceNotFound:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.undockedInstanceNotFound}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.undockedInstanceNotFound.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-cancel-circled"></class> ${dialog.undockedInstanceNotFound.close}',action:function(){window.close()}},function(){return!t.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.undockedInstanceNotFound.logout}',action:function(){t.api.logout(!1,t.api.cfg.undockedStart)}}}],autoReconnect:!0},reconnectInstanceNotFound:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.reconnectInstanceNotFound}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.reconnectInstanceNotFound.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-certificate"></class> ${dialog.reconnectInstanceNotFound.newSession}',action:function(){t.api.clearInstanceId(),t.api.reTrySession()}},function(){return!t.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.reconnectInstanceNotFound.logout}',action:function(){t.api.logout(!1,t.api.cfg.undockedStart)}}}],autoReconnect:!0},undockedInstanceDetached:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.undockedInstanceDetached}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.undockedInstanceDetached.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-cancel-circled"></class> ${dialog.undockedInstanceDetached.close}',action:function(){window.close()}},function(){return!t.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.undockedInstanceDetached.logout}',action:function(){t.api.logout(!1,t.api.cfg.undockedStart)}}}],autoReconnect:!0},instanceDetached:{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${dialog.instanceDetached}</p>',buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.instanceDetached.retry}',action:function(){t.api.reTrySession()}},{label:'<span class="ws-icon-certificate"></class> ${dialog.instanceDetached.newSession}',action:function(){t.api.clearInstanceId(),t.api.reTrySession()}},function(){return!t.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.instanceDetached.logout}',action:function(){t.api.logout(!1,t.api.cfg.undockedStart)}}}],autoReconnect:!0},dockingModalityOverlay:{type:"modality-overlay",content:'<div class="modality-overlay"><div class="modality-message">${dialog.overlay.docking.modality}</div></div>'},hiddenWindowsNotification:{header:'<span class="ws-message--warning"><span class="ws-icon-warn"></span> ${dialog.hiddenWindowsNotification.title}</span>',content:"<p>${dialog.hiddenWindowsNotification.message}  </p>",buttons:[{label:'<span class="ws-icon-desktop"></span>  ${dialog.hiddenWindowsNotification.button}',action:function(){t.hideBar(),t.api.undockHiddenWindows()}}]}}}},{key:"messageDialog",value:function(t,e){var n='<p id="commonDialog-description">${'+t+"}</p>";return e&&(n='<div class="ws-spinner"><div class="ws-spinner-dot-1"></div> <div class="ws-spinner-dot-2"></div></div>'+n),{content:n}}},{key:"finalMessageDialog",value:function(t){var e=this;return{content:'<p id="commonDialog-description">${'+t+"}</p>",buttons:[function(){return e.api.cfg.undockedStart&&{label:'<span class="ws-icon-cancel-circled"></class> ${dialog.finalB1.undocked}',action:function(){window.close()}}},function(){return!e.api.cfg.undockedStart&&{label:'<span class="ws-icon-certificate"></class> ${dialog.finalB1}',action:function(){e.api.newSession()}}},function(){return!e.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.finalB2}',action:function(){e.api.logout(!1,e.api.cfg.undockedStart)}}}]}}},{key:"retryMessageDialog",value:function(t,e){var n=this;return{content:'<p id="commonDialog-autoReconnect">${dialog.autoReconnect}<span id="commonDialog-autoReconnect-time"></span></p><p id="commonDialog-description">${'+t+"}</p>",buttons:[{label:'<span class="ws-icon-arrows-cw"></class> ${dialog.retryB1}',action:function(){n.api.reTrySession()}},function(){return!n.api.cfg.disableLogout&&{label:'<span class="ws-icon-logout"></class> ${dialog.retryB2}',action:function(){n.api.logout(!1,n.api.cfg.undockedStart)}}}],autoReconnect:e}}},{key:"setup",value:function(){var t=this;for(var e in this.dialogMap)this.dialogMap[e].win&&!this.dialogMap[e].win.closed||delete this.dialogMap[e];for(var n in this.barMap)this.barMap[n].win&&!this.barMap[n].win.closed||delete this.barMap[n];if(!this.dialogMap[window.name]){var o=document.querySelector(".webswing-element-content");o.querySelector('[data-id="commonDialog"]')||o.insertAdjacentHTML("beforeend",Or.a);var i,a=o.querySelector('[data-id="commonDialog"]'),s={win:window,dialog:a,content:null==a?void 0:a.querySelector('[data-id="content"]'),header:null==a?void 0:a.querySelector('[data-id="header"]')},l=o.querySelector('[data-id="commonBar"]'),c={win:window,bar:l,barContent:l.querySelector('[data-id="content"]'),barHeader:l.querySelector('[data-id="header"]')};Object(r.t)(c.bar),this.dialogMap[window.name]=s,this.barMap[window.name]=c,r.a.onFetchStart((function(){i=setTimeout((function(){Object(r.z)(s.dialog)&&(t.hasVisibleSpinner(s.dialog)||Object(r.C)(o.querySelector("#ajaxProgress")))}),200)})),r.a.onFetchComplete((function(){i&&clearTimeout(i),Object(r.t)(o.querySelector("#ajaxProgress"))}))}}},{key:"hasVisibleSpinner",value:function(t){var e,n=Ir(t.querySelectorAll(".ws-spinner"));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(r.offsetWidth>0||r.offsetHeight>0)return!0}}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"show",value:function(t){var e=this.getDialog();if(this.resetAutoReconnect(),e.dialog.setAttribute("data-type","common"),null==t)return e.currentContent=void 0,Object(r.t)(e.dialog),e.content;if(Object(r.z)(e.dialog)&&e.currentContent===t)return this.checkAndSetupAutoReconnect(t,e.content),e.content;e.currentContent=t,this.generateContent(t,e.dialog,e.header,e.content),Object(r.C)(e.dialog,"flex");var n=e.dialog.querySelectorAll(".init-focus");return n.length&&n[0].focus(),e.content}},{key:"showBar",value:function(t){var e=this.getBar();return null==t?(e.currentContentBar=void 0,e.barContent):(e.currentContentBar=t,this.generateContent(t,e.bar,e.barHeader,e.barContent),Object(r.C)(e.bar),e.barContent)}},{key:"generateContent",value:function(t,e,n,o){for(var i in null!=t.header?(n.innerHTML=this.api.translate(t.header),Object(r.C)(n)):(Object(r.t)(n),n.innerHTML=""),o.innerHTML=this.api.translate(t.content),t.events)t.events.hasOwnProperty(i)&&e.querySelector('*[data-id="'+i.substring(0,i.lastIndexOf("_"))+'"]').addEventListener(i.substring(i.lastIndexOf("_")+1),t.events[i]);if(t.buttons)for(var a=0;a<t.buttons.length;a++){var s=t.buttons[a],l=void 0;if(l="function"==typeof s?s():s){var c=document.createElement("button");c.classList.add("ws-btn"),0===a&&c.classList.add("init-focus"),c.innerHTML=this.api.translate(l.label),c.addEventListener(Object(r.w)()?"touchend":"click",l.action),o.appendChild(c)}}this.checkAndSetupAutoReconnect(t,o),Object(r.z)(e)&&Object(r.C)(o)}},{key:"hide",value:function(){var t=this.getDialog();t&&(this.resetAutoReconnect(),t.currentContent=void 0,t.content.innerHTML="",t.dialog&&Object(r.z)(t.dialog)&&(Object(r.t)(t.dialog),this.api.focusDefault()))}},{key:"hideBar",value:function(){var t=this.getBar();t&&(t.currentContentBar=void 0,t.barContent.innerHTML="",Object(r.t)(t.bar))}},{key:"current",value:function(){var t=this.getDialog();return t?t.currentContent:null}},{key:"currentBar",value:function(){var t=this.getBar();return t?t.currentContentBar:null}},{key:"getDialog",value:function(){return this.dialogMap[window.name]||this.setup(),this.dialogMap[window.name]}},{key:"getBar",value:function(){return this.barMap[window.name]||this.setup(),this.barMap[window.name]}},{key:"showNetworkBar",value:function(t){var e,n=this,o=document.querySelector(".webswing-element-content");null!=this.networkBar&&document.body.contains(this.networkBar)&&this.hideNetworkBar(),null==this.networkBar&&(o.querySelector('[data-id="networkBar"]')||o.insertAdjacentHTML("beforeend",this.api.translate(kr.a)),this.networkBar=o.querySelector('[data-id="networkBar"]'),null===(e=this.networkBar.querySelector('[data-id="hide"]'))||void 0===e||e.addEventListener("click",(function(){n.api.mutePingWarning(t.severity),n.hideNetworkBar()})));var i=this.api.translate(t.content),a=this.networkBar.querySelector('span[data-id="message"]');a.innerHTML!==i&&(a.innerHTML=i),Object(r.C)(this.networkBar)}},{key:"hideNetworkBar",value:function(){null!=this.networkBar&&(Object(r.t)(this.networkBar),this.networkBar.remove(),this.networkBar=void 0)}},{key:"showOverlay",value:function(t,e){var n,r=t.document.querySelector(".webswing-element-content ."+e.type);r||(t.document.querySelector(".webswing-element-content").insertAdjacentHTML("beforeend",this.api.translate(e.content)),r=t.document.querySelector(".webswing-element-content ."+e.type)),null===(n=r)||void 0===n||n.classList.add("active")}},{key:"hideOverlay",value:function(t,e){var n=t.document.querySelector(".webswing-element-content ."+e.type);n&&n.classList.remove("active")}},{key:"resetAutoReconnect",value:function(){null!=this.reconnectTimer&&(clearTimeout(this.reconnectTimer),this.reconnectTimer=null),null!=this.reconnectInterval&&(clearInterval(this.reconnectInterval),this.reconnectInterval=null),this.reconnectStart&&(this.reconnectStart=0)}},{key:"checkAndSetupAutoReconnect",value:function(t,e){var n=this;!t.autoReconnect||null===this.api.cfg.autoReconnect||this.api.cfg.autoReconnect<=0||(Object(r.C)(e.querySelector("#commonDialog-autoReconnect")),this.reconnectStart=(new Date).getTime(),this.reconnectTimer=setTimeout((function(){n.api.reTrySession(),null!=n.reconnectInterval&&(clearInterval(n.reconnectInterval),n.reconnectInterval=null)}),this.api.cfg.autoReconnect),this.reconnectInterval=setInterval((function(){var t=Math.round((n.api.cfg.autoReconnect-((new Date).getTime()-n.reconnectStart))/1e3);e.querySelector("#commonDialog-autoReconnect-time").textContent=t<=0?"":"("+t+")"}),250))}}])&&jr(e.prototype,n),o&&jr(e,o),a}(o.b),Lr=n(370),Wr=n.n(Lr),Ur=n(371),_r=n.n(Ur);function Nr(t){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hr(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=zr(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function qr(t){return function(t){if(Array.isArray(t))return Jr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||zr(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function zr(t,e){if(t){if("string"==typeof t)return Jr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Jr(t,e):void 0}}function Jr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yr(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e,n){return e&&Xr(t.prototype,e),n&&Xr(t,n),t}function Kr(t,e){return(Kr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $r(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zr(t);if(e){var o=Zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vr(this,n)}}function Vr(t,e){return!e||"object"!==Nr(e)&&"function"!=typeof e?Qr(t):e}function Qr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zr(t){return(Zr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function to(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eo={cfg:"webswing.config",send:"socket.send",sendSimpleEvent:"socket.sendSimpleEvent",translate:"translate.translate",focusDefault:"focusManager.focusDefault",filesConfig:"files.filesConfig",manager:"files.manager",dndManager:"files.dndManager"},no=b.appFrameProtoOut.FileDialogEventMsgOutProto.FileDialogEventTypeProto,ro=m.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,oo=m.appFrameProtoIn.DirectUploadEventMsgInProto.DirectUploadEventInProto,io=b.appFrameProtoOut.DirectUploadEventMsgOutProto.DirectUploadEventOutProto,ao=m.appFrameProtoIn.DirectDownloadEventMsgInProto.DirectDownloadEventInProto,so=b.appFrameProtoOut.DirectDownloadEventMsgOutProto.DirectDownloadEventOutProto,lo=b.appFrameProtoOut.DirectDownloadEventMsgOutProto.DirectDownloadTypeProto,co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kr(t,e)}(n,t);var e=$r(n);function n(){var t;Yr(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return to(Qr(t=e.call.apply(e,[this].concat(o))),"fileDialog",void 0),to(Qr(t),"dndUploadDialog",void 0),to(Qr(t),"transferHandler",void 0),to(Qr(t),"dndTransferHandler",void 0),to(Qr(t),"fileUIHidden",!1),to(Qr(t),"uploadMaxFileSize",5),t}return Gr(n,[{key:"provides",value:function(){var t=this;return{"files.process":this.process,"files.handleDirectUpload":this.handleDirectUpload,"files.handleDirectDownload":this.handleDirectDownload,"files.close":this.close,"files.download":this.download,"files.link":this.link,"files.print":this.print,"files.redirect":this.redirect,"files.dropFile":this.dropFile,"files.filesConfig":this.filesConfig(),"files.manager":this.manager(),"files.dndManager":this.dndManager(),"files.getExternalManager":function(){return t.externalManager()}}}},{key:"process",value:function(t){this.fileUIHidden=t.fileUIHidden||!1,this.uploadMaxFileSize=t.uploadMaxFileSize,t.eventType===no.AutoUpload?this.autoUpload(t):t.eventType===no.AutoSave?this.autoSave(t):t.eventType===no.Open?this.open(t):t.eventType===no.Close&&this.close()}},{key:"getFileDialog",value:function(){return null==this.fileDialog?this.fileDialog=new uo(this.api.manager):this.fileDialog}},{key:"getDnDUploadDialog",value:function(){return null==this.dndUploadDialog?this.dndUploadDialog=new po(this.api.dndManager):this.dndUploadDialog}},{key:"getTransferHandler",value:function(){return null==this.transferHandler&&(this.api.cfg.directTransfer?this.transferHandler=new ho(this.api.manager):this.transferHandler=new fo(this.api.manager)),this.transferHandler}},{key:"getDnDTransferHandler",value:function(){return null==this.dndTransferHandler&&(this.dndTransferHandler=new go(this.api.dndManager)),this.dndTransferHandler}},{key:"autoUpload",value:function(t){this.api.manager.isFileUIHidden()||this.api.manager.autoUpload(t)}},{key:"autoSave",value:function(t){this.api.manager.isFileUIHidden()||this.api.manager.autoSave(t)}},{key:"open",value:function(t){this.api.manager.isFileUIHidden()||this.api.manager.openDialog(t)}},{key:"close",value:function(){this.api.manager.close()}},{key:"download",value:function(t){this.api.manager.download(this.getFileUrl(t))}},{key:"link",value:function(t){this.api.manager.link(t)}},{key:"print",value:function(t){this.api.manager.print(this.getFileUrl(t))}},{key:"redirect",value:function(t){this.api.manager.redirect(t)}},{key:"dropFile",value:function(t,e){this.api.dndManager.uploadFile(t,e)}},{key:"handleDirectUpload",value:function(t){t.dndId?this.getDnDTransferHandler().handleDirectUpload(t):this.getTransferHandler()instanceof ho&&this.getTransferHandler().handleDirectUpload(t)}},{key:"handleDirectDownload",value:function(t){this.getTransferHandler()instanceof ho&&this.getTransferHandler().handleDirectDownload(t)}},{key:"getFileUrl",value:function(t){var e=this.api.cfg.connectionUrl+t;return e+=(-1!==e.indexOf("?")?"&":"?")+"X-webswing-securitySuffix="+Object(r.q)()}},{key:"filesSelected",value:function(t){this.api.send({selected:{files:t}})}},{key:"sendMessageEvent",value:function(t){this.api.sendSimpleEvent({type:t})}},{key:"filesConfig",value:function(){return{directUploadChunkSize:131072}}},{key:"directTransferDownloadProgressAllCallback",value:function(t,e,n){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.directTransferDownloadProgressAll(t,e,n):console.error("filesListener not implemented, cannot call directTransferDownloadProgressAll callback"):this.getFileDialog().directTransferDownloadProgressAllCallback(t,e,n)}},{key:"directTransferDownloadAllDoneCallback",value:function(){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.directTransferDownloadAllDone():console.error("filesListener not implemented, cannot call directTransferDownloadAllDone callback"):this.getFileDialog().directTransferDownloadAllDoneCallback()}},{key:"directTransferDownloadFailedCallback",value:function(t){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.directTransferDownloadFailed(t):console.error("filesListener not implemented, cannot call directTransferDownloadFailed callback"):this.getFileDialog().directTransferDownloadFailedCallback(t)}},{key:"fileUploadProgressAllCallback",value:function(t,e){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.fileUploadProgressAll(t,e):console.error("filesListener not implemented, cannot call fileUploadProgressAll callback"):this.getFileDialog().fileUploadProgressAllCallback(t,e)}},{key:"fileUploadDoneCallback",value:function(t){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.fileUploadDone(t):console.error("filesListener not implemented, cannot call fileUploadDone callback"):this.getFileDialog().fileUploadDoneCallback(t)}},{key:"fileUploadFailedCallback",value:function(t,e,n){this.api.manager.isFileUIHidden()?null!=this.api.cfg.filesListener?this.api.cfg.filesListener.fileUploadFailed(t,e,n):console.error("filesListener not implemented, cannot call fileUploadFailed callback"):this.getFileDialog().fileUploadFailedCallback(t,e,n)}},{key:"manager",value:function(){var t=this;return{autoUpload:function(e){return t.getFileDialog().autoUpload(e)},autoSave:function(e){return t.getFileDialog().autoSave(e)},openDialog:function(e){return t.getFileDialog().openDialog(e)},close:function(){return t.getFileDialog().closeDialog()},download:function(e,n){return t.getFileDialog().download(e,n)},print:function(e){return t.getFileDialog().print(e)},link:function(e){return t.getFileDialog().link(e)},redirect:function(t){window.location.href=t},uploadFile:function(e){return t.getTransferHandler().uploadFile(e)},clearUploads:function(){return t.getTransferHandler().clearUploads()},cancelUploads:function(){return t.getTransferHandler().cancelUploads()},cancelDownloads:function(){return t.getTransferHandler().cancelDownloads()},directTransferDownloadProgressAllCallback:function(e,n,r){return t.directTransferDownloadProgressAllCallback(e,n,r)},directTransferDownloadAllDoneCallback:function(){return t.directTransferDownloadAllDoneCallback()},directTransferDownloadFailedCallback:function(e){return t.directTransferDownloadFailedCallback(e)},fileUploadProgressAllCallback:function(e,n){return t.fileUploadProgressAllCallback(e,n)},fileUploadDoneCallback:function(e){return t.fileUploadDoneCallback(e)},fileUploadFailedCallback:function(e,n,r){return t.fileUploadFailedCallback(e,n,r)},filesSelected:function(e){return t.filesSelected(e)},downloadSelectedFile:function(){return t.sendMessageEvent(ro.downloadFile)},deleteSelectedFile:function(){return t.sendMessageEvent(ro.deleteFile)},cancelFileSelection:function(){return t.sendMessageEvent(ro.cancelFileSelection)},isFileUIHidden:function(){return t.fileUIHidden},getUploadMaxFileSize:function(){return t.uploadMaxFileSize},send:function(e){return t.api.send(e)},focusDefault:function(){return t.api.focusDefault()},translate:function(e){return t.api.translate(e)},isIE:function(){return!!t.api.cfg.ieVersion},getConnectionUrl:function(){return t.api.cfg.connectionUrl},getFilesConfig:function(){return t.api.filesConfig}}}},{key:"dndManager",value:function(){var t=this;return{uploadFile:function(e,n){return t.getDnDTransferHandler().uploadFile(e,n)},fileUploadProgressAllCallback:function(e,n){return t.getDnDUploadDialog().fileUploadProgressAllCallback(e,n)},fileUploadDoneCallback:function(e){return t.getDnDUploadDialog().fileUploadDoneCallback(e)},fileUploadFailedCallback:function(e,n,r){return t.getDnDUploadDialog().fileUploadFailedCallback(e,n,r)},hasUploadingFinished:function(){return t.getDnDTransferHandler().hasUploadingFinished()},cancelUploads:function(){return t.getDnDTransferHandler().cancelUploads()},send:function(e){return t.api.send(e)},translate:function(e){return t.api.translate(e)},getFilesConfig:function(){return t.api.filesConfig}}}},{key:"externalManager",value:function(){var t=this;return{uploadFile:function(e){return t.api.manager.uploadFile(e)},filesSelected:function(e){return t.api.manager.filesSelected(e)},downloadSelectedFile:function(){return t.api.manager.downloadSelectedFile()},deleteSelectedFile:function(){return t.api.manager.deleteSelectedFile()},getUploadMaxFileSize:function(){return t.api.manager.getUploadMaxFileSize()},cancelAllUploads:function(){return t.api.manager.cancelUploads()},clearUploads:function(){return t.api.manager.clearUploads()},cancelAllDirectDownloads:function(){return t.api.manager.cancelDownloads()}}}}]),n}(o.b),uo=function(){function t(e){var n=this;Yr(this,t),to(this,"manager",void 0),to(this,"html",void 0),to(this,"doc",void 0),to(this,"rootElement",void 0),to(this,"uploadingFiles",[]),to(this,"uploadedFiles",[]),to(this,"timeout",void 0),to(this,"errorTimeout",void 0),to(this,"closeAfterErrorTimeout",!1),to(this,"uploadBar",void 0),to(this,"fileActionButtonGroup",void 0),to(this,"deleteSelectedButton",void 0),to(this,"downloadSelectedButton",void 0),to(this,"uploadBtn",void 0),to(this,"dropZone",void 0),to(this,"cancelBtn",void 0),to(this,"getFileInput",(function(){return n.uploadBar.querySelector('input[data-id="fileInput"]')})),to(this,"uploadProgressBar",void 0),to(this,"fileDialogErrorMessage",(function(){return n.rootElement.querySelector('div[data-id="fileDialogErrorMessage"]')})),to(this,"fileDialogErrorMessageContent",(function(){return n.rootElement.querySelector('div[data-id="fileDialogErrorMessageContent"]')})),to(this,"fileDialogSuccessMessage",void 0),to(this,"fileDialogSuccessMessageContent",void 0),to(this,"autoUploadBar",void 0),to(this,"uploadAutoUploadButton",void 0),to(this,"cancelAutoUploadButton",void 0),to(this,"getAutoFileInput",(function(){return n.autoUploadBar.querySelector('input[data-id="autoFileInput"]')})),to(this,"autoSaveBar",void 0),to(this,"autoSaveInput",void 0),to(this,"autoSaveButton",void 0),to(this,"cancelAutoSaveButton",void 0),to(this,"directTransferDownloadBar",void 0),to(this,"directTransferDownloadBarDescription",void 0),to(this,"directTransferDownloadProgressBar",void 0),to(this,"directTransferDownloadErrorMessage",void 0),to(this,"directTransferDownloadErrorMessageContent",void 0),to(this,"directTransferCancelDownloadButton",void 0),to(this,"linkDialog",void 0),to(this,"linkDialogClickListener",void 0),to(this,"linkDialogCloseListener",void 0),to(this,"fireUpload",(function(t){var e,r;(n.resetSuccess(),n.resetError(),"drop"===t.type)?e=qr(t.dataTransfer.files):e=null===(r=t.target)||void 0===r?void 0:r.files;var o,i=Hr(e);try{for(i.s();!(o=i.n()).done;){var a=o.value;n.isUploadSizeValid(a)?(n.uploadingFiles.push(a.name),n.setProgressBarVisible(!0),n.manager.uploadFile(a)):(n.setProgressBarVisible(!1),n.showErrorMessage("File '"+a.name+"' is too large. (Max. file size is "+n.manager.getUploadMaxFileSize()+"MB)",5e3))}}catch(t){i.e(t)}finally{i.f()}n.getAutoFileInput().value="",n.getFileInput().value=""})),this.manager=e,this.setup()}return Gr(t,[{key:"animateShow",value:function(t){t.style.display="";var e=t.querySelectorAll(".init-focus");e.length&&e[0].focus()}},{key:"animateHide",value:function(t){t.style.display="none",this.manager.focusDefault()}},{key:"showOrHide",value:function(t,e){e?this.animateShow(t):this.animateHide(t)}},{key:"setup",value:function(){var t=this;this.html=this.manager.translate(Wr.a),this.doc=window.document,this.rootElement=this.doc.querySelector(".webswing-element-content"),this.rootElement.insertAdjacentHTML("beforeend",this.html),this.uploadBar=this.rootElement.querySelector('div[data-id="uploadBar"]'),this.fileActionButtonGroup=this.uploadBar.querySelector('div[data-id="fileActionButtonGroup"]'),this.deleteSelectedButton=this.uploadBar.querySelector('button[data-id="deleteSelectedButton"]'),this.downloadSelectedButton=this.uploadBar.querySelector('button[data-id="downloadSelectedButton"]'),this.uploadBtn=this.uploadBar.querySelector('div[data-id="fileUploadBtn"]'),this.dropZone=this.uploadBar.querySelector('div[data-id="fileDropArea"]'),this.cancelBtn=this.uploadBar.querySelector('button[data-id="cancelBtn"]'),this.uploadProgressBar=this.rootElement.querySelector('div[data-id="fileDialogTransferProgressBar"]'),this.fileDialogSuccessMessage=this.rootElement.querySelector('div[data-id="fileDialogSuccessMessage"]'),this.fileDialogSuccessMessageContent=this.rootElement.querySelector('div[data-id="fileDialogSuccessMessageContent"]'),this.autoUploadBar=this.rootElement.querySelector('div[data-id="autoUploadBar"]'),this.uploadAutoUploadButton=this.autoUploadBar.querySelector('button[data-id="uploadAutoUploadButton"]'),this.cancelAutoUploadButton=this.autoUploadBar.querySelector('button[data-id="cancelAutoUploadButton"]'),this.autoSaveBar=this.rootElement.querySelector('div[data-id="autoSaveBar"]'),this.autoSaveInput=this.autoSaveBar.querySelector('input[data-id="autoSaveInput"]'),this.autoSaveButton=this.autoSaveBar.querySelector('button[data-id="autoSaveButton"]'),this.cancelAutoSaveButton=this.autoSaveBar.querySelector('button[data-id="cancelAutoSaveButton"]'),this.linkDialog=this.rootElement.querySelector('div[data-id="downloadLinkDialog"]'),this.directTransferDownloadBar=this.rootElement.querySelector('div[data-id="directTransferDownloadBar"]'),this.directTransferDownloadBarDescription=this.directTransferDownloadBar.querySelector("#directTransferDownloadBar-description"),this.directTransferDownloadProgressBar=this.directTransferDownloadBar.querySelector('div[data-id="dtDownloadProgressBar"]'),this.directTransferDownloadErrorMessage=this.directTransferDownloadBar.querySelector('div[data-id="dtDownloadErrorMessage"]'),this.directTransferDownloadErrorMessageContent=this.directTransferDownloadBar.querySelector('div[data-id="dtDownloadErrorMessageContent"]'),this.directTransferCancelDownloadButton=this.directTransferDownloadBar.querySelector('button[data-id="dtCancelDownloadButton"]'),this.uploadProgressBar.style.display="none",this.autoUploadBar.style.display="none",this.autoUploadBar=Object(r.e)(this.autoUploadBar),this.autoSaveBar.style.display="none",this.autoSaveBar=Object(r.e)(this.autoSaveBar),this.uploadBar.style.display="none",this.uploadBar=Object(r.e)(this.uploadBar),this.linkDialog.style.display="none",this.linkDialog=Object(r.e)(this.linkDialog),this.directTransferDownloadBar.style.display="none",this.directTransferDownloadBar=Object(r.e)(this.directTransferDownloadBar),this.rootElement.addEventListener("dragover",(function(){t.timeout?clearTimeout(t.timeout):t.dropZone.classList.add("ws-filebar-dropArea--ondrag"),t.timeout=setTimeout((function(){t.timeout=void 0,t.dropZone.classList.remove("ws-filebar-dropArea--ondrag")}),100)})),this.getAutoFileInput().addEventListener("change",this.fireUpload,!1),this.dropZone.addEventListener("drop",this.fireUpload,!1),this.getFileInput().addEventListener("change",this.fireUpload,!1),this.cancelBtn.addEventListener(this.getClickEvent(),(function(){t.cancelFileSelection()})),this.cancelAutoSaveButton.addEventListener(this.getClickEvent(),(function(){t.cancelFileSelection()})),this.cancelAutoUploadButton.addEventListener(this.getClickEvent(),(function(){t.cancelFileSelection()})),this.deleteSelectedButton.addEventListener(this.getClickEvent(),(function(){t.manager.deleteSelectedFile()})),this.downloadSelectedButton.addEventListener(this.getClickEvent(),(function(){t.manager.downloadSelectedFile()})),this.uploadAutoUploadButton.addEventListener(this.getClickEvent(),(function(){t.getAutoFileInput().click()})),this.uploadBtn.addEventListener(this.getClickEvent(),(function(){t.getFileInput().click()})),this.autoSaveButton.addEventListener(this.getClickEvent(),(function(){var e=t.autoSaveInput.value;t.validateFilename()&&e.length>0&&t.manager.filesSelected([e])})),this.directTransferCancelDownloadButton.addEventListener(this.getClickEvent(),(function(){t.cancelDirectTransferDownload()})),this.autoSaveInput.addEventListener("input",this.validateFilename)}},{key:"getClickEvent",value:function(){return Object(r.w)()?"touchend":"click"}},{key:"showErrorMessage",value:function(t,e){var n=this;null!=this.fileDialogErrorMessageContent()&&this.fileDialogErrorMessageContent().insertAdjacentHTML("beforeend","<p>"+t+"</p>"),null!=this.fileDialogErrorMessage()&&this.animateShow(this.fileDialogErrorMessage()),this.errorTimeout&&clearTimeout(this.errorTimeout),this.errorTimeout=setTimeout((function(){n.resetError(),n.closeAfterErrorTimeout&&n.closeDialog()}),e)}},{key:"fileUploadDoneCallback",value:function(t){this.rootElement.querySelector('.ws-progress-text[data-id="uploadProgress"]').querySelector("em").textContent=this.manager.translate("files.progComplete"),this.uploadedFiles.push(t),this.uploadingFiles.splice(this.uploadingFiles.indexOf(t),1),this.checkUploadingFinished()}},{key:"fileUploadFailedCallback",value:function(t,e,n){var r=this;this.setProgressBarVisible(!1),t||(n&&this.showErrorMessage(n,5e3),null==e||e.forEach((function(t){var e=r.uploadingFiles.indexOf(t);r.uploadingFiles.splice(e,1)})),this.checkUploadingFinished())}},{key:"fileUploadProgressAllCallback",value:function(t,e){var n=parseInt(String(t/e*100),10),r=this.rootElement.querySelector('.ws-progress-bar[data-id="uploadProgress"]'),o=this.rootElement.querySelector('.ws-progress-text[data-id="uploadProgress"]');r.style.width=n+"%",o.querySelector("em").textContent=n+"%"}},{key:"cancelDirectTransferDownload",value:function(){this.manager.cancelDownloads(),this.closeDirectTransferDownloadBar()}},{key:"directTransferDownloadProgressAllCallback",value:function(t,e,n){this.directTransferDownloadBar.closest(".webswing-element-content")||(this.rootElement.appendChild(this.directTransferDownloadBar),this.animateShow(this.directTransferDownloadBar),this.directTransferDownloadErrorMessage.style.display="none",this.directTransferDownloadErrorMessageContent.innerHTML=""),this.directTransferDownloadBarDescription.textContent=t>1?this.manager.translate("${files.dtDownloadProgressMulti}: "+t):this.manager.translate("${files.dtDownloadProgressSingle}");var r=parseInt(String(e/n*100),10),o=this.directTransferDownloadProgressBar.querySelector('.ws-progress-bar[data-id="downloadProgress"]'),i=this.directTransferDownloadProgressBar.querySelector('.ws-progress-text[data-id="downloadProgress"]');o.style.width=r+"%",i.querySelector("em").textContent=r+"%"}},{key:"directTransferDownloadAllDoneCallback",value:function(){this.closeDirectTransferDownloadBar()}},{key:"directTransferDownloadFailedCallback",value:function(t){this.directTransferDownloadErrorMessage.style.display="",this.directTransferDownloadErrorMessageContent.insertAdjacentHTML("beforeend","<p>"+t+"</p>")}},{key:"closeDirectTransferDownloadBar",value:function(){null!=this.directTransferDownloadBar&&this.directTransferDownloadBar.closest(".webswing-element-content")&&(this.directTransferDownloadBar.style.display="none",this.manager.focusDefault(),this.directTransferDownloadBar=Object(r.e)(this.directTransferDownloadBar))}},{key:"checkUploadingFinished",value:function(){var t=this;0===this.uploadingFiles.length&&(this.uploadedFiles.length>0&&(this.fileDialogSuccessMessageContent.innerHTML=this.manager.translate("<p>${files.uploadComplete}</p>"),this.animateShow(this.fileDialogSuccessMessage)),this.manager.filesSelected(this.uploadedFiles),this.uploadedFiles=[],setTimeout((function(){t.setProgressBarVisible(!1)}),5e3),this.manager.clearUploads())}},{key:"isUploadSizeValid",value:function(t){return 0==this.manager.getUploadMaxFileSize()||t.size<=1024*this.manager.getUploadMaxFileSize()*1024}},{key:"cancelFileSelection",value:function(){this.manager.cancelFileSelection(),this.cancelUpload()}},{key:"cancelUpload",value:function(){this.manager.filesSelected([]),this.manager.cancelUploads(),this.setProgressBarVisible(!1)}},{key:"validateFilename",value:function(){var t=this.autoSaveInput.value;return t&&t.match(/^[a-zA-Z0-9. _-]*$/)?(this.resetError(),!0):(null!=this.fileDialogErrorMessageContent()&&(this.fileDialogErrorMessageContent().innerHTML=this.manager.translate("<p>${files.saveInvlidFilename}</p>")),null!=this.fileDialogErrorMessage()&&this.animateShow(this.fileDialogErrorMessage()),!1)}},{key:"setProgressBarVisible",value:function(t){var e=this.rootElement.querySelector('.ws-progress-bar[data-id="uploadProgress"]');t?(this.uploadProgressBar.style.display="",e&&(e.style.width="0%",e.parentElement.style.display="")):(this.uploadProgressBar.style.display="none",e&&(e.parentElement.style.display="none",e.style.width="0%"))}},{key:"displayDownloadLinkDialog",value:function(t,e){var n=this;this.linkDialog.closest(".webswing-element-content")||this.rootElement.append(this.linkDialog);var r=this.linkDialog.querySelector('div[data-id="title"]');r&&(r.innerHTML=this.manager.translate(t.title));var o=this.linkDialog.querySelector('div[data-id="message"]');o&&(o.innerHTML=this.manager.translate(t.message));var i=this.linkDialog.querySelector('button[data-id="downloadLinkButton"]');i&&(i.innerHTML=this.manager.translate(t.buttonMessage),this.linkDialogClickListener&&(null==i||i.removeEventListener(this.getClickEvent(),this.linkDialogClickListener)),this.linkDialogClickListener=function(){window.open(e,"_blank"),n.closeDownloadLinkDialog(n.linkDialog)},null==i||i.addEventListener(this.getClickEvent(),this.linkDialogClickListener),null==i||i.blur());var a=this.linkDialog.querySelector('button[data-id="cancelDownloadLinkButton"]');this.linkDialogCloseListener&&(null==a||a.removeEventListener(this.getClickEvent(),this.linkDialogCloseListener)),this.linkDialogCloseListener=function(){n.closeDownloadLinkDialog(n.linkDialog)},null==a||a.addEventListener(this.getClickEvent(),this.linkDialogCloseListener),null==a||a.blur(),this.linkDialog.style.display="",this.doc.activeElement&&this.doc.activeElement.blur(),i.focus()}},{key:"resetError",value:function(){this.errorTimeout&&(clearTimeout(this.errorTimeout),this.errorTimeout=void 0),null!=this.fileDialogErrorMessageContent()&&(this.fileDialogErrorMessageContent().innerHTML=""),null!=this.fileDialogErrorMessage()&&(this.fileDialogErrorMessage().style.display="none")}},{key:"resetSuccess",value:function(){this.fileDialogSuccessMessageContent.innerHTML="",this.fileDialogSuccessMessage.style.display="none"}},{key:"autoUpload",value:function(t){this.autoUploadBar.closest(".webswing-element-content")||this.rootElement.appendChild(this.autoUploadBar),this.resetSuccess(),this.resetError(),this.setProgressBarVisible(!1),this.uploadingFiles=[],this.uploadedFiles=[],this.getAutoFileInput().multiple=t.isMultiSelection,this.getAutoFileInput().setAttribute("accept",t.filter),this.animateShow(this.autoUploadBar)}},{key:"autoSave",value:function(t){this.autoSaveBar.closest(".webswing-element-content")||this.rootElement.appendChild(this.autoSaveBar),this.resetSuccess(),this.resetError(),this.setProgressBarVisible(!1),this.autoSaveInput.value=t.selection,this.animateShow(this.autoSaveBar)}},{key:"openDialog",value:function(t){this.uploadBar.closest(".webswing-element-content")||this.rootElement.appendChild(this.uploadBar),this.closeAfterErrorTimeout=!1,this.setProgressBarVisible(!1),this.resetSuccess(),this.resetError(),this.appendOrDetach(this.downloadSelectedButton,this.fileActionButtonGroup,t.allowDownload),this.appendOrDetach(this.uploadBtn,this.fileActionButtonGroup,t.allowUpload),this.appendOrDetach(this.deleteSelectedButton,this.fileActionButtonGroup,t.allowDelete),this.showOrHide(this.dropZone,t.allowUpload),this.showOrHide(this.cancelBtn,(t.allowDownload||t.allowUpload||t.allowDelete)&&!t.customDialog),this.getFileInput().multiple=t.isMultiSelection,this.getFileInput().setAttribute("accept",t.filter),this.showOrHide(this.uploadBar,t.allowDownload||t.allowUpload||t.allowDelete)}},{key:"closeDialog",value:function(){null!=this.uploadBar&&this.uploadBar.closest(".webswing-element-content")&&(this.errorTimeout?this.closeAfterErrorTimeout=!0:(this.uploadBar.style.display="none",this.manager.focusDefault(),this.uploadBar=Object(r.e)(this.uploadBar))),null!=this.autoUploadBar&&this.autoUploadBar.closest(".webswing-element-content")&&(this.autoUploadBar.style.display="none",this.manager.focusDefault(),this.autoUploadBar=Object(r.e)(this.autoUploadBar)),null!=this.autoSaveBar&&this.autoSaveBar.closest(".webswing-element-content")&&(this.autoSaveBar.style.display="none",this.manager.focusDefault(),this.autoSaveBar=Object(r.e)(this.autoSaveBar)),this.closeDirectTransferDownloadBar()}},{key:"download",value:function(t,e){if(Object(r.w)()){this.displayDownloadLinkDialog({title:"${files.downloadLink.download.title}",message:"${files.downloadLink.download.message}",buttonMessage:"${files.downloadLink.download.button}"},t)}else this.serveDownload(t,e)}},{key:"link",value:function(t){if(Object(r.w)()){this.displayDownloadLinkDialog({title:"${files.downloadLink.link.title}",message:"${files.downloadLink.link.message}",buttonMessage:"${files.downloadLink.link.button}"},t)}else window.open(t,"_blank")}},{key:"print",value:function(t){var e=this.manager.getConnectionUrl()+"print/web/viewer.html?file="+encodeURIComponent(t);if(Object(r.w)()){this.displayDownloadLinkDialog({title:"${files.downloadLink.print.title}",message:"${files.downloadLink.print.message}",buttonMessage:"${files.downloadLink.print.button}"},e)}else this.manager.isIE()?this.serveDownload(t):window.open(e,"_blank")}},{key:"serveDownload",value:function(t,e){if(t.startsWith("blob:")){var n=document.createElement("a");n.href=t,n.setAttribute("download",e||Object(r.b)()),document.body.appendChild(n),n.click(),document.body.removeChild(n)}else{var o,i="hiddenDownloader_"+(new Date).getTime(),a=this.doc.getElementById(i);if(null!=a)null===(o=a.parentNode)||void 0===o||o.removeChild(a);(a=this.doc.createElement("iframe")).id=i,a.style.display="none",this.doc.body.appendChild(a),a.src=t}}},{key:"appendOrDetach",value:function(t,e,n){var o=Object(r.e)(t);n&&e.appendChild(o)}},{key:"closeDownloadLinkDialog",value:function(t){null!=t&&t.closest(".webswing-element-content")&&(t.style.display="none",Object(r.e)(t))}}]),t}(),po=function(){function t(e){Yr(this,t),to(this,"manager",void 0),to(this,"html",void 0),to(this,"doc",void 0),to(this,"rootElement",void 0),to(this,"uploadDnDBar",void 0),to(this,"cancelDnDBtn",void 0),to(this,"uploadDnDProgressBar",void 0),to(this,"uploadDnDErrorMessageContent",void 0),this.manager=e,this.setup()}return Gr(t,[{key:"setup",value:function(){var t,e=this;(this.doc=window.document,this.rootElement=this.doc.querySelector(".webswing-element-content"),this.rootElement.querySelector('div[data-id="uploadDnDBar"]'))&&(null===(t=this.rootElement.querySelector('div[data-id="uploadDnDBar"]'))||void 0===t||t.remove());this.html=this.manager.translate(_r.a),this.rootElement.insertAdjacentHTML("beforeend",this.html),this.uploadDnDBar=this.rootElement.querySelector('div[data-id="uploadDnDBar"]'),this.cancelDnDBtn=this.uploadDnDBar.querySelector('button[data-id="uploadDnDBar-cancel"]'),this.uploadDnDProgressBar=this.rootElement.querySelector('div[data-id="uploadDnDBar-progressContainer"]'),this.uploadDnDErrorMessageContent=this.rootElement.querySelector('div[data-id="uploadDnDBar-errorContent"]'),this.cancelDnDBtn.addEventListener(this.getClickEvent(),(function(){e.manager.cancelUploads(),e.close()}))}},{key:"fileUploadDoneCallback",value:function(t){this.isOpen()||this.open(),this.manager.hasUploadingFinished()&&0==this.uploadDnDErrorMessageContent.childElementCount&&this.close()}},{key:"fileUploadFailedCallback",value:function(t,e,n){this.isOpen()||this.open(),t||n&&this.uploadDnDErrorMessageContent.insertAdjacentHTML("beforeend","<p>"+n+"</p>")}},{key:"fileUploadProgressAllCallback",value:function(t,e){this.isOpen()||this.open();var n=parseInt(String(t/e*100),10),r=this.uploadDnDProgressBar.querySelector('.ws-progress-bar[data-id="uploadDnDBar-progressBar"]'),o=this.uploadDnDProgressBar.querySelector('.ws-progress-text[data-id="uploadDnDBar-progressText"]');r.style.width=n+"%",o.querySelector("em").textContent=n+"%"}},{key:"isOpen",value:function(){return Object(r.z)(this.uploadDnDBar)}},{key:"open",value:function(){this.uploadDnDErrorMessageContent.innerHTML="",this.uploadDnDBar.style.removeProperty("display")}},{key:"close",value:function(){this.uploadDnDErrorMessageContent.innerHTML="",this.uploadDnDBar.style.display="none"}},{key:"getClickEvent",value:function(){return Object(r.w)()?"touchend":"click"}}]),t}(),fo=function(){function t(e){Yr(this,t),to(this,"manager",void 0),to(this,"activeUploads",[]),this.manager=e}return Gr(t,[{key:"uploadFile",value:function(t){var e=this,n=this.getUploadUrl(),r=new XMLHttpRequest,o=new FormData;r.open("POST",n,!0),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.withCredentials=!0;var i={xhr:r,loaded:0,total:t.size};r.upload.addEventListener("progress",(function(t){i.loaded=t.loaded,i.total=t.total;var n,r=0,o=0,a=Hr(e.activeUploads);try{for(a.s();!(n=a.n()).done;){var s=n.value;r+=s.loaded,o+=s.total}}catch(t){a.e(t)}finally{a.f()}e.manager.fileUploadProgressAllCallback(r,o)})),this.activeUploads.push(i),r.onreadystatechange=function(){if(r.readyState===XMLHttpRequest.DONE&&200===r.status){var t=JSON.parse(r.response),n=t.files[0].name,o=t.files[0].id;e.manager.send({upload:{fileId:o}}),e.manager.fileUploadDoneCallback(n)}else r.readyState===XMLHttpRequest.DONE&&200!==r.status&&e.manager.fileUploadFailedCallback("abort"===r.statusText,r.files,r.responseText)},o.append("files[]",t),r.send(o)}},{key:"clearUploads",value:function(){this.activeUploads=[]}},{key:"cancelUploads",value:function(){this.activeUploads.forEach((function(t){t.loaded=0,t.total=0,t.xhr.abort()}))}},{key:"cancelDownloads",value:function(){}},{key:"getUploadUrl",value:function(){return this.manager.getConnectionUrl()+"file?X-webswing-securitySuffix="+Object(r.q)()}}]),t}(),ho=function(){function t(e){var n=this;Yr(this,t),to(this,"manager",void 0),to(this,"UPLOAD_CHUNK_SIZE",void 0),to(this,"uploadQueue",[]),to(this,"activeUpload",null),to(this,"activeDownloads",{}),to(this,"downloadsCleanupInterval",3e3),to(this,"downloadsCleanupExpiration",12e4),this.manager=e,this.UPLOAD_CHUNK_SIZE=this.manager.getFilesConfig().directUploadChunkSize,setInterval((function(){return n.cleanupDownloads()}),this.downloadsCleanupInterval)}return Gr(t,[{key:"uploadFile",value:function(t){var e=Object(r.b)();this.uploadQueue.push({transferId:e,file:t,offset:0,finished:!1}),this.startNextUpload()}},{key:"cancelUploads",value:function(){this.uploadQueue=[],null!=this.activeUpload&&this.sendUploadCancel(this.activeUpload.transferId),this.activeUpload=null}},{key:"clearUploads",value:function(){this.activeUpload=null}},{key:"cancelDownloads",value:function(){for(var t in this.activeDownloads)this.sendDownloadErr(t,"Cancelled by user.");this.activeDownloads={}}},{key:"handleDirectUpload",value:function(t){switch(t.event){case io.ack:this.sendNextUploadPart(t.transferId);break;case io.err:this.handleUploadError(t.transferId,t.error)}}},{key:"handleDirectDownload",value:function(t){switch(t.event){case so.start:this.startDownload(t.transferId,t.fileName,t.size,t.mime,t.type);break;case so.part:this.downloadPart(t.transferId,t.data);break;case so.finish:this.downloadFinish(t.transferId);break;case so.err:this.downloadError(t.transferId,t.error)}}},{key:"startDownload",value:function(t,e,n,r,o){this.activeDownloads[t]={name:e,size:n,type:o,mime:r,transferId:t,parts:[],loaded:0,lastTimestamp:(new Date).getTime()},this.sendDownloadAck(t)}},{key:"downloadPart",value:function(t,e){try{var n=this.activeDownloads[t];if(!n)return void console.error("Could not find download with id ["+t+"]!");n.loaded+=e.length,n.parts.push(e),n.lastTimestamp=(new Date).getTime(),this.sendDownloadAck(t);var r=0,o=0;for(var i in this.activeDownloads){var a=this.activeDownloads[i];r+=a.loaded;var s=a.size;o+=0==s?a.loaded:s}this.manager.directTransferDownloadProgressAllCallback(Object.keys(this.activeDownloads).length,r,o)}catch(e){console.error(e),this.sendDownloadErr(t,e)}}},{key:"downloadFinish",value:function(t){try{var e=this.activeDownloads[t];if(!e)return void console.error("Could not find download with id ["+t+"]!");e.lastTimestamp=(new Date).getTime();var n=new Blob(e.parts,{type:e.mime}),r=URL.createObjectURL(n);window.navigator.msSaveOrOpenBlob?window.navigator.msSaveOrOpenBlob(n,e.name):e.type==lo.print?this.manager.print(r):this.manager.download(r,e.name),delete this.activeDownloads[t],0==Object.keys(this.activeDownloads).length&&this.manager.directTransferDownloadAllDoneCallback()}catch(e){console.error(e),this.sendDownloadErr(t,e)}}},{key:"sendDownloadAck",value:function(t){this.manager.send({directDownload:{transferId:t,event:ao.ack}})}},{key:"sendDownloadErr",value:function(t,e){this.manager.send({directDownload:{transferId:t,error:e,event:ao.err}})}},{key:"downloadError",value:function(t,e){var n=this.activeDownloads[t];if(n){console.error("Failed to download file ["+n.name+"], transferId ["+t+"]!");var r="";e&&(r="Reason: "+e,console.error(r)),this.manager.directTransferDownloadFailedCallback("Failed to download file ["+n.name+"]. "+r),delete this.activeDownloads[t]}else console.error("Could not find download with id ["+t+"]!")}},{key:"cleanupDownloads",value:function(){var t=(new Date).getTime();for(var e in this.activeDownloads){t-this.activeDownloads[e].lastTimestamp>this.downloadsCleanupExpiration&&delete this.activeDownloads[e]}}},{key:"startNextUpload",value:function(){if(null==this.activeUpload&&0!=this.uploadQueue.length){var t=this.uploadQueue.shift();t&&(this.activeUpload=t,this.sendUploadStart(this.activeUpload.transferId,this.activeUpload.file.name,this.activeUpload.file.size))}}},{key:"handleUploadError",value:function(t,e){var n="";null!=this.activeUpload&&this.activeUpload.transferId===t&&(n=this.activeUpload.file.name),this.manager.fileUploadFailedCallback(!1,[n],e||void 0),this.activeUpload=null,this.startNextUpload()}},{key:"sendUploadStart",value:function(t,e,n){this.manager.send({directUpload:{transferId:t,event:oo.start,fileName:e,size:n}})}},{key:"sendNextUploadPart",value:function(t){var e=this;if(null!=this.activeUpload&&this.activeUpload.transferId===t){var n=this.activeUpload;if(n.finished)return this.manager.fileUploadDoneCallback(n.file.name),this.activeUpload=null,void this.startNextUpload();if(n.offset>=n.file.size)return n.finished=!0,void this.sendUploadFinish(t);var r=n.offset,o=n.offset+this.UPLOAD_CHUNK_SIZE>n.file.size?n.file.size:n.offset+this.UPLOAD_CHUNK_SIZE;n.offset+=this.UPLOAD_CHUNK_SIZE,this.manager.fileUploadProgressAllCallback(r,this.getTotalUploadSize());var i=n.file.slice(r,o),a=new FileReader;a.onload=function(){var n=a.result;e.manager.send({directUpload:{transferId:t,event:oo.part,data:new Uint8Array(n)}})},a.readAsArrayBuffer(i)}else this.handleUploadError(t,"Could not find active upload with id ["+t+"]!")}},{key:"getTotalUploadSize",value:function(){var t=0;null!=this.activeUpload&&(t+=this.activeUpload.file.size);var e,n=Hr(this.uploadQueue);try{for(n.s();!(e=n.n()).done;){t+=e.value.file.size}}catch(t){n.e(t)}finally{n.f()}return t}},{key:"sendUploadFinish",value:function(t){this.manager.send({directUpload:{transferId:t,event:oo.finish}})}},{key:"sendUploadCancel",value:function(t){this.manager.send({directUpload:{transferId:t,event:oo.cancel}})}}]),t}(),go=function(){function t(e){Yr(this,t),to(this,"manager",void 0),to(this,"UPLOAD_CHUNK_SIZE",void 0),to(this,"uploadQueue",[]),to(this,"activeUpload",null),this.manager=e,this.UPLOAD_CHUNK_SIZE=this.manager.getFilesConfig().directUploadChunkSize}return Gr(t,[{key:"uploadFile",value:function(t,e){var n=Object(r.b)();this.uploadQueue.push({transferId:n,dndId:e,file:t,offset:0,finished:!1}),this.startNextUpload()}},{key:"cancelUploads",value:function(){this.uploadQueue=[],null!=this.activeUpload&&this.sendUploadCancel(this.activeUpload.transferId,this.activeUpload.dndId),this.activeUpload=null}},{key:"clearUploads",value:function(){this.activeUpload=null}},{key:"handleDirectUpload",value:function(t){switch(t.event){case io.ack:this.sendNextUploadPart(t.transferId,t.dndId);break;case io.err:this.handleUploadError(t.transferId,t.error)}}},{key:"hasUploadingFinished",value:function(){return null==this.activeUpload&&0==this.uploadQueue.length}},{key:"startNextUpload",value:function(){if(null==this.activeUpload&&0!=this.uploadQueue.length){var t=this.uploadQueue.shift();t&&(this.activeUpload=t,this.sendUploadStart(this.activeUpload.transferId,this.activeUpload.dndId,this.activeUpload.file.name,this.activeUpload.file.size))}}},{key:"handleUploadError",value:function(t,e){var n="";null!=this.activeUpload&&this.activeUpload.transferId===t&&(n=this.activeUpload.file.name),this.activeUpload=null,this.manager.fileUploadFailedCallback(!1,[n],e||void 0),this.startNextUpload()}},{key:"sendUploadStart",value:function(t,e,n,r){this.manager.send({directUpload:{transferId:t,dndId:e,event:oo.start,fileName:n,size:r}})}},{key:"sendNextUploadPart",value:function(t,e){var n=this;if(null!=this.activeUpload&&this.activeUpload.transferId===t){var r=this.activeUpload;if(r.finished)return this.activeUpload=null,this.manager.fileUploadDoneCallback(r.file.name),void this.startNextUpload();if(r.offset>=r.file.size)return r.finished=!0,void this.sendUploadFinish(t,e);var o=r.offset,i=r.offset+this.UPLOAD_CHUNK_SIZE>r.file.size?r.file.size:r.offset+this.UPLOAD_CHUNK_SIZE;r.offset+=this.UPLOAD_CHUNK_SIZE,this.manager.fileUploadProgressAllCallback(o,this.getTotalUploadSize());var a=r.file.slice(o,i),s=new FileReader;s.onload=function(){var r=s.result;n.manager.send({directUpload:{transferId:t,dndId:e,event:oo.part,data:new Uint8Array(r)}})},s.readAsArrayBuffer(a)}else this.handleUploadError(t,"Could not find active dnd upload with id ["+t+"]!")}},{key:"getTotalUploadSize",value:function(){var t=0;null!=this.activeUpload&&(t+=this.activeUpload.file.size);var e,n=Hr(this.uploadQueue);try{for(n.s();!(e=n.n()).done;){t+=e.value.file.size}}catch(t){n.e(t)}finally{n.f()}return t}},{key:"sendUploadFinish",value:function(t,e){this.manager.send({directUpload:{transferId:t,dndId:e,event:oo.finish}})}},{key:"sendUploadCancel",value:function(t,e){this.manager.send({directUpload:{transferId:t,dndId:e,event:oo.cancel}})}}]),t}(),yo=n(372),vo=n.n(yo);function wo(t){return(wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bo(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return mo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){throw t})),f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){s=!0,i=t})),f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function mo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Po(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ko(t,e){return(ko=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function So(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=To(t);if(e){var o=To(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Io(this,n)}}function Io(t,e){return!e||"object"!==wo(e)&&"function"!=typeof e?Eo(t):e}function Eo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function To(t){return(To=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var xo=m.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto,Mo=m.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto,Ao=m.appFrameProtoIn.ClipboardEventMsgInProto.ClipboardEventMsgTypeProto,Do={cfg:"webswing.config",send:"socket.send",sendHandshake:"base.handshake",getCanvas:"canvas.get",getRootWidth:"canvas.width",getRootHeight:"canvas.height",displayPasteDialog:"clipboard.displayPasteDialog",translate:"translate.translate",repaint:"render.repaint",showBar:"dialog.showBar",dialogs:"dialog.content",hasUndockedWindows:"render.hasUndockedWindows",focusDefault:"focusManager.focusDefault"},Co=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ko(t,e)}(a,t);var e,n,o,i=So(a);function a(){var t;Oo(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return jo(Eo(t=i.call.apply(i,[this].concat(n))),"canvas",void 0),jo(Eo(t),"input",void 0),jo(Eo(t),"cursor",void 0),jo(Eo(t),"touchBar",void 0),jo(Eo(t),"registered",!1),jo(Eo(t),"tapStarted",0),jo(Eo(t),"dragStarted",0),jo(Eo(t),"dragging",!1),jo(Eo(t),"scaling",!1),jo(Eo(t),"lastScaleDist",0),jo(Eo(t),"touchStartY",0),jo(Eo(t),"touchStartX",0),jo(Eo(t),"inputEvtQueue",[]),jo(Eo(t),"latestMouseWheelEvent",void 0),jo(Eo(t),"latestMouseMoveEvent",void 0),jo(Eo(t),"sendInterval",void 0),jo(Eo(t),"canvasResizeInterval",void 0),jo(Eo(t),"scaleHideTimer",void 0),jo(Eo(t),"toastTimer",void 0),jo(Eo(t),"tapDelayThreshold",750),jo(Eo(t),"doubleTapDelayThreshold",500),jo(Eo(t),"lastTap",0),jo(Eo(t),"tapMoveThreshold",10),jo(Eo(t),"longPressTimeout",void 0),jo(Eo(t),"longPressStartTimeout",void 0),jo(Eo(t),"lastRepaint",0),jo(Eo(t),"repaintTimeout",void 0),jo(Eo(t),"isKeyboardProbablyShowing",!1),jo(Eo(t),"focusCounter",0),jo(Eo(t),"scaleStartScrollLeft",0),jo(Eo(t),"scaleStartScrollTop",0),jo(Eo(t),"scaleStartPoints",[]),jo(Eo(t),"scaleStartDim",{}),jo(Eo(t),"maxScale",3),jo(Eo(t),"scaleSpeed",10),jo(Eo(t),"compositionText",""),jo(Eo(t),"compositionInsertText",""),jo(Eo(t),"composing",!1),jo(Eo(t),"backspaceKeyDown",!1),jo(Eo(t),"scrollMode","drag"),jo(Eo(t),"touchpadMode",!1),jo(Eo(t),"fullscreenButton",void 0),jo(Eo(t),"scalingEnabled",!0),jo(Eo(t),"staticScaleEnabled",!1),jo(Eo(t),"switchModeRequested",!1),jo(Eo(t),"switchModeDontAsk",!1),jo(Eo(t),"switchModeAlreadySwitched",!1),jo(Eo(t),"isProbablyTouchBook",!1),jo(Eo(t),"currentMode","mouse"),jo(Eo(t),"currentConfig",null),jo(Eo(t),"lastRootWidth",0),jo(Eo(t),"lastRootHeight",0),jo(Eo(t),"lastWinWidth",0),jo(Eo(t),"lastWinHeight",0),jo(Eo(t),"handleInputFocus",(function(e){var n,r,o;(null===(n=t.input)||void 0===n?void 0:n.matches(".focused-with-caret.editable"))?(null===(r=document.querySelector("#fake-input"))||void 0===r||r.remove(),t.input.matches(":focus")?""===t.input.value&&(t.input.value=" ",t.input.selectionStart=t.input.selectionEnd=t.input.value.length):0===t.focusCounter&&(t.api.focusDefault(),t.focusCounter++)):(e.preventDefault(),null===(o=t.input)||void 0===o||o.blur());return!1})),jo(Eo(t),"handleInputBlur",(function(e){var n;t.focusCounter=0,t.input.value="",null===(n=document.getElementById("fake-input"))||void 0===n||n.remove(),t.api.focusDefault(),t.repaint()})),jo(Eo(t),"handleKeyup",(function(e){8!==e.keyCode&&13!==e.keyCode||t.inputEvtQueue.push(t.getKBKey(xo.keyup,e)),t.backspaceKeyDown=!1})),jo(Eo(t),"handleKeydown",(function(e){return 8!==e.keyCode&&13!==e.keyCode||t.inputEvtQueue.push(t.getKBKey(xo.keydown,e)),t.backspaceKeyDown=8===e.keyCode,8!==e.keyCode||1!==t.input.value.length||(t.input.value=" ",t.input.selectionStart=t.input.selectionEnd=t.input.value.length,e.preventDefault(),e.stopPropagation(),!1)})),jo(Eo(t),"handleCompositionStart",(function(e){t.compositionText=e.data,t.compositionInsertText="",t.composing=!0})),jo(Eo(t),"handleCompositionUpdate",(function(e){if(null==t.compositionText&&(t.compositionText=""),t.compositionInsertText="",!t.compositionText.length)return t.compositionInsertText=e.data,void(t.compositionText=e.data);if(e.data.length&&e.data.startsWith(t.compositionText))return t.compositionInsertText=e.data.substring(e.data.indexOf(t.compositionText)+t.compositionText.length),void(t.compositionText=e.data);if(!e.data.length){var n,r=bo(t.compositionText);try{for(r.s();!(n=r.n()).done;){n.value;t.sendBackspace()}}catch(t){r.e(t)}finally{r.f()}return t.compositionText="",void(t.compositionInsertText="")}if(t.compositionText.startsWith(e.data)){for(var o=0;o<t.compositionText.length-e.data.length;o++)t.sendBackspace();return t.compositionInsertText="",void(t.compositionText=e.data)}var i,a=bo(t.compositionText);try{for(a.s();!(i=a.n()).done;){i.value;t.sendBackspace()}}catch(t){a.e(t)}finally{a.f()}t.compositionInsertText=e.data,t.compositionText=e.data})),jo(Eo(t),"handleCompositionEnd",(function(e){t.compositionText="",t.compositionInsertText="",t.composing=!1,t.input.value=" "})),jo(Eo(t),"handleInputEvent",(function(e){if("deleteContentBackward"===e.inputType){if(t.backspaceKeyDown)return;if(t.composing){var n,r=bo(t.compositionInsertText);try{for(r.s();!(n=r.n()).done;){n.value;t.sendBackspace()}}catch(t){r.e(t)}finally{r.f()}}else if(t.sendBackspace(),0===t.input.value.length)return t.input.value=" ",setTimeout((function(){t.input.selectionStart=t.input.selectionEnd=t.input.value.length}),1),e.preventDefault(),void e.stopPropagation()}"insertCompositionText"!==e.inputType?e.isComposing||"insertText"!==e.inputType||null==e.data||(t.sendWordsUsingKeypressEvent(e.data),t.compositionText="",t.compositionInsertText="",t.composing=!1):null!=t.compositionInsertText&&t.compositionInsertText.length&&t.sendWordsUsingKeypressEvent(t.compositionInsertText)})),jo(Eo(t),"handleFullScreenChange",(function(){t.repaint();var e,n,r=window.document,o=r.fullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||r.msFullscreenElement;(t.toast("Fullscreen "+(o?"ON":"OFF")),null!=t.fullscreenButton)&&(null===(e=t.fullscreenButton.querySelector(".ws-button-toggle-fullscreen"))||void 0===e||e.classList.toggle("ws-icon-resize-small",o),null===(n=t.fullscreenButton.querySelector(".ws-button-toggle-fullscreen"))||void 0===n||n.classList.toggle("ws-icon-resize-full",!o))})),jo(Eo(t),"handleGestureStart",(function(t){t.preventDefault()})),jo(Eo(t),"handleStart",(function(e){Fo(e.target)||(t.touchpadMode?t.handleStartPointer(e):"drag"===t.scrollMode?t.handleStartScrollDrag(e):"swipe"===t.scrollMode&&t.handleStartScrollSwipe(e))})),jo(Eo(t),"handleMove",(function(e){Fo(e.target)?e.cancelable&&e.preventDefault():t.touchpadMode?t.handleMovePointer(e):"drag"===t.scrollMode?t.handleMoveScrollDrag(e):"swipe"===t.scrollMode&&t.handleMoveScrollSwipe(e)})),jo(Eo(t),"handleEnd",(function(e){Fo(e.target)||(t.touchpadMode?t.handleEndPointer(e):"drag"===t.scrollMode?t.handleEndScrollDrag(e):"swipe"===t.scrollMode&&t.handleEndScrollSwipe(e))})),jo(Eo(t),"handleCancel",(function(e){Fo(e.target)||(t.touchpadMode||"drag"===t.scrollMode||"swipe"===t.scrollMode)&&t.handleCancelDefault(e)})),jo(Eo(t),"handleStartDefault",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),null!=t.longPressStartTimeout&&(clearTimeout(t.longPressStartTimeout),t.longPressStartTimeout=void 0);var n=e.changedTouches;if(1===e.touches.length){t.dragStarted=e.timeStamp,t.tapStarted=e.timeStamp;var r=n[0].clientX,o=n[0].clientY;t.touchStartX=r,t.touchStartY=o,t.animateDrag(n[0].clientX,n[0].clientY),t.longPressStartTimeout=setTimeout((function(){t.animateLongPress(n[0].clientX,n[0].clientY)}),50),t.longPressTimeout=setTimeout((function(){t.longPressTimeout=void 0,t.tapStarted=0;var n=[];n.push(t.createMouseEvent(e.target,Mo.mousedown,r,o,3)),n.push(t.createMouseEvent(e.target,Mo.mouseup,r,o,3)),t.api.send({events:n}),t.api.focusDefault(),t.cancelAnimateDrag(),t.animateLongPressOut(r,o)}),t.tapDelayThreshold)}else t.tapStarted=0,t.dragStarted=0,t.touchStartY=0,t.touchStartX=0,t.cancelAnimateLongPress(),t.cancelAnimateDrag(),null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0);t.handleStartScaling(e),e.cancelable&&e.preventDefault()})),jo(Eo(t),"handleStartScrollDrag",(function(e){t.handleStartDefault(e),t.dragging=!1})),jo(Eo(t),"handleStartScrollSwipe",(function(e){t.handleStartDefault(e),t.cancelAnimateDrag()})),jo(Eo(t),"handleStartPointer",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),null!=t.longPressStartTimeout&&(clearTimeout(t.longPressStartTimeout),t.longPressStartTimeout=void 0);var n=e.changedTouches;if(1===e.touches.length){if(t.tapStarted=e.timeStamp,t.dragStarted=e.timeStamp,t.touchStartX=n[0].clientX,t.touchStartY=n[0].clientY,t.cursor){var r=t.cursor.getBoundingClientRect(),o=r.left,i=r.top;t.cursor.dataset.originX=o.toString(),t.cursor.dataset.originY=i.toString();var a=t.getPointerRelatedCanvas(o,i);t.longPressStartTimeout=setTimeout((function(){t.animateLongPress(o,i)}),50),t.longPressTimeout=setTimeout((function(){t.longPressTimeout=void 0,t.tapStarted=0;var e=[];e.push(t.createMouseEvent(a,Mo.mousedown,o,i,3)),e.push(t.createMouseEvent(a,Mo.mouseup,o,i,3)),t.api.send({events:e}),t.api.focusDefault(),t.animateLongPressOut(o,i)}),t.tapDelayThreshold)}}else t.tapStarted=0,t.touchStartY=0,t.touchStartX=0,t.cancelAnimateLongPress(),null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0);t.handleStartScaling(e),t.dragging=!1,e.cancelable&&e.preventDefault()})),jo(Eo(t),"handleMoveDefault",(function(e){if(t.scalingEnabled&&t.scaling&&2===e.touches.length){var n,r,o,i,a,s,l=Math.hypot(e.touches[0].clientX-e.touches[1].clientX,e.touches[0].clientY-e.touches[1].clientY),c=(l-t.lastScaleDist)*t.scaleSpeed;t.lastScaleDist=l;var u=c/Math.hypot(null===(n=t.canvas)||void 0===n?void 0:n.width,null===(r=t.canvas)||void 0===r?void 0:r.height),d=Number(t.canvas.dataset.scale)||1,p=Number(t.canvas.dataset.minscale)||1;u=Math.min(Math.max(p,d+u),t.maxScale),t.doScaleCanvas(u);var f=e.touches[0].clientX,h=e.touches[0].clientY,g=e.touches[1].clientX,y=e.touches[1].clientY,v=t.scaleStartPoints[0].x,w=t.scaleStartPoints[0].y,b=t.scaleStartPoints[1].x,m=t.scaleStartPoints[1].y,O=(null===(o=t.canvas)||void 0===o?void 0:o.clientWidth)*u-t.scaleStartDim.width,P=(null===(i=t.canvas)||void 0===i?void 0:i.clientHeight)*u-t.scaleStartDim.height,k={x:(v+b)/2,y:(w+m)/2},S={x:(f+g)/2,y:(h+y)/2},I=t.scaleStartScrollLeft+O*(k.x/(null===(a=t.canvas)||void 0===a?void 0:a.clientWidth)),E=t.scaleStartScrollTop+P*(k.y/(null===(s=t.canvas)||void 0===s?void 0:s.clientHeight));I+=k.x-S.x,E+=k.y-S.y;var T=t.api.cfg.rootElement;T.scrollLeft=I,T.scrollTop=E}else t.scaling=!1})),jo(Eo(t),"handleMoveScrollDrag",(function(e){t.handleMoveDefault(e);var n=e.changedTouches;1===e.touches.length?t.handleDragMove(e.target,e.touches[0].clientX,e.touches[0].clientY,n[0].clientX,n[0].clientY,t.touchStartX,t.touchStartY,!0,(function(){return!0})):(t.tapStarted=0,t.dragStarted=0,t.dragging=!1),e.cancelable&&(e.preventDefault(),e.stopPropagation())})),jo(Eo(t),"handleMoveScrollSwipe",(function(e){t.handleMoveDefault(e);var n=e.changedTouches;if(1===e.touches.length){if(Math.abs(t.touchStartX-e.touches[0].clientX)>t.tapMoveThreshold||Math.abs(t.touchStartY-e.touches[0].clientY)>t.tapMoveThreshold){t.tapStarted=0,clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0,t.cancelAnimateLongPress();var r=t.touchStartY-e.touches[0].clientY;if(0!==r){var o=t.createMouseEvent(e.target,Mo.mousewheel,n[0].clientX,n[0].clientY,0);o.mouse.wheelDelta=r,null!=t.latestMouseWheelEvent?t.latestMouseWheelEvent.mouse.wheelDelta+=r:t.latestMouseWheelEvent=o,t.touchStartY=e.touches[0].clientY}}}else t.tapStarted=0;e.cancelable&&(e.preventDefault(),e.stopPropagation())})),jo(Eo(t),"handleMovePointer",(function(e){if(t.handleMoveDefault(e),1===e.touches.length){var n=t.getPointerCoords(e.touches[0].clientX,e.touches[0].clientY),r=t.getPointerRelatedCanvas(n.x,n.y);t.cursor&&(t.cursor.style.left=n.x+"px",t.cursor.style.top=n.y+"px",t.handleDragMove(r,e.touches[0].clientX,e.touches[0].clientY,n.x,n.y,Number(t.cursor.dataset.originX),Number(t.cursor.dataset.originY),!1,(function(){return e.timeStamp-t.lastTap<=t.doubleTapDelayThreshold})),t.dragging||(t.latestMouseMoveEvent=t.createMouseEvent(r,Mo.mousemove,n.x,n.y,0),t.cancelAnimateLongPress()))}else t.tapStarted=0,t.dragStarted=0,t.dragging=!1,t.latestMouseMoveEvent=void 0;e.cancelable&&(e.preventDefault(),e.stopPropagation())})),jo(Eo(t),"handleEndDefault",(function(e,n,r,o){if((null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),t.tapStarted>0)&&e.timeStamp-t.tapStarted<=t.tapDelayThreshold){var i=[];if(i.push(t.createMouseEvent(n,Mo.mousedown,r,o,1)),i.push(t.createMouseEvent(n,Mo.mouseup,r,o,1)),n&&n.closest(".webswing-html-canvas")){var a=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window,clientX:r,clientY:o});n.dispatchEvent(a)}if(t.api.send({events:i}),t.focusFakeInput(),t.cancelAnimateDrag(),t.cancelAnimateLongPress(),t.animateTap(r,o),t.tapStarted-t.lastTap<=t.doubleTapDelayThreshold){var s=t.createMouseEvent(n,Mo.dblclick,r,o,1);t.api.send({events:[s]}),t.lastTap=0}t.lastTap=t.tapStarted}t.scaling=!1,t.lastScaleDist=0,e.cancelable&&(e.preventDefault(),e.stopPropagation())})),jo(Eo(t),"handleEndScrollDrag",(function(e){var n=e.changedTouches;t.handleEndDefault(e,e.target,n[0].clientX,n[0].clientY),t.handleDragMoveEnd(e.target,n[0].clientX,n[0].clientY)})),jo(Eo(t),"handleEndScrollSwipe",(function(e){var n=e.changedTouches;t.handleEndDefault(e,e.target,n[0].clientX,n[0].clientY)})),jo(Eo(t),"handleEndPointer",(function(e){var n=e.changedTouches,r=t.getPointerCoords(n[0].clientX,n[0].clientY),o=t.getPointerRelatedCanvas(r.x,r.y);t.handleEndDefault(e,o,r.x,r.y),t.handleDragMoveEnd(o,r.x,r.y)})),jo(Eo(t),"handleCancelDefault",(function(e){null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),e.cancelable&&(e.preventDefault(),e.stopPropagation())})),jo(Eo(t),"handleDragMove",(function(e,n,r,o,i,a,s,l,c){(Math.abs(t.touchStartX-n)>t.tapMoveThreshold||Math.abs(t.touchStartY-r)>t.tapMoveThreshold)&&(t.tapStarted=0,null!=t.longPressTimeout&&(clearTimeout(t.longPressTimeout),t.longPressTimeout=void 0),t.cancelAnimateLongPress(),!t.dragging&&t.dragStarted>0&&c()&&(t.dragging=!0,t.api.send({events:[t.createMouseEvent(e,Mo.mousedown,a,s,1)]}))),t.dragging&&(t.api.send({events:[t.createMouseEvent(e,Mo.mousemove,o,i,1)]}),l&&t.animateDrag(o,i))})),jo(Eo(t),"handleDragMoveEnd",(function(e,n,r){if(t.dragging){var o=t.createMouseEvent(e,Mo.mouseup,n,r,1);t.api.send({events:[o]}),t.api.focusDefault(),t.dragging=!1}t.cancelAnimateDrag()})),jo(Eo(t),"handleStartScaling",(function(e){if(t.scalingEnabled){var n=t.api.cfg.rootElement;if(t.scaleStartScrollLeft=n.offsetLeft,t.scaleStartScrollTop=n.offsetTop,2===e.touches.length){t.scaling=!0;var r=e.touches[0].clientX,o=e.touches[0].clientY,i=e.touches[1].clientX,a=e.touches[1].clientY;t.lastScaleDist=Math.hypot(r-i,o-a),t.scaleStartPoints=[{x:r,y:o},{x:i,y:a}];var s=t.canvas,l=Number(s.dataset.scale)||Number(s.dataset.minscale)||1;t.scaleStartDim={width:s.clientWidth*l,height:s.clientHeight*l}}else t.scaling=!1,t.lastScaleDist=0,t.scaleStartPoints=[]}})),t}return e=a,(n=[{key:"provides",value:function(){var t=this;return{"touch.register":this.register,"touch.cursorChanged":this.cursorChanged,"touch.inputFocusLost":this.inputFocusLost,"touch.touchBarConfig":this.touchBarConfig(),"touch.touchBarEnabled":function(){return null!=t.touchBar},"touch.switchMode":this.switchMode,"touch.dispose":this.dispose,"touch.correctPosition":this.correctPosition,"touch.refreshScale":this.refreshScale}}},{key:"touchBarConfig",value:function(){var t=this;return{buttons:{defaultButtons:{toggleMode:{label:'<span class="ws-button-toggle-mode ws-icon-mouse-pointer" role="button"></span>',title:"${touch.controlMode}",enabled:!0,hidden:!1,action:function(e){t.buttonToggleMode(e)}},switchToDesktop:{label:'<span class="ws-button-switch-to-desktop ws-icon-desktop" role="button"></span>',title:"${touch.desktopMode}",enabled:!0,hidden:!0,action:function(e){t.buttonSwitchToDesktop(e)}},copy:{label:'<span class="ws-icon-docs" role="button"></span>',title:"${touch.copy}",enabled:!0,hidden:!1,action:function(e){t.buttonCopy(e)}},cut:{label:'<span class="ws-icon-scissors" role="button"></span>',title:"${touch.cut}",enabled:!0,hidden:!1,action:function(e){t.buttonCut(e)}},paste:{label:'<span class="ws-icon-paste" role="button"></span>',title:"${touch.paste}",enabled:!0,hidden:!1,action:function(e){t.buttonPaste(e)}},keyboard:{label:'<span class="ws-icon-keyboard" role="button"></span>',title:"${touch.keyboard}",enabled:!0,hidden:!0,action:function(e){t.buttonOpenKeyboard(e)}},fullscreen:{label:'<span class="ws-button-toggle-fullscreen ws-icon-resize-full" role="button"></span>',title:"${touch.fullscreen}",enabled:!Object(r.w)(),hidden:!1,action:function(e){t.buttonToggleFullscreen(e)}}},left:[],center:[],right:[]},scalingEnabled:!1,staticScaleEnabled:!1}}},{key:"register",value:function(t){var e=this;this.canvas=this.api.getCanvas(),this.doRegister(t,!1),this.currentConfig=t,document.addEventListener("touchstart",(function(t){Fo(t.target)||e.api.hasUndockedWindows()||e.registered||e.switchModeDontAsk||e.switchModeRequested||(e.switchModeRequested=!0,e.api.showBar(e.api.dialogs.touchSwitchModeTouchDialog),t.preventDefault())})),document.addEventListener("mousemove",(function(t){Fo(t.target)||!e.registered||e.switchModeDontAsk||e.switchModeRequested||e.isProbablyTouchBook||(e.switchModeRequested=!0,e.api.showBar(e.api.dialogs.touchSwitchModeMouseDialog),t.preventDefault(),t.stopPropagation())}),!1)}},{key:"doRegister",value:function(t,e){var n;this.registered||!Object(r.x)()&&!e||(this.input=document.querySelector(".ws-input-hidden"),document.addEventListener("touchstart",this.handleStart,{passive:!1}),document.addEventListener("touchend",this.handleEnd,{passive:!1}),document.addEventListener("touchcancel",this.handleCancel,{passive:!1}),document.addEventListener("touchleave",this.handleEnd,{passive:!1}),document.addEventListener("touchmove",this.handleMove,{passive:!1}),this.api.cfg.rootElementWrapper.classList.add("touch"),this.input.addEventListener("focus",this.handleInputFocus),this.input.addEventListener("blur",this.handleInputBlur),this.input.addEventListener("keyup",this.handleKeyup),this.input.addEventListener("keydown",this.handleKeydown),this.input.addEventListener("compositionstart",this.handleCompositionStart),this.input.addEventListener("compositionupdate",this.handleCompositionUpdate),this.input.addEventListener("compositionend",this.handleCompositionEnd),this.input.addEventListener("input",this.handleInputEvent),document.addEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.addEventListener("mozfullscreenchange",this.handleFullScreenChange),document.addEventListener("fullscreenchange",this.handleFullScreenChange),document.addEventListener("MSFullscreenChange",this.handleFullScreenChange),Object(r.w)()&&document.addEventListener("gesturestart",this.handleGestureStart),this.initIntervals(),this.api.cfg.rootElement.onselectstart=function(t){return!1},this.registered=!0,this.api.cfg.touchMode=!0,this.currentMode="touch",this.touchpadMode=!1,this.input.blur(),this.api.focusDefault(),this.lastRootWidth=this.api.cfg.rootElement.clientWidth,this.lastRootHeight=this.api.cfg.rootElement.clientHeight,this.lastWinWidth=Math.round(document.body.clientWidth),this.lastWinHeight=Math.round(document.body.clientHeight),null===(n=this.api.cfg.rootElement.parentElement)||void 0===n||n.insertAdjacentHTML("beforeend",vo.a),this.api.cfg.hideTouchBar||this.initTouchBar(t),this.initMisc(t),this.initScale())}},{key:"dispose",value:function(){var t;this.registered&&(document.removeEventListener("touchstart",this.handleStart),document.removeEventListener("touchend",this.handleEnd),document.removeEventListener("touchcancel",this.handleCancel),document.removeEventListener("touchleave",this.handleEnd),document.removeEventListener("touchmove",this.handleMove),this.api.cfg.rootElementWrapper.classList.remove("touch"),this.input&&(this.input.removeEventListener("focus",this.handleInputFocus),this.input.removeEventListener("blur",this.handleInputBlur),this.input.removeEventListener("keyup",this.handleKeyup),this.input.removeEventListener("keydown",this.handleKeydown),this.input.removeEventListener("compositionstart",this.handleCompositionStart),this.input.removeEventListener("compositionupdate",this.handleCompositionUpdate),this.input.removeEventListener("compositionend",this.handleCompositionEnd),this.input.removeEventListener("input",this.handleInputEvent)),document.removeEventListener("webkitfullscreenchange",this.handleFullScreenChange),document.removeEventListener("mozfullscreenchange",this.handleFullScreenChange),document.removeEventListener("fullscreenchange",this.handleFullScreenChange),document.removeEventListener("MSFullscreenChange",this.handleFullScreenChange),Object(r.w)()&&document.removeEventListener("gesturestart",this.handleGestureStart),this.api.cfg.rootElement.onselectstart=function(){return!0},this.api.sendHandshake(),clearInterval(this.sendInterval),clearInterval(this.canvasResizeInterval),null===(t=document.querySelector(".touch-control, #ws-cursor"))||void 0===t||t.remove(),this.touchBar=void 0,this.currentMode="mouse",this.registered=!1)}},{key:"initIntervals",value:function(){var t=this;this.sendInterval=setInterval((function(){return t.sendInput()}),100),setTimeout((function(){t.canvasResizeInterval=setInterval((function(){return t.resizeCheck()}),500)}),3e3)}},{key:"initTouchBar",value:function(t){if(null==this.touchBar){var e=this.api.cfg.rootElement.parentElement;if(this.touchBar=e.querySelector('[data-id="touchBar"]'),t&&t.buttons){var n=this.touchBar.querySelector(".ws-toolbar-container"),o=t.buttons.defaultButtons;o&&(this.appendButtonsToBar([o.toggleMode],null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar([o.switchToDesktop],null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar([o.copy],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.cut],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.paste],null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar([o.keyboard],null==n?void 0:n.querySelector(".align-right")),this.appendButtonsToBar([o.fullscreen],null==n?void 0:n.querySelector(".align-right"))),this.appendButtonsToBar(t.buttons.left,null==n?void 0:n.querySelector(".align-left")),this.appendButtonsToBar(t.buttons.center,null==n?void 0:n.querySelector(".align-center")),this.appendButtonsToBar(t.buttons.right,null==n?void 0:n.querySelector(".align-right"))}this.cursor=document.getElementById("ws-cursor"),Object(r.C)(this.touchBar)}}},{key:"initMisc",value:function(t){var e,n=this;t&&(this.scalingEnabled=!1,this.staticScaleEnabled=t.staticScaleEnabled),null===(e=document.querySelector("#ws-canvas-scale .scale-restore"))||void 0===e||e.addEventListener("click",(function(){n.doScaleCanvas(1)}))}},{key:"initScale",value:function(){if(this.scalingEnabled){var t=0;this.touchBar&&null!=this.touchBar&&(t=this.touchBar.clientHeight);var e=Math.min(document.body.offsetWidth/this.api.getRootWidth(),(document.body.offsetHeight-t)/this.api.getRootHeight());this.canvas.dataset.scale=String(e),this.canvas.dataset.minscale=String(e),this.doScaleCanvas(e)}else if(this.staticScaleEnabled){var n=this.api.cfg.rootElement.clientHeight,r=this.api.cfg.rootElement.clientWidth,o=Math.min(r/this.api.getRootWidth(),n/this.api.getRootHeight());this.canvas.dataset.scale=String(o),this.refreshScale()}}},{key:"refreshScale",value:function(){if(this.staticScaleEnabled){var t=Number(this.canvas.dataset.scale)||1;this.api.cfg.rootElement.querySelectorAll(".webswing-canvas:not([data-id=canvas]), .ws-input-hidden").forEach((function(e){e.style.zoom=t+""}))}}},{key:"disposeScale",value:function(){this.scalingEnabled?(this.canvas.dataset.scale=String(1),this.canvas.dataset.minscale=String(1),this.doScaleCanvas(1)):this.staticScaleEnabled&&(this.canvas.dataset.scale=String(1),this.api.cfg.rootElement.querySelectorAll(".webswing-canvas:not([data-id=canvas]), .ws-input-hidden").forEach((function(t){t.style.zoom="1"})))}},{key:"appendButtonsToBar",value:function(t,e){if(t){var n,r=bo(t);try{for(r.s();!(n=r.n()).done;){var o=n.value;this.appendButtonToBar(o,e)}}catch(t){r.e(t)}finally{r.f()}}}},{key:"appendButtonToBar",value:function(t,e){if(t&&t.enabled){var n=document.createElement("button");n.classList.add("ws-touchbar-btn"),n.innerHTML=this.api.translate(t.label),n.setAttribute("title",this.api.translate(t.title)),Object(r.w)()?n.addEventListener("touchend",(function(){t.action&&t.action(n)})):n.addEventListener("click",(function(){t.action&&t.action(n)})),t.hidden?Object(r.t)(n):Object(r.C)(n),e.contains(n)||e.appendChild(n)}}},{key:"cursorChanged",value:function(t){if(this.cursor&&this.registered&&this.api.cfg.touchMode&&this.touchpadMode){this.cursor.className="",this.cursor.style.content="";var e=t.cursor;if(this.api.cfg.ieVersion)return t.curFile?(this.cursor.classList.add("custom"),void(this.cursor.style.content="url('"+this.api.cfg.connectionUrl+"file?id="+t.curFile+"'), auto")):void(e&&null!=e&&this.cursor.classList.add(e));if(null!=t.b64img){var n=Object(r.n)(t.b64img);this.cursor.classList.add("custom"),this.cursor.style.content="url("+n+")"}e&&null!=e&&this.cursor.classList.add(e)}}},{key:"inputFocusLost",value:function(){this.input&&this.registered&&this.api.cfg.touchMode&&(this.input.matches(".focused-with-caret.editable")||this.hideKeyboard())}},{key:"focusFakeInput",value:function(){var t;if(!document.querySelectorAll("#fake-input").length){var e=document.createElement("input");e.setAttribute("type","text"),e.setAttribute("readonly","true"),e.id="fake-input",e.style.position="absolute",e.style.opacity="0",e.style.height="0",e.style.fontSize="16px",document.body.prepend(e),e.addEventListener("focus",(function(){setTimeout((function(){var t;null===(t=document.querySelector("#fake-input"))||void 0===t||t.remove()}),1e3)}))}null===(t=document.querySelector("#fake-input"))||void 0===t||t.focus({preventScroll:!0})}},{key:"switchMode",value:function(t,e){this.switchModeRequested=!1,e&&(this.switchModeDontAsk=!0),t&&("mouse"===this.currentMode?(this.doRegister(this.currentConfig,!0),this.api.sendHandshake(),this.switchModeAlreadySwitched&&!this.isProbablyTouchBook||(Object(r.C)(document.querySelector(".ws-button-switch-to-desktop").parentElement),Object(r.t)(document.querySelector(".ws-button-toggle-mode").parentElement),this.isProbablyTouchBook=!0)):(this.disposeScale(),this.dispose(),this.api.cfg.touchMode=!1),this.switchModeAlreadySwitched=!0)}},{key:"buttonToggleMode",value:function(t){var e,n;this.touchpadMode=!this.touchpadMode,null===(e=t.querySelector(".ws-button-toggle-mode"))||void 0===e||e.classList.toggle("ws-icon-hand-paper-o",this.touchpadMode),null===(n=t.querySelector(".ws-button-toggle-mode"))||void 0===n||n.classList.toggle("ws-icon-mouse-pointer",!this.touchpadMode),this.cursor&&(this.touchpadMode?Object(r.C)(this.cursor):Object(r.t)(this.cursor),this.cursor.style.top=this.cursor.parentElement.clientHeight/2+"px",this.cursor.style.left=this.cursor.parentElement.clientWidth/2+"px"),t.blur(),this.toast(this.touchpadMode?"Pointer Mode":"Touch Mode")}},{key:"buttonSwitchToDesktop",value:function(t){this.disposeScale(),this.dispose(),this.api.cfg.touchMode=!1}},{key:"buttonCopy",value:function(t){t.blur(),this.api.send({clipboardEvent:{type:Ao.copy}}),this.toast("Copy")}},{key:"buttonCut",value:function(t){t.blur(),this.api.send({clipboardEvent:{type:Ao.cut}}),this.toast("Cut")}},{key:"buttonPaste",value:function(t){t.blur(),this.api.displayPasteDialog({title:"${clipboard.paste.title.touch}",message:"${clipboard.paste.message.touch}"}),this.toast("Paste")}},{key:"buttonOpenKeyboard",value:function(t){t.blur(),this.showKeyboard(),this.toast("Keyboard ON")}},{key:"buttonToggleFullscreen",value:function(t){this.fullscreenButton=t,t.blur();var e=window.document,n=e.documentElement,r=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen,o=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?o.call(e):r.call(n)}},{key:"animateTap",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animate")}},{key:"animateLongPress",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animateLong")}},{key:"animateLongPressOut",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset);var n=document.getElementById("ws-touch-effect");null==n||n.classList.remove("animate","animateLong","animateLongOut"),n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px",null==n||n.classList.add("animateLongOut")}},{key:"cancelAnimateLongPress",value:function(){null!=this.longPressStartTimeout&&(clearTimeout(this.longPressStartTimeout),this.longPressStartTimeout=void 0);var t=document.getElementById("ws-touch-effect");null==t||t.classList.remove("animate","animateLong","animateLongOut")}},{key:"cancelAnimateDrag",value:function(){document.querySelectorAll(".ws-drag-effect").forEach((function(t){t.style.display="none"}))}},{key:"animateDrag",value:function(t,e){window.pageYOffset>0&&(e+=window.pageYOffset),document.querySelectorAll(".ws-drag-effect").forEach((function(n){n.style.display="block",n.style.top=e-(null==n?void 0:n.clientHeight)/2+"px",n.style.left=t-(null==n?void 0:n.clientWidth)/2+"px"}))}},{key:"getPointerCoords",value:function(t,e){var n,r,o=this.api.cfg.rootElement.clientHeight,i=this.api.cfg.rootElement.clientWidth,a=t-this.touchStartX,s=e-this.touchStartY,l=Number(null===(n=this.cursor)||void 0===n?void 0:n.dataset.originX),c=Number(null===(r=this.cursor)||void 0===r?void 0:r.dataset.originY);return{x:Math.max(0,Math.min(l+a,i-1)),y:Math.max(0,Math.min(c+s,o-1))}}},{key:"getPointerRelatedCanvas",value:function(t,e){return document.elementFromPoint(t,e)}},{key:"doScaleCanvas",value:function(t){var e=this;this.scalingEnabled&&(null!=this.scaleHideTimer&&(clearTimeout(this.scaleHideTimer),this.scaleHideTimer=void 0),1===t?(this.canvas.style.transform="scale("+t+")",this.canvas.style.transformOrigin=""):(this.canvas.style.transform="scale("+t+")",this.canvas.style.transformOrigin="top left"),this.canvas.dataset.scale=String(t),1!==t?(Object(r.C)(document.getElementById("ws-canvas-scale")),Object(r.C)(document.querySelector("#ws-canvas-scale .scale-restore"))):Object(r.t)(document.querySelector("#ws-canvas-scale .scale-restore")),document.querySelector("#ws-canvas-scale .scale-value").textContent=Number(100*t).toFixed(0)+"%",this.scaleHideTimer=setTimeout((function(){Object(r.t)(document.getElementById("ws-canvas-scale")),e.scaleHideTimer=void 0}),3e3),this.repaint())}},{key:"correctPosition",value:function(){this.api.cfg.rootElement.scrollTop>0&&this.api.cfg.rootElement.scrollTo(0,0),this.isKeyboardProbablyShowing||this.staticScaleEnabled&&this.initScale()}},{key:"sendWordsUsingKeypressEvent",value:function(t){for(var e=0,n=t.length;e<n;e++)this.inputEvtQueue.push({key:{type:xo.keydown,character:t.charCodeAt(e),keycode:0}},{key:{type:xo.keypress,character:t.charCodeAt(e),keycode:0}},{key:{type:xo.keyup,character:t.charCodeAt(e),keycode:0}})}},{key:"sendBackspace",value:function(){this.inputEvtQueue.push({key:{type:xo.keydown,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}}),this.inputEvtQueue.push({key:{type:xo.keypress,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}}),this.inputEvtQueue.push({key:{type:xo.keyup,character:8,keycode:8,alt:!1,ctrl:!1,shift:!1,meta:!1}})}},{key:"getKBKey",value:function(t,e){var n=e.which;0===n&&null!=e.key&&(n=e.key.charCodeAt(0));var r=e.keyCode;return 0===r&&(r=n),{key:{type:t,character:n,keycode:r,alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey}}}},{key:"createMouseEvent",value:function(t,e,n,r,o){var i,a,s,l,c,u=Number(this.canvas.dataset.scale)||1;if(i=t&&null!=t&&t.parentNode&&null!=t.parentNode&&t.parentNode.getBoundingClientRect?t.matches(".internal")?null===(a=t.parentElement)||void 0===a?void 0:a.parentElement:t.parentElement:this.api.getCanvas(),t&&t.matches("canvas.webswing-canvas")&&t.dataset.id&&"canvas"!==t.dataset.id&&(t.matches(".internal")?t.parentNode&&(null===(l=t.parentElement)||void 0===l?void 0:l.dataset.ownerid)&&(s=t.parentElement.dataset.ownerid):s=t.dataset.id),!(e!==Mo.mouseup||t&&t.matches&&t.matches("canvas.webswing-canvas")))return{mouse:{x:-1,y:-1,type:e,button:o,buttons:0===o?0:Math.pow(2,o),winId:s||"",timeMilis:Date.now()%864e5}};e===Mo.mouseup&&t&&t.matches&&!t.matches("canvas.webswing-canvas")&&null!=t.closest(".webswing-html-canvas")&&(i=null==t||null===(c=t.closest(".webswing-html-canvas"))||void 0===c?void 0:c.parentElement);var d=i.getBoundingClientRect().left,p=i.getBoundingClientRect().top,f=Math.round((n-d)/u),h=Math.round((r-p)/u);return t&&t.parentElement&&(f+=t.parentElement.scrollLeft/u,h+=t.parentElement.scrollTop/u),{mouse:{x:Math.round(f),y:Math.round(h),type:e,button:o,buttons:0===o?0:Math.pow(2,o),winId:s||"",timeMilis:Date.now()%864e5}}}},{key:"sendInput",value:function(){this.enqueueInputEvent();var t=this.inputEvtQueue;this.inputEvtQueue=[],t.length>0&&this.api.send({events:t})}},{key:"enqueueInputEvent",value:function(){if(this.api.cfg.hasControl){if(null!=this.latestMouseWheelEvent){var t,e,n,r,o=null===(t=this.latestMouseWheelEvent.mouse)||void 0===t?void 0:t.wheelDelta;if(o){var i=Math.sign(o);Math.abs(o)<10?o=i:o/=10}this.inputEvtQueue.push({mouse:{x:null===(e=this.latestMouseWheelEvent.mouse)||void 0===e?void 0:e.x,y:null===(n=this.latestMouseWheelEvent.mouse)||void 0===n?void 0:n.y,type:Mo.mousewheel,wheelDelta:o,button:0,buttons:0,ctrl:!1,alt:!1,shift:!1,meta:!1,timeMilis:null===(r=this.latestMouseWheelEvent.mouse)||void 0===r?void 0:r.timeMilis}}),this.latestMouseWheelEvent=void 0}null!=this.latestMouseMoveEvent&&(this.inputEvtQueue.push(this.latestMouseMoveEvent),this.latestMouseMoveEvent=void 0)}}},{key:"showKeyboard",value:function(){}},{key:"hideKeyboard",value:function(){this.input&&(this.input.style.top="",this.input.style.left="",this.input.style.height="",this.input.classList.remove("focused-with-caret"),this.input.classList.remove("editable"),this.input.blur(),this.api.focusDefault())}},{key:"resizeCheck",value:function(){if(!this.api.cfg.mirror&&null!=this.canvas){if(this.lastRootWidth!==this.api.cfg.rootElement.clientWidth||this.lastRootHeight!==this.api.cfg.rootElement.clientHeight){if(this.scalingEnabled){var t,e=Math.min(document.body.offsetWidth/this.api.getRootWidth(),(document.body.offsetHeight-(null===(t=this.touchBar)||void 0===t?void 0:t.clientHeight))/this.api.getRootHeight());this.canvas.dataset.minscale=String(e),e>Number(this.canvas.dataset.scale)&&(this.canvas.dataset.scale=String(e),this.doScaleCanvas(e))}this.lastRootWidth=this.api.cfg.rootElement.clientWidth,this.lastRootHeight=this.api.cfg.rootElement.clientHeight,this.api.sendHandshake()}var n,r,o=this.lastWinWidth!==Math.round(document.body.clientWidth),i=this.lastWinHeight!==Math.round(document.body.clientHeight);if(o&&i&&this.correctPosition(),i&&!o&&this.lastWinHeight-document.body.clientHeight>100)return void((null===(n=this.input)||void 0===n?void 0:n.matches(".focused-with-caret.editable"))&&(this.isKeyboardProbablyShowing=!0));(null===(r=this.input)||void 0===r?void 0:r.matches(".focused-with-caret.editable"))&&this.isKeyboardProbablyShowing&&(this.isKeyboardProbablyShowing=!1,this.hideKeyboard()),this.lastWinWidth=Math.round(document.body.clientWidth),this.lastWinHeight=Math.round(document.body.clientHeight),this.isKeyboardProbablyShowing=!1}}},{key:"repaint",value:function(){var t=this;null!=this.repaintTimeout&&(clearTimeout(this.repaintTimeout),this.repaintTimeout=void 0),(new Date).getTime()-this.lastRepaint<500?this.repaintTimeout=setTimeout((function(){t.repaint()}),250):(this.api.repaint(),this.lastRepaint=(new Date).getTime())}},{key:"toast",value:function(t){null!=this.toastTimer&&(clearTimeout(this.toastTimer),this.toastTimer=void 0);var e=document.querySelector("#ws-toast");e.textContent=t,Object(r.C)(e),this.toastTimer=setTimeout((function(){e.textContent="",Object(r.t)(e)}),2e3)}}])&&Po(e.prototype,n),o&&Po(e,o),a}(o.b);function Fo(t){return!t||!(t instanceof Element&&t.matches&&(t.matches("canvas.webswing-canvas")||t.matches(".webswing-html-canvas")))&&!t.closest(".webswing-html-canvas")}function Bo(t){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ro(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Lo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lo(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Lo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Wo(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _o(t,e){return(_o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function No(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zo(t);if(e){var o=zo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ho(this,n)}}function Ho(t,e){return!e||"object"!==Bo(e)&&"function"!=typeof e?qo(t):e}function qo(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zo(t){return(zo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Yo={cfg:"webswing.config",send:"socket.send",sendSimpleEvent:"socket.sendSimpleEvent",getCanvas:"canvas.get",cut:"clipboard.cut",copy:"clipboard.copy",paste:"clipboard.paste",isAccessibilityEnabled:"accessible.isEnabled",toggleAccessibility:"accessible.toggle",focusInput:"focusManager.focusInput",inputConfig:"input.config",showDropTargets:"render.showDropTargets",dropFile:"files.dropFile"},Xo=m.appFrameProtoIn.KeyboardEventMsgInProto.KeyEventTypeProto,Go=m.appFrameProtoIn.MouseEventMsgInProto.MouseEventTypeProto,Ko=m.appFrameProtoIn.SimpleEventMsgInProto.SimpleEventTypeProto,$o=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_o(t,e)}(a,t);var e,n,o,i=No(a);function a(){var t;Wo(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Jo(qo(t=i.call.apply(i,[this].concat(n))),"registered",!1),Jo(qo(t),"registeredListeners",[]),Jo(qo(t),"latestMouseMoveEvent",void 0),Jo(qo(t),"latestMouseWheelEvent",void 0),Jo(qo(t),"latestWindowResizeEvent",void 0),Jo(qo(t),"latestKeyDownEvent",void 0),Jo(qo(t),"latestKeyDownEventSendTimeout",null),Jo(qo(t),"mouseDown",0),Jo(qo(t),"mouseDownButton",0),Jo(qo(t),"mouseDownCanvas",void 0),Jo(qo(t),"inputEvtQueue",[]),Jo(qo(t),"pixelsScrolled",0),Jo(qo(t),"compositionInput",!1),Jo(qo(t),"focusedHtmlCanvas",void 0),Jo(qo(t),"ctrlCounter",0),Jo(qo(t),"lastCtrlKey",0),Jo(qo(t),"ctrl3Timeout",void 0),Jo(qo(t),"lastDnDEvent",0),Jo(qo(t),"hideDropTargetsTimeout",void 0),Jo(qo(t),"caretControlKeys",[33,34,35,36,37,38,39,40]),t}return e=a,(n=[{key:"provides",value:function(){return{"input.register":this.register,"input.sendInput":this.sendInput,"input.dispose":this.dispose,"input.registerUndockedCanvas":this.registerUndockedCanvas,"input.updateFocusedHtmlCanvas":this.updateFocusedHtmlCanvas,"input.config":this.config()}}},{key:"config",value:function(){return{preventWheelEvent:!0}}},{key:"sendInput",value:function(t){this.enqueueInputEvent();var e=this.inputEvtQueue;this.inputEvtQueue=[],null!=t&&e.push(t),e.length>0&&this.api.send({events:e})}},{key:"enqueueInputEvent",value:function(t){this.api.cfg.hasControl&&(null!=this.latestMouseMoveEvent&&(this.inputEvtQueue.push(this.latestMouseMoveEvent),this.latestMouseMoveEvent=void 0),null!=this.latestMouseWheelEvent&&(this.inputEvtQueue.push(this.latestMouseWheelEvent),this.latestMouseWheelEvent=void 0),null!=this.latestWindowResizeEvent&&(this.inputEvtQueue.push(this.latestWindowResizeEvent),this.latestWindowResizeEvent=void 0),null!=t&&JSON.stringify(this.inputEvtQueue[this.inputEvtQueue.length-1])!==JSON.stringify(t)&&this.inputEvtQueue.push(t))}},{key:"resetInput",value:function(){this.latestMouseMoveEvent=void 0,this.latestMouseWheelEvent=void 0,this.latestWindowResizeEvent=void 0,this.latestKeyDownEvent=void 0,this.latestKeyDownEventSendTimeout=null,this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas(),this.inputEvtQueue=[]}},{key:"dispose",value:function(){this.registered=!1,this.resetInput();var t,e=Ro(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener)}}catch(t){e.e(t)}finally{e.f()}}},{key:"registerUndockedCanvas",value:function(t){var e,n=t.document.createElement("input");n.classList.add("ws-input-hidden"),n.setAttribute("autocorrect","off"),n.setAttribute("autocthis.api.alize","none"),n.setAttribute("autocomplete","off"),n.setAttribute("data-id","input-handler"),null===(e=t.document.querySelector(".webswing-element .webswing-element-content"))||void 0===e||e.appendChild(n),t.inputHandler=n,this.registerInternal(t.inputHandler,t.document,t)}},{key:"register",value:function(){this.registered||(this.registerInternal(document.querySelector(".ws-input-hidden"),document,window),this.registered=!0)}},{key:"registerInternal",value:function(t,e,n){var r=this;this.resetInput(),this.focusInput(t),this.registerGlobalListener(e,"mousedown",(function(e){return r.handleMouseDown(e,t)}),!0),this.registerGlobalListener(e,"dblclick",(function(e){return r.handleDblClick(e,t)})),this.registerGlobalListener(e,"mousemove",(function(t){return r.handleMouseMove(t)})),this.registerGlobalListener(e,"mouseup",(function(e){return r.handleMouseUp(e,t)})),this.registerGlobalListener(e.querySelector(".webswing-element"),"wheel",(function(t){return r.handleWheel(t)})),this.registerGlobalListener(e,"contextmenu",(function(t){return r.handleContextMenu(t)})),this.registerGlobalListener(e,"keydown",(function(t){return r.handleKeyDown(t)})),this.registerGlobalListener(e,"keypress",(function(t){return r.handleKeyPress(t)})),this.registerGlobalListener(e,"keyup",(function(t){return r.handleKeyUp(t)})),this.registerGlobalListener(e,"compositionstart",(function(e){return r.handleCompositionStart(e,t)})),this.registerGlobalListener(e,"compositionupdate",(function(e){return r.handleCompositionUpdate(e,t)})),this.registerGlobalListener(e,"compositionend",(function(e){return r.handleCompositionEnd(e,t)})),this.registerGlobalListener(e,"input",(function(e){return r.handleInput(e,t)})),this.registerGlobalListener(e,"cut",(function(t){return r.handleCut(t)})),this.registerGlobalListener(e,"copy",(function(t){return r.handleCopy(t)})),this.registerGlobalListener(e,"paste",(function(t){return r.handlePaste(t)})),this.registerGlobalListener(e,"mouseout",(function(e){return r.mouseOutEventHandler(e,t)})),this.registerGlobalListener(e,"mouseover",(function(t){return r.mouseOverEventHandler(t)})),this.registerGlobalListener(n,"blur",(function(t){setTimeout((function(){return r.handleWindowBlur(t.target)}),0)})),this.registerGlobalListener(e,"dragenter",(function(t){return r.handleDnD(t)})),this.registerGlobalListener(e,"dragover",(function(t){return r.handleDnD(t)})),this.registerGlobalListener(e,"dragleave",(function(t){return r.handleDnD(t)})),this.registerGlobalListener(e,"drop",(function(t){return r.handleDnD(t)}))}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"updateFocusedHtmlCanvas",value:function(t){var e=function(t){for(;t&&t.matches;){if(t.matches("div.webswing-html-canvas"))return t;t=t.parentNode}return!1}(t);e?(this.focusedHtmlCanvas!==e&&this.sendInput({focus:{htmlPanelId:e.getAttribute("data-id")}}),this.focusedHtmlCanvas=e):this.focusedHtmlCanvas=void 0}},{key:"handleDnD",value:function(t){if(t.preventDefault(),!this.isValidDropTarget(t)&&t.dataTransfer&&(t.dataTransfer.effectAllowed="none",t.dataTransfer.dropEffect="none"),"dragenter"===t.type||"dragover"===t.type){if(this.hideDropTargetsTimeout&&(clearTimeout(this.hideDropTargetsTimeout),this.hideDropTargetsTimeout=void 0),(new Date).getTime()-this.lastDnDEvent<250)return;return this.api.showDropTargets(!0),void(this.lastDnDEvent=(new Date).getTime())}if("dragleave"!==t.type)if("drop"!==t.type);else{var e=t.target;if(e&&e.classList.contains("ws-drop-target")){var n=e.getAttribute("data-id"),r=t;if(r.dataTransfer&&null!=n){var o=r.dataTransfer.files;if(o&&o.length){var i,a=Ro(o);try{for(a.s();!(i=a.n()).done;){var s=i.value;this.api.dropFile(s,n)}}catch(t){a.e(t)}finally{a.f()}}}}this.hideDropTargets()}else this.hideDropTargets()}},{key:"isValidDropTarget",value:function(t){if(!t.target)return!1;var e=t.target,n=e.closest&&e.closest('div[data-id="fileDropArea"]'),r=e&&e.classList.contains("ws-drop-target");return n||r}},{key:"hideDropTargets",value:function(){var t=this;this.hideDropTargetsTimeout&&(clearTimeout(this.hideDropTargetsTimeout),this.hideDropTargetsTimeout=void 0),this.hideDropTargetsTimeout=setTimeout((function(){t.api.showDropTargets(!1),t.hideDropTargetsTimeout=void 0}),250)}},{key:"handleWindowBlur",value:function(t){null!==t&&this.updateFocusedHtmlCanvas(t.document.activeElement)}},{key:"handleMouseDown",value:function(t,e){if(this.updateFocusedHtmlCanvas(t.target),!Qo(t)){this.mouseDownEventHandler(t);var n=this.getMousePos(t,Go.mousedown,t.target);return this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n),this.focusInput(e),this.sendInput(),t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleDblClick",value:function(t,e){if(!Qo(t)){var n=this.getMousePos(t,Go.dblclick,t.target);return this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n),this.focusInput(e),this.sendInput(),t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleMouseMove",value:function(t){if(this.updatePageOffset(t),!Qo(t)||null!=this.mouseDownCanvas){var e=this.getMousePos(t,Go.mousemove,null!=this.mouseDownCanvas?this.mouseDownCanvas:t.target);return this.latestMouseMoveEvent=e,Qo(t)&&null!=this.mouseDownCanvas&&(t.preventDefault(),t.stopPropagation()),!1}}},{key:"handleMouseUp",value:function(t,e){var n=this.getMousePos(t,Go.mouseup,t.target);this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(n);var r=t.target;return r&&r.matches&&r.matches("canvas.webswing-canvas")&&null!=this.mouseDownCanvas&&this.focusInput(e),this.sendInput(),this.mouseDown=this.mouseDown&~Math.pow(2,t.which),this.mouseDownButton=0,this.resetMouseDownCanvas(),!1}},{key:"handleWheel",value:function(t){if(!Qo(t)){if(this.pixelsScrolled+=Object(r.g)()?100*t.deltaY:t.deltaY,this.pixelsScrolled>=100||this.pixelsScrolled<=-100){this.pixelsScrolled=0;var e,n,o=this.getMousePos(t,Go.mousewheel,t.target);this.latestMouseMoveEvent=void 0,null!=this.latestMouseWheelEvent&&(o.mouse.wheelDelta+=null===(e=this.latestMouseWheelEvent)||void 0===e||null===(n=e.mouse)||void 0===n?void 0:n.wheelDelta),this.latestMouseWheelEvent=o}return this.api.inputConfig.preventWheelEvent&&t.preventDefault(),t.stopPropagation(),!1}}},{key:"handleContextMenu",value:function(t){if(!Qo(t))return t.preventDefault(),t.stopPropagation(),!1}},{key:"handleKeyDown",value:function(t){Qo(t)&&Zo(t)||this.keyDownHandler(t)}},{key:"handleKeyPress",value:function(t){Qo(t)&&Zo(t)||this.keyPressHandler(t)}},{key:"handleKeyUp",value:function(t){this.handleAccessibilityAccessKeys(t),Qo(t)&&Zo(t)||this.keyUpHandler(t)}},{key:"handleCompositionStart",value:function(t,e){Zo(t)||this.api.cfg.touchMode||(this.compositionInput=!0,e.classList.add("ws-input-ime"),e.classList.remove("ws-input-hidden"),e.style.font="14px sans-serif")}},{key:"handleCompositionUpdate",value:function(t,e){if(!Zo(t)&&!this.api.cfg.touchMode){var n=t.data;e.style.width=this.getTextWidth(n,"14px sans-serif")+"px"}}},{key:"handleCompositionEnd",value:function(t,e){if(!Zo(t)&&!this.api.cfg.touchMode){e.classList.add("ws-input-hidden"),e.classList.remove("ws-input-ime"),e.style.width="1px";var n=this.api.cfg.ieVersion&&this.api.cfg.ieVersion<=11,r=t.target;this.sentWordsUsingKeypressEvent(n?r.value:t.data),this.compositionInput=!1,this.focusInput(e)}}},{key:"handleInput",value:function(t,e){Zo(t)||this.api.cfg.touchMode||!this.compositionInput&&e.value&&(!t.isComposing&&"insertText"===t.inputType&&null!=t.data||this.api.cfg.ieVersion&&"input"===t.type)&&" "!==e.value&&(this.sentWordsUsingKeypressEvent(e.value),this.focusInput(e))}},{key:"handleCut",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.cut(t),!1}},{key:"handleCopy",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.copy(t),!1}},{key:"handlePaste",value:function(t){return t.preventDefault(),t.stopPropagation(),this.api.paste(t,!1),!1}},{key:"keyDownHandler",value:function(t){var e=this;if(!this.api.cfg.touchMode){var n=[9,12,16,17,18,19,20,27,32,33,34,35,36,37,38,39,40,44,45,46,91,92,93,145,225,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135],o=t.keyCode;-1!==n.indexOf(o)&&(this.api.cfg.virtualKB||this.isInputCaretControl(t.keyCode,t.target)||(t.preventDefault(),t.stopPropagation()));var i=this.getKBKey(Xo.keydown,t);if(!this.isClipboardEvent(i)){var a,s,l;if(this.isCtrlCmd(i)&&!(null===(a=i.key)||void 0===a?void 0:a.alt)&&t.preventDefault(),null!=this.latestKeyDownEvent&&(this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.latestKeyDownEvent=i,this.latestKeyDownEventSendTimeout=setTimeout((function(){e.enqueueInputEvent(e.latestKeyDownEvent),e.latestKeyDownEvent=void 0}),100),!Object(r.i)()&&!(null===(s=i.key)||void 0===s?void 0:s.ctrl)&&(null===(l=i.key)||void 0===l?void 0:l.alt)&&-1===n.indexOf(o)){if(t.preventDefault(),t.stopPropagation(),(i=this.getKBKey(Xo.keypress,t)).key)if(1===t.key.length)i.key.character=t.key.charCodeAt(0);else{var c,u,d=null===(c=i.key)||void 0===c?void 0:c.keycode;i.key.character=!(null===(u=i.key)||void 0===u?void 0:u.shift)&&d>=65&&d<=90?d+32:d}this.enqueueInputEvent(i)}8===t.keyCode&&(t.stopImmediatePropagation(),t.preventDefault())}return!1}}},{key:"isInputCaretControl",value:function(t,e){return!e.matches("[aria-hidden=true]")&&-1!==this.caretControlKeys.indexOf(t)}},{key:"keyPressHandler",value:function(t){if(!this.api.cfg.touchMode){var e,n,o=this.getKBKey(Xo.keypress,t);if(!this.isClipboardEvent(o))t.preventDefault(),t.stopPropagation(),(null===(e=this.latestKeyDownEvent)||void 0===e?void 0:e.key)&&(this.latestKeyDownEvent.key.character=null===(n=o.key)||void 0===n?void 0:n.character,this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.enqueueInputEvent(o);return Object(r.i)()&&o.key&&(o.key.alt=!1),!1}}},{key:"keyUpHandler",value:function(t){var e,n;if(!this.api.cfg.touchMode){var r=this.getKBKey(Xo.keyup,t);return null!=this.latestKeyDownEvent&&(null===(e=this.latestKeyDownEvent.key)||void 0===e?void 0:e.keycode)===(null===(n=r.key)||void 0===n?void 0:n.keycode)&&(this.enqueueInputEvent(this.latestKeyDownEvent),this.latestKeyDownEvent=void 0,clearTimeout(this.latestKeyDownEventSendTimeout),this.latestKeyDownEventSendTimeout=null),this.isClipboardEvent(r)||(this.api.cfg.virtualKB||this.isInputCaretControl(t.keyCode,t.target)||(t.preventDefault(),t.stopPropagation()),this.enqueueInputEvent(r),this.sendInput()),!1}}},{key:"isClipboardEvent",value:function(t){var e,n,r,o,i,a,s,l,c,u=this.isCtrlCmd(t),d=Xo.keypress===(null===(e=t.key)||void 0===e?void 0:e.type)?120===t.key.character||24===t.key.character||99===t.key.character:88===(null===(n=t.key)||void 0===n?void 0:n.character)||67===(null===(r=t.key)||void 0===r?void 0:r.character),p=u&&!(null===(o=t.key)||void 0===o?void 0:o.alt)&&!(null===(i=t.key)||void 0===i?void 0:i.shift)&&d,f=Xo.keypress===(null===(a=t.key)||void 0===a?void 0:a.type)?118===t.key.character||22===t.key.character||86===t.key.character:86===(null===(s=t.key)||void 0===s?void 0:s.character);return u&&!(null===(l=t.key)||void 0===l?void 0:l.alt)&&!(null===(c=t.key)||void 0===c?void 0:c.shift)&&f||p}},{key:"isCtrlCmd",value:function(t){var e,n;return this.api.cfg.isMac?null===(e=t.key)||void 0===e?void 0:e.meta:null===(n=t.key)||void 0===n?void 0:n.ctrl}},{key:"getTextWidth",value:function(t,e){var n=this.api.getCanvas().getContext("2d");n.save(),n.font=e;var r=n.measureText(t);return n.restore(),Math.ceil(r.width)+5}},{key:"updatePageOffset",value:function(t){var e,n=t.target;(null===(e=n.ownerDocument)||void 0===e?void 0:e.defaultView)&&(n.ownerDocument.defaultView.pageOffset={x:t.screenX-t.clientX,y:t.screenY-t.clientY})}},{key:"handleAccessibilityAccessKeys",value:function(t){var e=this;null!=this.ctrl3Timeout&&(clearTimeout(this.ctrl3Timeout),this.ctrl3Timeout=void 0);var n=(new Date).getTime();17===t.keyCode?(n-this.lastCtrlKey<1e3?this.ctrlCounter++:this.ctrlCounter=0,this.lastCtrlKey=n):this.ctrlCounter=0,this.ctrlCounter+1===3&&this.api.isAccessibilityEnabled()&&(this.ctrl3Timeout=setTimeout((function(){e.ctrlCounter=0,e.api.sendSimpleEvent({type:Ko.requestWindowSwitchList})}),1e3)),this.ctrlCounter+1===5&&(this.api.toggleAccessibility(),this.ctrlCounter=0)}},{key:"setMouseDownCanvas",value:function(t){this.mouseDownCanvas=Vo(t.target)?t.target:null,Vo(t.target)&&document.querySelectorAll(".webswing-html-canvas iframe").forEach((function(t){t.classList.add("webswing-iframe-muted-while-dragging")}))}},{key:"resetMouseDownCanvas",value:function(){this.mouseDownCanvas=void 0,document.querySelectorAll(".webswing-html-canvas iframe").forEach((function(t){t.classList.remove("webswing-iframe-muted-while-dragging")}))}},{key:"mouseDownEventHandler",value:function(t){this.mouseDown=this.mouseDown|Math.pow(2,t.which),this.mouseDownButton=t.which,this.setMouseDownCanvas(t)}},{key:"mouseOutEventHandler",value:function(t,e){Vo(t.target)||Vo(t.relatedTarget)||null!=this.mouseDownCanvas||this.mouseOutEventHandlerImpl(t,e)}},{key:"mouseOutEventHandlerImpl",value:function(t,e){if(0!==this.mouseDown&&this.api.cfg.hasControl&&this.api.cfg.canPaint&&!this.api.cfg.mirrorMode&&!this.api.cfg.touchMode&&!this.compositionInput){var n,r,o,i,a=this.getMousePos(t,Go.mouseup,t.target),s=this.api.getCanvas().getBoundingClientRect();((null===(n=a.mouse)||void 0===n?void 0:n.x)<0||(null===(r=a.mouse)||void 0===r?void 0:r.x)>s.width)&&(a.mouse.x=-1),((null===(o=a.mouse)||void 0===o?void 0:o.y)<0||(null===(i=a.mouse)||void 0===i?void 0:i.y)>s.height)&&(a.mouse.y=-1),this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(a),this.focusInput(e),this.sendInput()}this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas()}},{key:"mouseOverEventHandler",value:function(t){var e=t.target;if(!e||!e.matches||!e.matches("#canvas-overlay")&&!e.matches(".canvas-component")){var n=Math.pow(2,t.which);if(0!==this.mouseDownButton&&this.mouseDownButton!==t.which&&this.mouseDown!==n){var r=this.getMousePos(t,Go.mouseup,t.target);r.mouse.buttons=this.mouseDown,r.mouse.button=this.mouseDownButton,this.latestMouseMoveEvent=void 0,this.enqueueInputEvent(r),this.sendInput(),this.mouseDown=0,this.mouseDownButton=0,this.resetMouseDownCanvas()}}}},{key:"focusInput",value:function(t){this.api.focusInput(t)}},{key:"sentWordsUsingKeypressEvent",value:function(t){for(var e=0,n=t.length;e<n;e++)this.inputEvtQueue.push({key:{type:Xo.keypress,character:t.charCodeAt(e),keycode:0}})}},{key:"getMousePos",value:function(t,e,n){var o,i,a,s,l;o=n&&null!=n&&n.parentNode&&null!=n.parentNode&&n.parentNode.getBoundingClientRect?n.matches(".internal")?(null===(i=n.parentNode)||void 0===i?void 0:i.parentNode).getBoundingClientRect():n.parentNode.getBoundingClientRect():this.api.getCanvas().getBoundingClientRect(),n&&n.matches&&n.matches("canvas.webswing-canvas")&&n.dataset.id&&"canvas"!==n.dataset.id&&(n.matches(".internal")?n.parentNode&&(null===(s=n.parentElement)||void 0===s?void 0:s.dataset.ownerid)&&(a=null===(l=n.parentElement)||void 0===l?void 0:l.dataset.ownerid):a=n.dataset.id);var c,u,d=Math.round(t.clientX-o.left),p=Math.round(t.clientY-o.top),f=0;return"wheel"===t.type&&e===Go.mousewheel&&(f=Object(r.g)()?-Math.max(-1,Math.min(1,100*-t.deltaY)):Object(r.h)()<=11?-Math.max(-1,Math.min(1,-t.deltaY)):-Math.max(-1,Math.min(1,t.wheelDelta||-t.detail))),e!==Go.mouseup||n&&n.matches&&n.matches("canvas.webswing-canvas")||(d=-1,p=-1),e===Go.mouseup&&n&&n.matches&&!n.matches("canvas.webswing-canvas")&&null!=n.closest(".webswing-html-canvas")&&(o=null===(c=null===(u=n.closest(".webswing-html-canvas"))||void 0===u?void 0:u.parentNode)||void 0===c?void 0:c.getBoundingClientRect(),d=Math.round(t.clientX-o.left),p=Math.round(t.clientY-o.top)),{mouse:{x:d,y:p,type:e,wheelDelta:f,button:e===Go.mousemove?0:t.which,buttons:this.mouseDown,ctrl:t.ctrlKey,alt:t.altKey,shift:t.shiftKey,meta:t.metaKey,winId:a||"",timeMilis:Date.now()%864e5}}}},{key:"getKBKey",value:function(t,e){var n=e.which;0===n&&null!=e.key&&(n=e.key.charCodeAt(0));var r=e.keyCode;return 0===r&&(r=n),{key:{type:t,character:n,keycode:r,key:e.key,alt:e.altKey,ctrl:e.ctrlKey,shift:e.shiftKey,meta:e.metaKey}}}}])&&Uo(e.prototype,n),o&&Uo(e,o),a}(o.b);function Vo(t){return t&&t.matches&&t.matches("canvas.webswing-canvas")}function Qo(t){return!(Vo(t.target)||(e=t.target,e&&e.matches&&e.matches(".aria-element")));var e}function Zo(t){return!((e=t.target)&&e.matches&&(e.matches("input.ws-input-hidden")||e.matches("input.ws-input-ime")||e.matches("input.aria-element")||e.matches("textarea.aria-element")));var e}var ti=n(373),ei=n.n(ti);function ni(t){return(ni="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ri(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return oi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function oi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ii(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ai(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function si(t,e){return(si=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function li(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=di(t);if(e){var o=di(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ci(this,n)}}function ci(t,e){return!e||"object"!==ni(e)&&"function"!=typeof e?ui(t):e}function ui(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function di(t){return(di=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function pi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var fi={cfg:"webswing.config",taskbarConfig:"taskbar.config",shouldWindowShowInTaskbar:"taskbar.shouldWindowShowInTaskbar",activateWindow:"taskbar.activateWindow",restoreWindow:"taskbar.restoreWindow",translate:"translate.translate"},hi=b.appFrameProtoOut.WindowMsgOutProto.WindowClassTypeProto,gi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&si(t,e)}(i,t);var e,n,r,o=li(i);function i(){var t;ii(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return pi(ui(t=o.call.apply(o,[this].concat(n))),"taskbar",null),pi(ui(t),"taskbarButton",null),pi(ui(t),"taskbarMenu",null),pi(ui(t),"dragStartX",0),pi(ui(t),"dragStartY",0),pi(ui(t),"dragLeft",0),pi(ui(t),"dragTop",0),pi(ui(t),"dragging",!1),pi(ui(t),"wasDragging",!1),pi(ui(t),"snap",!0),pi(ui(t),"snapLimit",10),pi(ui(t),"winMap",{}),pi(ui(t),"effectTimer",null),pi(ui(t),"registeredListeners",[]),t}return e=i,(n=[{key:"provides",value:function(){return{"taskbar.init":this.init,"taskbar.dispose":this.dispose,"taskbar.updateWindowStates":this.updateWindowStates,"taskbar.config":this.config(),"taskbar.shouldWindowShowInTaskbar":this.shouldWindowShowInTaskbar,"taskbar.activateWindow":this.activateWindow,"taskbar.restoreWindow":this.restoreWindow,"taskbar.validatePosition":this.validatePositionAndSnap}}},{key:"config",value:function(){return{enabled:!1,autoHide:!0}}},{key:"init",value:function(){this.api.taskbarConfig.enabled&&!this.api.cfg.touchMode&&(this.taskbar||(this.api.cfg.rootElement.insertAdjacentHTML("beforeend",ei.a),this.taskbar=this.api.cfg.rootElement.querySelector("[data-id=taskbar]"),this.taskbar&&(this.taskbar.style.display="block",this.hideTaskbar(),this.initPosition(),this.taskbarButton=this.taskbar.querySelector(".ws-taskbar-button"),this.taskbarMenu=this.taskbar.querySelector(".ws-taskbar-menu"),this.taskbar.querySelector(".ws-taskbar-img").setAttribute("src",this.api.cfg.connectionUrl+"rest/appicon"),this.addListeners())))}},{key:"dispose",value:function(){this.hideTaskbar(),this.removeListeners(),this.taskbar&&this.taskbar.parentNode&&this.taskbar.parentNode.removeChild(this.taskbar),this.taskbar=null,this.taskbarButton=null}},{key:"addListeners",value:function(){var t=this;if(this.taskbar&&this.taskbarButton){var e=this.taskbar.querySelector(".ws-taskbar-list");e&&(this.registerGlobalListener(this.taskbarButton,"click",(function(){return t.handleTaskbarClick()})),this.registerGlobalListener(e,"click",(function(e){return t.handleTaskbarListClick(e)})),this.registerGlobalListener(document,"mousedown",(function(e){return t.handleTaskbarMousedown(e)}),!0),this.registerGlobalListener(document,"mouseup",(function(){return t.handleTaskbarMouseup()})),this.registerGlobalListener(document,"mousemove",(function(e){return t.handleTaskbarMousemove(e)})))}}},{key:"removeListeners",value:function(){var t,e=ri(this.registeredListeners);try{for(e.s();!(t=e.n()).done;){var n=t.value;n.target&&(n.useCapture?n.target.removeEventListener(n.name,n.listener,n.useCapture):n.target.removeEventListener(n.name,n.listener))}}catch(t){e.e(t)}finally{e.f()}}},{key:"registerGlobalListener",value:function(t,e,n,r){t.addEventListener(e,n,r),this.registeredListeners.push({target:t,name:e,listener:n,useCapture:r})}},{key:"handleTaskbarClick",value:function(){this.wasDragging?this.wasDragging=!1:this.toggleMenu()}},{key:"handleTaskbarListClick",value:function(t){var e=t.target;if(e.classList.contains("ws-taskbar-list-item")){var n=e.getAttribute("data-id");if(!n)return;var r=this.winMap[n];r.minimized&&this.api.restoreWindow(r.win),this.api.activateWindow(r.win),this.closeMenu()}}},{key:"handleTaskbarMousedown",value:function(t){this.dragging=!1,this.wasDragging=!1,t.target.closest(".ws-taskbar-button")?(this.dragStartX=t.clientX,this.dragStartY=t.clientY,this.dragLeft=this.taskbar.offsetLeft,this.dragTop=this.taskbar.offsetTop,this.dragging=!0):t.target.closest(".ws-taskbar-menu")||this.closeMenu()}},{key:"handleTaskbarMouseup",value:function(){this.dragging=!1}},{key:"handleTaskbarMousemove",value:function(t){this.dragging&&(this.wasDragging=!0,this.closeMenu(),this.taskbar.style.bottom="auto",this.taskbar.style.left=this.dragLeft+(t.clientX-this.dragStartX)+"px",this.taskbar.style.right="auto",this.taskbar.style.top=this.dragTop+(t.clientY-this.dragStartY)+"px",this.taskbar.style.bottom="auto",localStorage.setItem("wt_left",this.taskbar.style.left),localStorage.setItem("wt_top",this.taskbar.style.top),this.validatePositionAndSnap())}},{key:"initPosition",value:function(){this.taskbar.style.top="auto",this.taskbar.style.bottom="0",this.taskbar.style.right="auto",this.taskbar.style.left="0","true"===localStorage.getItem("wt_st")?this.taskbar.style.top="0":localStorage.getItem("wt_top")&&(this.taskbar.style.top=localStorage.getItem("wt_top")),"true"===localStorage.getItem("wt_sl")?this.taskbar.style.left="0":localStorage.getItem("wt_left")&&(this.taskbar.style.left=localStorage.getItem("wt_left")),"true"===localStorage.getItem("wt_sb")&&(this.taskbar.style.bottom="0",this.taskbar.style.top="auto"),"true"===localStorage.getItem("wt_sr")&&(this.taskbar.style.right="0",this.taskbar.style.left="auto"),this.validatePositionAndSnap()}},{key:"validatePositionAndSnap",value:function(){if(this.taskbar&&this.taskbarMenu){var t=!1,e=!1,n=!1,r=!1;this.snap&&(this.taskbar.offsetLeft<=this.snapLimit&&(this.taskbar.style.left="0",this.taskbar.style.right="auto",t=!0),this.taskbar.offsetTop<=this.snapLimit&&(this.taskbar.style.top="0",this.taskbar.style.bottom="auto",e=!0),this.api.cfg.rootElement.offsetHeight-(this.taskbar.offsetTop+this.taskbar.clientHeight)<=this.snapLimit&&(this.taskbar.style.bottom="0",this.taskbar.style.top="auto",n=!0),this.api.cfg.rootElement.offsetWidth-(this.taskbar.offsetLeft+this.taskbar.clientWidth)<=this.snapLimit&&(this.taskbar.style.right="0",this.taskbar.style.left="auto",r=!0),localStorage.setItem("wt_st",e+""),localStorage.setItem("wt_sb",n+""),localStorage.setItem("wt_sl",t+""),localStorage.setItem("wt_sr",r+"")),this.api.cfg.rootElement.offsetHeight-this.taskbar.offsetTop-this.taskbar.clientHeight>=this.taskbarMenu.offsetHeight?(this.taskbarMenu.style.top=this.taskbar.clientHeight+"px",this.taskbarMenu.style.bottom="auto"):(this.taskbarMenu.style.bottom=this.taskbar.clientHeight+"px",this.taskbarMenu.style.top="auto"),this.api.cfg.rootElement.offsetWidth-this.taskbar.offsetLeft>=this.taskbarMenu.offsetWidth?(this.taskbarMenu.style.left="0",this.taskbarMenu.style.right="auto"):(this.taskbarMenu.style.right="0",this.taskbarMenu.style.left="auto")}}},{key:"constructMenu",value:function(){if(this.taskbar){var t=this.taskbar.querySelector(".ws-taskbar-list");if(t){var e=this.taskbar.querySelectorAll(".ws-taskbar-list-item");if(e)for(var n=0;n<e.length;n++){var r=e[n],o=r.getAttribute("data-id");o&&this.winMap[o]?r.textContent=this.winMap[o].title:t.removeChild(r)}for(var i in this.winMap)if(i in this.winMap){var a=this.winMap[i];if(!this.taskbar.querySelector('.ws-taskbar-list-item[data-id="'+i+'"]')){var s=document.createElement("li");s.setAttribute("data-id",a.id),s.classList.add("ws-taskbar-list-item"),s.textContent=a.title,t.appendChild(s)}}this.validatePositionAndSnap()}}}},{key:"updateWindowStates",value:function(t){var e=this;if(this.api.taskbarConfig.enabled&&this.taskbar)if(null!=t){var n=0,r=!0,o={};for(var i in t)if(i in t){var a=t[i];if(!this.api.shouldWindowShowInTaskbar(a))continue;var s={id:i,title:!a.htmlWindow&&a.title&&a.title.length?a.title:this.api.translate("taskbar.window.untitled"),win:a,minimized:!a.htmlWindow&&a.minimized||!1};r=r&&s.minimized;var l=this.winMap[i]&&this.winMap[i].minimized!==s.minimized,c=!this.winMap[i]&&s.minimized;(l||c)&&(s.minimized?(a.element.classList.add("ws-minimized"),a.element.style.display="",this.taskbar.classList.add("minimized-effect"),null!=this.effectTimer&&clearTimeout(this.effectTimer),this.effectTimer=setTimeout((function(){e.effectTimer=null,e.taskbar.classList.remove("minimized-effect")}),2e3)):(a.element.classList.remove("ws-minimized"),a.element.style.display="inline")),o[i]=s,n++}this.winMap=o,0!==n?this.api.taskbarConfig.autoHide&&1===n&&!r?this.hideTaskbar():(this.showTaskbar(),this.taskbar.classList.contains("active")&&this.constructMenu()):this.hideTaskbar()}else this.api.taskbarConfig.autoHide&&this.hideTaskbar()}},{key:"shouldWindowShowInTaskbar",value:function(t){if(t.htmlWindow||t.internal)return!1;switch(t.classType){case hi.Dialog:case hi.JDialog:case hi.Frame:case hi.JFrame:return!0;default:return!1}}},{key:"activateWindow",value:function(t){t.htmlWindow||t.toFront()}},{key:"restoreWindow",value:function(t){t.htmlWindow||(t.restore(),t.element&&t.element.classList.remove("ws-minimized"))}},{key:"toggleMenu",value:function(){this.taskbar&&(this.taskbar.classList.toggle("active"),this.taskbar.classList.contains("active")&&this.constructMenu())}},{key:"hideTaskbar",value:function(){this.taskbar&&(this.taskbar.style.visibility="hidden",this.taskbar.classList.remove("minimized-effect"),this.closeMenu())}},{key:"showTaskbar",value:function(){this.taskbar&&(this.taskbar.style.visibility="visible")}},{key:"closeMenu",value:function(){this.taskbar&&this.taskbar.classList.remove("active")}}])&&ai(e.prototype,n),r&&ai(e,r),i}(o.b);function yi(t){return(yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bi(t,e){return(bi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ki(t);if(e){var o=ki(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Oi(this,n)}}function Oi(t,e){return!e||"object"!==yi(e)&&"function"!=typeof e?Pi(t):e}function Pi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ki(t){return(ki=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Si(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ii={send:"socket.send",beep:"audio.beep"},Ei=b.appFrameProtoOut.AudioEventMsgOutProto.AudioEventTypeProto,Ti=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&bi(t,e)}(i,t);var e,n,r,o=mi(i);function i(){var t;vi(this,i);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Si(Pi(t=o.call.apply(o,[this].concat(n))),"audio",{}),Si(Pi(t),"audioPlaybackPingInterval",1e3),Si(Pi(t),"beepAudio",new Audio("data:audio/wav;base64,//uQRAAAAWMSLwUIYAAsYkXgoQwAEaYLWfkWgAI0wWs/ItAAAGDgYtAgAyN+QWaAAihwMWm4G8QQRDiMcCBcH3Cc+CDv/7xA4Tvh9Rz/y8QADBwMWgQAZG/ILNAARQ4GLTcDeIIIhxGOBAuD7hOfBB3/94gcJ3w+o5/5eIAIAAAVwWgQAVQ2ORaIQwEMAJiDg95G4nQL7mQVWI6GwRcfsZAcsKkJvxgxEjzFUgfHoSQ9Qq7KNwqHwuB13MA4a1q/DmBrHgPcmjiGoh//EwC5nGPEmS4RcfkVKOhJf+WOgoxJclFz3kgn//dBA+ya1GhurNn8zb//9NNutNuhz31f////9vt///z+IdAEAAAK4LQIAKobHItEIYCGAExBwe8jcToF9zIKrEdDYIuP2MgOWFSE34wYiR5iqQPj0JIeoVdlG4VD4XA67mAcNa1fhzA1jwHuTRxDUQ//iYBczjHiTJcIuPyKlHQkv/LHQUYkuSi57yQT//uggfZNajQ3Vmz+Zt//+mm3Wm3Q576v////+32///5/EOgAAADVghQAAAAA//uQZAUAB1WI0PZugAAAAAoQwAAAEk3nRd2qAAAAACiDgAAAAAAABCqEEQRLCgwpBGMlJkIz8jKhGvj4k6jzRnqasNKIeoh5gI7BJaC1A1AoNBjJgbyApVS4IDlZgDU5WUAxEKDNmmALHzZp0Fkz1FMTmGFl1FMEyodIavcCAUHDWrKAIA4aa2oCgILEBupZgHvAhEBcZ6joQBxS76AgccrFlczBvKLC0QI2cBoCFvfTDAo7eoOQInqDPBtvrDEZBNYN5xwNwxQRfw8ZQ5wQVLvO8OYU+mHvFLlDh05Mdg7BT6YrRPpCBznMB2r//xKJjyyOh+cImr2/4doscwD6neZjuZR4AgAABYAAAABy1xcdQtxYBYYZdifkUDgzzXaXn98Z0oi9ILU5mBjFANmRwlVJ3/6jYDAmxaiDG3/6xjQQCCKkRb/6kg/wW+kSJ5//rLobkLSiKmqP/0ikJuDaSaSf/6JiLYLEYnW/+kXg1WRVJL/9EmQ1YZIsv/6Qzwy5qk7/+tEU0nkls3/zIUMPKNX/6yZLf+kFgAfgGyLFAUwY//uQZAUABcd5UiNPVXAAAApAAAAAE0VZQKw9ISAAACgAAAAAVQIygIElVrFkBS+Jhi+EAuu+lKAkYUEIsmEAEoMeDmCETMvfSHTGkF5RWH7kz/ESHWPAq/kcCRhqBtMdokPdM7vil7RG98A2sc7zO6ZvTdM7pmOUAZTnJW+NXxqmd41dqJ6mLTXxrPpnV8avaIf5SvL7pndPvPpndJR9Kuu8fePvuiuhorgWjp7Mf/PRjxcFCPDkW31srioCExivv9lcwKEaHsf/7ow2Fl1T/9RkXgEhYElAoCLFtMArxwivDJJ+bR1HTKJdlEoTELCIqgEwVGSQ+hIm0NbK8WXcTEI0UPoa2NbG4y2K00JEWbZavJXkYaqo9CRHS55FcZTjKEk3NKoCYUnSQ0rWxrZbFKbKIhOKPZe1cJKzZSaQrIyULHDZmV5K4xySsDRKWOruanGtjLJXFEmwaIbDLX0hIPBUQPVFVkQkDoUNfSoDgQGKPekoxeGzA4DUvnn4bxzcZrtJyipKfPNy5w+9lnXwgqsiyHNeSVpemw4bWb9psYeq//uQZBoABQt4yMVxYAIAAAkQoAAAHvYpL5m6AAgAACXDAAAAD59jblTirQe9upFsmZbpMudy7Lz1X1DYsxOOSWpfPqNX2WqktK0DMvuGwlbNj44TleLPQ+Gsfb+GOWOKJoIrWb3cIMeeON6lz2umTqMXV8Mj30yWPpjoSa9ujK8SyeJP5y5mOW1D6hvLepeveEAEDo0mgCRClOEgANv3B9a6fikgUSu/DmAMATrGx7nng5p5iimPNZsfQLYB2sDLIkzRKZOHGAaUyDcpFBSLG9MCQALgAIgQs2YunOszLSAyQYPVC2YdGGeHD2dTdJk1pAHGAWDjnkcLKFymS3RQZTInzySoBwMG0QueC3gMsCEYxUqlrcxK6k1LQQcsmyYeQPdC2YfuGPASCBkcVMQQqpVJshui1tkXQJQV0OXGAZMXSOEEBRirXbVRQW7ugq7IM7rPWSZyDlM3IuNEkxzCOJ0ny2ThNkyRai1b6ev//3dzNGzNb//4uAvHT5sURcZCFcuKLhOFs8mLAAEAt4UWAAIABAAAAAB4qbHo0tIjVkUU//uQZAwABfSFz3ZqQAAAAAngwAAAE1HjMp2qAAAAACZDgAAAD5UkTE1UgZEUExqYynN1qZvqIOREEFmBcJQkwdxiFtw0qEOkGYfRDifBui9MQg4QAHAqWtAWHoCxu1Yf4VfWLPIM2mHDFsbQEVGwyqQoQcwnfHeIkNt9YnkiaS1oizycqJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=")),t}return e=i,(n=[{key:"provides",value:function(){return{"audio.handleAudio":this.handleAudio,"audio.dispose":this.dispose,"audio.beep":this.beep}}},{key:"handleAudio",value:function(t){var e=this;switch(t.eventType){case Ei.beep:this.api.beep();break;case Ei.play:var n=this.audio[t.id];if(n)n.paused&&(n.loopCount=t.loop||0,null!=t.time&&t.time>0&&(n.currentTime=t.time),this.startAudioPing(n),n.play());else{var r=new Blob([t.data],{type:"audio/mpeg"}),o=window.URL.createObjectURL(r);(n=new Audio).src=o,n.id=t.id,n.loopCount=t.loop||0,null!=t.time&&t.time>0&&(n.currentTime=t.time),n.addEventListener("ended",(function(t){return e.audioEndedHandler(t)})),this.audio[t.id]=n,this.startAudioPing(n),n.play()}break;case Ei.stop:var i=this.audio[t.id];i&&(i.pause(),this.stopAudioPing(i));break;case Ei.update:var a=this.audio[t.id];a&&null!=t.time&&t.time>0&&(a.currentTime=t.time);break;case Ei.dispose:var s=this.audio[t.id];s&&s.paused&&delete this.audio[t.id]}}},{key:"dispose",value:function(){for(var t in this.audio)if(t in this.audio){var e=this.audio[t];e&&(e.pause(),this.stopAudioPing(e))}this.audio={}}},{key:"audioEndedHandler",value:function(t){var e=t.srcElement;if(e){if(!e.loopCount||1===e.loopCount)return e.loopCount=0,e.currentTime=0,e.pause(),this.stopAudioPing(e),void this.api.send({audio:{id:e.id,stop:!0}});e.loopCount=e.loopCount-1,e.play()}}},{key:"startAudioPing",value:function(t){var e=this;t.playbackTimer&&clearInterval(t.playbackTimer),t.playbackTimer=setInterval((function(){e.api.send({audio:{id:t.id,ping:!0}})}),this.audioPlaybackPingInterval)}},{key:"stopAudioPing",value:function(t){t&&t.playbackTimer&&clearInterval(t.playbackTimer)}},{key:"beep",value:function(){this.beepAudio.play()}}])&&wi(e.prototype,n),r&&wi(e,r),i}(o.b);function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xi(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return Mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Mi(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){s=!0,i=t},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw i}}}}function Mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ai(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Di(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ci(t,e){return(Ci=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Li(t);if(e){var o=Li(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Bi(this,n)}}function Bi(t,e){return!e||"object"!==ji(e)&&"function"!=typeof e?Ri(t):e}function Ri(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Li(t){return(Li=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wi(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ui={cfg:"webswing.config",send:"socket.send",sendTabsUpdate:"socket.sendTabsUpdate",showOverlay:"dialog.showOverlay",hideOverlay:"dialog.hideOverlay",dialogs:"dialog.content",showDialog:"dialog.show",currentDialog:"dialog.current",hideDialog:"dialog.hide",getWindows:"render.getWindows",getWindowById:"render.getWindowById",registerUndockedCanvas:"input.registerUndockedCanvas",getInstanceId:"socket.instanceId",repaint:"render.repaint",getDesktopSize:"canvas.getDesktopSize",getRenderedWindows:"render.getRenderedWindows",disconnect:"webswing.disconnect",kill:"base.kill",dockConfig:"dock.dockConfig"},_i=m.appFrameProtoIn.WindowEventMsgInProto.WindowEventTypeProto,Ni=b.appFrameProtoOut.WindowMsgOutProto.DockModeProto,Hi=b.appFrameProtoOut.WindowMsgOutProto.DockStateProto,qi=i.commonProto.TabStateMsgInProto.TabStateTypeProto,zi=i.commonProto.TabStateMsgInProto.TabOriginTypeProto,Ji=i.commonProto.TabStateMsgInProto.TabEventTypeProto,Yi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ci(t,e)}(a,t);var e,n,o,i=Fi(a);function a(){var t;Ai(this,a);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Wi(Ri(t=i.call.apply(i,[this].concat(n))),"timerCanvasResize",void 0),Wi(Ri(t),"timerChecker",void 0),Wi(Ri(t),"timerWindowResize",void 0),Wi(Ri(t),"timerModalOverlay",void 0),Wi(Ri(t),"canvasResizeInterval",250),Wi(Ri(t),"checkInterval",1e3),Wi(Ri(t),"ignoreCanvasResizeTimestamp",null),Wi(Ri(t),"tabOwnerCanvas",null),Wi(Ri(t),"pendingUndockEvents",[]),Wi(Ri(t),"pendingUndockEventExpiration",3e3),Wi(Ri(t),"instanceTabEventExpiration",5e3),Wi(Ri(t),"lastModalRequest",null),Wi(Ri(t),"checkRenderedWindowsStart",void 0),Wi(Ri(t),"requestTabCloseTimeout",3e3),Wi(Ri(t),"lastPosition",{x:0,y:0}),t}return e=a,(n=[{key:"provides",value:function(){return{"dock.dispose":this.dispose,"dock.reset":this.reset,"dock.handleWindowDockState":this.handleWindowDockState,"dock.checkUndockedModalBlocked":this.checkUndockedModalBlocked,"dock.undockWindow":this.undockWindow,"dock.dockWindow":this.dockWindow,"dock.setInstanceTab":this.setInstanceTab,"dock.removeInstanceTab":this.removeInstanceTab,"dock.onUndockedWindowResize":this.onUndockedWindowResize,"dock.onUndockedWindowClose":this.onUndockedWindowClose,"dock.handleUndockEvent":this.handleUndockEvent,"dock.checkPendingUndockEvents":this.checkPendingUndockEvents,"dock.hasPendingUndockEvent":this.hasPendingUndockEvent,"dock.checkRenderedWindows":this.checkRenderedWindows,"dock.checkUndockedSize":this.checkUndockedSize,"dock.getTabOwnerCanvas":this.getTabOwnerCanvas,"dock.dockConfig":this.dockConfig()}}},{key:"dispose",value:function(){this.api.cfg.undockedStart&&(clearInterval(this.timerCanvasResize),clearInterval(this.timerChecker)),this.api.hideOverlay(window,this.api.dialogs.dockingModalityOverlay)}},{key:"reset",value:function(){var t=this;this.api.cfg.undockedStart&&(clearInterval(this.timerCanvasResize),clearInterval(this.timerChecker),this.timerCanvasResize=setInterval((function(){return t.onCanvasResized()}),this.canvasResizeInterval),this.timerChecker=setInterval((function(){return t.checkInternal()}),this.checkInterval))}},{key:"checkPendingUndockEvents",value:function(){var t,e=[],n=(new Date).getTime(),r=xi(this.pendingUndockEvents);try{for(r.s();!(t=r.n()).done;){var o=t.value,i=this.api.getWindowById(o.undockEvent.windowId);i?i.htmlWindow||this.handleUndockEventInternal(o.undockEvent.undock,i):n-o.timestamp<this.pendingUndockEventExpiration&&e.push(o)}}catch(t){r.e(t)}finally{r.f()}this.pendingUndockEvents=e}},{key:"hasPendingUndockEvent",value:function(t){var e,n=xi(this.pendingUndockEvents);try{for(n.s();!(e=n.n()).done;)if(e.value.undockEvent.windowId===t)return!0}catch(t){n.e(t)}finally{n.f()}return!1}},{key:"handleUndockEvent",value:function(t){var e=this.api.getWindowById(t.windowId);if(e){if(!e.htmlWindow){var n=e;this.handleUndockEventInternal(t.undock,n)}}else this.pendingUndockEvents.push({undockEvent:t,timestamp:(new Date).getTime()})}},{key:"handleUndockEventInternal",value:function(t,e){if(e.tabId===window.name)if(t){var n=e.element.getBoundingClientRect();this.undockWindow(e.id,e.tabId,!1,e.element,n.left,n.top,n.width,n.height,null,null)}else this.dockWindow(e)}},{key:"undockWindow",value:function(t,e,n,o,i,a,s,l,c,u){if(!this.api.cfg.mirrorMode&&e===window.name){var d;d=o.parentNode?o.parentNode.ownerDocument.defaultView:window;var p=Object(r.l)(this.api.cfg.connectionUrl);p=p.lastIndexOf("/")!==p.length-1?p+"/":p;var f=this.api.getInstanceId(),h="tid_u_"+Object(r.b)()+"-"+f+"-"+Object(r.q)();this.setInstanceTab(f,h,qi.Disconnected,zi.Undocked),this.api.send({window:{id:t,eventType:n?_i.undockHidden:_i.undock,x:0,y:0,width:Math.floor(s),height:Math.floor(l),tabId:h}});var g=d.pageOffset;g||(g={x:0,y:0});var y={x:i+g.x,y:a+g.y},v=!1;null!=c&&(y.x=c+(window.screen.availLeft||0),v=!0),null!=u&&(y.y=u+(window.screen.availTop||0),v=!0);var w=window.open(p,h,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width="+s+",height="+l+",top="+y.y+",left="+y.x);null!=w?(localStorage.setItem("wthb_"+h,String((new Date).getTime())),w.webswingInit={top:y.y,left:y.x,width:s,height:l,screenPosOverride:v},v||setTimeout((function(){if(w){var t=w.outerHeight-w.innerHeight-8,e=w.outerWidth-w.innerWidth-8;w.moveBy(0-e,0-t)}}),100)):this.api.dockConfig.killWhenPopupBlocked?(this.api.showDialog(this.api.dialogs.popupsBlockedDialog),this.api.kill(),this.api.disconnect()):this.api.send({window:{id:t,eventType:_i.forceDock,x:i,y:a,tabId:e}})}}},{key:"dockWindow",value:function(t){if(!this.api.cfg.mirrorMode&&this.api.cfg.undockedStart&&t.tabId===window.name&&t.dockMode!==Ni.none&&t.dockState!==Hi.docked){var e=this.getTabOwnerCanvas();if(e&&e.id===t.id){var n=window.pageOffset;n||(n={x:0,y:0});var r={x:0,y:0};if(window.opener){var o=window.opener.pageOffset;r=o||{x:window.opener.screenX,y:window.opener.screenY}}this.api.send({window:{id:t.id,eventType:_i.dock,x:Math.floor((0!==n.x?n.x:window.screenX)-r.x),y:Math.floor((0!==n.y?n.y:window.screenY)-r.y)}}),this.checkUndockedModalBlocked()}}}},{key:"handleWindowDockState",value:function(t,e){var n=e.tabId===window.name&&e.tabId!==t.tabId&&e.dockState!==t.dockState&&t.dockState===Hi.undocked;if(e.tabId=t.tabId,void 0!==t.dockState)if(this.api.cfg.mirrorMode)e.dockState=t.dockState;else{if(e.element&&(e.tabId!==window.name||t.dockState===Hi.toBeUndocked?e.element.classList.add("ws-render-blocked"):e.element.classList.remove("ws-render-blocked")),t.dockState===Hi.toBeUndocked&&t.tabId===window.name){if(t.dockMode===Ni.none)return;return e.dockState=t.dockState,void(e.isUndocking||(e.isUndocking=!0,this.undockWindow(t.id,e.tabId,!1,e.element,t.posX,t.posY,t.width,t.height,t.screenPosX||null,t.screenPosY||null)))}e.isUndocking=!1,e.dockState!==t.dockState&&(e.dockState=t.dockState,t.dockState===Hi.undocked?n&&this.windowUndocked(e):e.tabId===window.name?(e.element.classList.remove("ws-render-blocked"),this.api.repaint(),this.windowDocked(e)):this.getTabOwnerCanvas()===e&&(e.preventTocClose=!0,window.close()),this.checkUndockedModalBlocked())}}},{key:"checkUndockedModalBlocked",value:function(){0!==document.querySelectorAll(".webswing-canvas:not([data-id=canvas])").length&&0!==document.querySelectorAll(".webswing-canvas.modal-blocked:not(.ws-render-blocked)").length&&0===document.querySelectorAll(".webswing-canvas:not(.modal-blocked):not(.ws-render-blocked):not([data-id=canvas])").length?this.requestToggleOverlay(!0):this.requestToggleOverlay(!1)}},{key:"requestToggleOverlay",value:function(t){var e=this;if(this.timerModalOverlay){if(null!=this.lastModalRequest&&this.lastModalRequest===t)return;clearTimeout(this.timerModalOverlay)}this.lastModalRequest=t,this.timerModalOverlay=setTimeout((function(){e.timerModalOverlay=null,e.lastModalRequest=null,t?e.api.showOverlay(window,e.api.dialogs.dockingModalityOverlay):e.api.hideOverlay(window,e.api.dialogs.dockingModalityOverlay)}),100)}},{key:"onUndockedWindowResize",value:function(){var t=this;this.ignoreCanvasResizeTimestamp=(new Date).getTime(),this.timerWindowResize&&clearTimeout(this.timerWindowResize),this.timerWindowResize=setTimeout((function(){t.timerWindowResize=null,t.autoResizeTocToWindow()}),100)}},{key:"onCanvasResized",value:function(){var t=(new Date).getTime();if(!(this.ignoreCanvasResizeTimestamp&&t-this.ignoreCanvasResizeTimestamp<1e3)){var e=0,n=0,r=this.api.getRenderedWindows(!0);if(r&&r.length){var o,i=xi(r);try{for(i.s();!(o=i.n()).done;){var a=o.value.element.getBoundingClientRect();a.left+a.width>e&&(e=a.left+a.width),a.top+a.height>n&&(n=a.top+a.height)}}catch(t){i.e(t)}finally{i.f()}var s=e-window.innerWidth,l=n-window.innerHeight;0===s&&0===l||window.resizeBy(s,l)}}}},{key:"checkInternal",value:function(){this.checkWindowPosition(),this.checkRenderedWindows(),this.checkUndockedSize()}},{key:"checkWindowPosition",value:function(){if(this.api.cfg.undockedStart&&(this.lastPosition.x!==window.screenX||this.lastPosition.y!==window.screenY)){this.lastPosition={x:window.screenX,y:window.screenY};var t=this.getTabOwnerCanvas(!0);t&&this.api.send({window:{eventType:_i.updateTabPosition,id:t.id,x:this.lastPosition.x,y:this.lastPosition.y}})}}},{key:"checkRenderedWindows",value:function(){if(this.api.cfg.undockedStart){var t=this.api.getRenderedWindows(!0);t&&t.length?this.api.currentDialog()==this.api.dialogs.undockWaitingDialog&&(this.checkRenderedWindowsStart=null,this.api.hideDialog()):(null==this.api.currentDialog()&&(this.api.showDialog(this.api.dialogs.undockWaitingDialog),this.checkRenderedWindowsStart=(new Date).getTime()),this.checkRenderedWindowsStart&&(new Date).getTime()-this.checkRenderedWindowsStart>this.requestTabCloseTimeout&&this.api.send({window:{eventType:_i.checkTabClose,tabId:window.name}}))}}},{key:"checkUndockedSize",value:function(){this.autoResizeTocToWindow()}},{key:"autoResizeTocToWindow",value:function(){var t=this.getTabOwnerCanvas(!0);if(t&&t.element&&t.resizable){var e=t.element.parentElement.getBoundingClientRect(),n=t.element.getBoundingClientRect();Math.round(n.width)===Math.round(e.width)&&Math.round(n.height)===Math.round(e.height)||t.setBounds(0,0,Math.round(e.width),Math.round(e.height))}}},{key:"onUndockedWindowClose",value:function(){if(this.api.cfg.undockedStart){var t=this.getTabOwnerCanvas(!0);t&&(t.preventTocClose||t.close(),this.api.repaint()),setTimeout((function(){window.close()}),1)}}},{key:"getTabOwnerCanvas",value:function(t){if(!this.tabOwnerCanvas||t){this.tabOwnerCanvas=null;var e=this.api.getWindows(!0);if(!e||!e.length)return;var n,r=xi(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.tabId&&o.tabId===window.name&&o.dockState===Hi.undocked){this.tabOwnerCanvas=o;break}}}catch(t){r.e(t)}finally{r.f()}}return this.tabOwnerCanvas}},{key:"removeInstanceTab",value:function(){if(!this.api.cfg.mirror){var t={id:window.name,state:qi.Disconnected,origin:this.api.cfg.undockedStart?zi.Undocked:zi.Primary,event:Ji.Removed,timestamp:(new Date).getTime()};localStorage.setItem("webswing_tabsupdate_"+this.api.getInstanceId(),JSON.stringify(t)),this.api.sendTabsUpdate({tabs:[t]})}}},{key:"setInstanceTab",value:function(t,e,n,o){if(!this.api.cfg.mirror){var i=this.api.getDesktopSize(),a={id:e,state:n,origin:o,event:Ji.Added,desktopWidth:i.width,desktopHeight:i.height,dpr:Object(r.p)(),userScreenWidth:window.screen.availWidth,userScreenHeight:window.screen.availHeight,userScreenX:window.screenX,userScreenY:window.screenY,browserOuterWidth:window.outerWidth,browserOuterHeight:window.outerHeight,timestamp:(new Date).getTime()};localStorage.setItem("webswing_tabsupdate_"+t,JSON.stringify(a)),this.api.sendTabsUpdate({tabs:[a]});var s=[],l=(new Date).getTime();for(var c in localStorage)if(c.startsWith("webswing_tabsupdate_")){var u=JSON.parse(localStorage.getItem(c));u&&u.timestamp&&l-u.timestamp>this.instanceTabEventExpiration&&s.push(c)}for(var d=0,p=s;d<p.length;d++){var f=p[d];localStorage.removeItem(f)}}}},{key:"windowUndocked",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowUndocked&&this.api.cfg.windowsListener.windowUndocked(t)}catch(t){console.error(t)}}},{key:"windowDocked",value:function(t){try{this.api.cfg.windowsListener&&this.api.cfg.windowsListener.windowDocked&&this.api.cfg.windowsListener.windowDocked(t)}catch(t){console.error(t)}}},{key:"dockConfig",value:function(){return{killWhenPopupBlocked:!1}}}])&&Di(e.prototype,n),o&&Di(e,o),a}(o.b);n(391);Object(en.b)().then((function(t){var e=function(t){var e=Object(r.c)(t),n={scan:function(t){t=null!=t?t:n;var e={},o=document.querySelectorAll("[data-webswing-instance]");for(var a in o.forEach((function(n){var r=n.dataset.webswingInstance;if("false"!==n.dataset.webswingActive){var o,a;null!=t[r]&&null!=t[r].options&&null!=t[r].options.customization&&"function"==typeof t[r].options.customization&&(a=t[r].options.customization),null===(o=n.querySelector("#loading"))||void 0===o||o.remove();var s=i(n,a,t[r]?t[r].options:null);n.setAttribute("data-webswing-active","true"),null!=r&&(e[r]=s)}})),e)e.hasOwnProperty(a)&&(null!=t[a]&&null!=t[a].disconnect&&(console.warn("Bootstrapping Webswing instance named '"+a+"'.Instance with this name has already been bootstrapped. Disconnecting old instance."),t[a].disconnect(),delete t[a]),t[a]=Object(r.j)(e[a],t[a]))},bootstrap:function(t,e){return i(t,e)}};return n;function i(n,r,i){var a=new o.a;a.addModule("webswing",new y(a,n,i),f),a.addModule("dialog",new Rr(a),Br),a.addModule("canvas",new br(a),wr),a.addModule("base",new R(a),D),a.addModule("render",new at(a),Q),a.addModule("input",new $o(a),Yo),a.addModule("touch",new Co(a),Do),a.addModule("socket",new St(a),Ot),a.addModule("files",new co(a),eo),a.addModule("login",new Ft(a,e),Ct),a.addModule("identity",new Ht(a),{}),a.addModule("jslink",new re(a),te),a.addModule("clipboard",new Se(a),Oe),a.addModule("playback",new We(a),Re),a.addModule("mirror",new tn(a),Qe),a.addModule("translate",new en.a(a,t),{}),a.addModule("ping",new gn(a),hn),a.addModule("accessible",new qn(a),Hn),a.addModule("focusManager",new lr(a),ar),a.addModule("taskbar",new gi(a),fi),a.addModule("audio",new Ti(a),Ii),a.addModule("dock",new Yi(a),Ui);var s=new En(a);return a.addModule("external",s,In),null!=r&&r(a),a.injectAndVerify(),s.getApi()}}(t),n=document.querySelector("[data-webswing-global-var]");if(n){var i=String(n.dataset.webswingGlobalVar);window[i]=e,e.scan(window)}else e.scan(window)}))},,,function(t,e){}]);